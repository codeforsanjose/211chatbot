botpress="object"==typeof botpress?botpress:{},botpress.nlu=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js/modules/",n(n.s=90)}([function(e,t,n){"use strict";n.r(t),n.d(t,"version",function(){return mr}),n.d(t,"Collection",function(){return O}),n.d(t,"Iterable",function(){return br}),n.d(t,"Seq",function(){return $}),n.d(t,"Map",function(){return Pt}),n.d(t,"OrderedMap",function(){return _n}),n.d(t,"List",function(){return nn}),n.d(t,"Stack",function(){return xn}),n.d(t,"Set",function(){return Bn}),n.d(t,"OrderedSet",function(){return rr}),n.d(t,"Record",function(){return sr}),n.d(t,"Range",function(){return Un}),n.d(t,"Repeat",function(){return vr}),n.d(t,"is",function(){return de}),n.d(t,"fromJS",function(){return yr}),n.d(t,"hash",function(){return ye}),n.d(t,"isImmutable",function(){return P}),n.d(t,"isCollection",function(){return m}),n.d(t,"isKeyed",function(){return b}),n.d(t,"isIndexed",function(){return w}),n.d(t,"isAssociative",function(){return x}),n.d(t,"isOrdered",function(){return B}),n.d(t,"isValueObject",function(){return fe}),n.d(t,"get",function(){return rt}),n.d(t,"getIn",function(){return qn}),n.d(t,"has",function(){return nt}),n.d(t,"hasIn",function(){return Wn}),n.d(t,"merge",function(){return mt}),n.d(t,"mergeDeep",function(){return bt}),n.d(t,"mergeWith",function(){return gt}),n.d(t,"mergeDeepWith",function(){return kt}),n.d(t,"remove",function(){return it}),n.d(t,"removeIn",function(){return lt}),n.d(t,"set",function(){return at}),n.d(t,"setIn",function(){return st}),n.d(t,"update",function(){return dt}),n.d(t,"updateIn",function(){return ut});var r=5,o=1<<r,i=o-1,a={};function u(e){e&&(e.value=!0)}function s(){}function c(e){return void 0===e.size&&(e.size=e.__iterate(f)),e.size}function l(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?c(e)+t:t}function f(){return!0}function d(e,t,n){return(0===e&&!y(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function h(e,t){return v(e,t,0)}function p(e,t){return v(e,t,t)}function v(e,t,n){return void 0===e?n:y(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function y(e){return e<0||0===e&&1/e==-1/0}var _="@@__IMMUTABLE_ITERABLE__@@";function m(e){return Boolean(e&&e[_])}var g="@@__IMMUTABLE_KEYED__@@";function b(e){return Boolean(e&&e[g])}var k="@@__IMMUTABLE_INDEXED__@@";function w(e){return Boolean(e&&e[k])}function x(e){return b(e)||w(e)}var O=function(e){return m(e)?e:$(e)},E=function(e){function t(e){return b(e)?e:Z(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(O),S=function(e){function t(e){return w(e)?e:Q(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(O),A=function(e){function t(e){return m(e)&&!x(e)?e:X(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(O);O.Keyed=E,O.Indexed=S,O.Set=A;var T="@@__IMMUTABLE_SEQ__@@";function N(e){return Boolean(e&&e[T])}var j="@@__IMMUTABLE_RECORD__@@";function C(e){return Boolean(e&&e[j])}function P(e){return m(e)||C(e)}var I="@@__IMMUTABLE_ORDERED__@@";function B(e){return Boolean(e&&e[I])}var F=0,R=1,D=2,M="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",z=M||L,U=function(e){this.next=e};function q(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function K(){return{value:void 0,done:!0}}function W(e){return!!G(e)}function J(e){return e&&"function"==typeof e.next}function V(e){var t=G(e);return t&&t.call(e)}function G(e){var t=e&&(M&&e[M]||e[L]);if("function"==typeof t)return t}U.prototype.toString=function(){return"[Iterator]"},U.KEYS=F,U.VALUES=R,U.ENTRIES=D,U.prototype.inspect=U.prototype.toSource=function(){return this.toString()},U.prototype[z]=function(){return this};var Y=Object.prototype.hasOwnProperty;function H(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var $=function(e){function t(e){return null===e||void 0===e?oe():P(e)?e.toSeq():function(e){var t=ue(e);if(t)return t;if("object"==typeof e)return new te(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,o=0;o!==r;){var i=n[t?r-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,o=0;return new U(function(){if(o===r)return{value:void 0,done:!0};var i=n[t?r-++o:o++];return q(e,i[0],i[1])})}return this.__iteratorUncached(e,t)},t}(O),Z=function(e){function t(e){return null===e||void 0===e?oe().toKeyedSeq():m(e)?b(e)?e.toSeq():e.fromEntrySeq():C(e)?e.toSeq():ie(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}($),Q=function(e){function t(e){return null===e||void 0===e?oe():m(e)?b(e)?e.entrySeq():e.toIndexedSeq():C(e)?e.toSeq().entrySeq():ae(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}($),X=function(e){function t(e){return(m(e)&&!x(e)?e:Q(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}($);$.isSeq=N,$.Keyed=Z,$.Set=X,$.Indexed=Q,$.prototype[T]=!0;var ee=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[l(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,o=0;o!==r;){var i=t?r-++o:o++;if(!1===e(n[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,o=0;return new U(function(){if(o===r)return{value:void 0,done:!0};var i=t?r-++o:o++;return q(e,i,n[i])})},t}(Q),te=function(e){function t(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return Y.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length,i=0;i!==o;){var a=r[t?o-++i:i++];if(!1===e(n[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length,i=0;return new U(function(){if(i===o)return{value:void 0,done:!0};var a=r[t?o-++i:i++];return q(e,a,n[a])})},t}(Z);te.prototype[I]=!0;var ne,re=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=V(this._collection),r=0;if(J(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=V(this._collection);if(!J(n))return new U(K);var r=0;return new U(function(){var t=n.next();return t.done?t:q(e,r++,t.value)})},t}(Q);function oe(){return ne||(ne=new ee([]))}function ie(e){var t=Array.isArray(e)?new ee(e):W(e)?new re(e):void 0;if(t)return t.fromEntrySeq();if("object"==typeof e)return new te(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function ae(e){var t=ue(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function ue(e){return H(e)?new ee(e):W(e)?new re(e):void 0}var se="@@__IMMUTABLE_MAP__@@";function ce(e){return Boolean(e&&e[se])}function le(e){return ce(e)&&B(e)}function fe(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function de(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(fe(e)&&fe(t)&&e.equals(t))}var he="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function pe(e){return e>>>1&1073741824|3221225471&e}var ve=Object.prototype.valueOf;function ye(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return pe(t)}(e);case"string":return e.length>Oe?function(e){var t=Ae[e];void 0===t&&(t=_e(e),Se===Ee&&(Se=0,Ae={}),Se++,Ae[e]=t);return t}(e):_e(e);case"object":case"function":return null===e?1108378658:"function"==typeof e.hashCode?pe(e.hashCode(e)):(e.valueOf!==ve&&"function"==typeof e.valueOf&&(e=e.valueOf(e)),function(e){var t;if(ke&&void 0!==(t=be.get(e)))return t;if(void 0!==(t=e[xe]))return t;if(!ge){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[xe]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++we,1073741824&we&&(we=0);if(ke)be.set(e,t);else{if(void 0!==me&&!1===me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(ge)Object.defineProperty(e,xe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[xe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[xe]=t}}return t}(e));case"undefined":return 1108378659;default:if("function"==typeof e.toString)return _e(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function _e(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return pe(t)}var me=Object.isExtensible,ge=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var be,ke="function"==typeof WeakMap;ke&&(be=new WeakMap);var we=0,xe="__immutablehash__";"function"==typeof Symbol&&(xe=Symbol(xe));var Oe=16,Ee=255,Se=0,Ae={},Te=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Be(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=Ie(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t,r){return e(t,r,n)},t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(Z);Te.prototype[I]=!0;var Ne=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&c(this),this._iter.__iterate(function(o){return e(o,t?n.size-++r:r++,n)},t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(R,t),o=0;return t&&c(this),new U(function(){var i=r.next();return i.done?i:q(e,t?n.size-++o:o++,i.value,i)})},t}(Q),je=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(R,t);return new U(function(){var t=n.next();return t.done?t:q(e,t.value,t.value,t)})},t}(X),Ce=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){We(t);var r=m(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(R,t);return new U(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){We(r);var o=m(r);return q(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},t}(Z);function Pe(e){var t=Ve(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Ge,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===D){var r=e.__iterator(t,n);return new U(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===R?F:R,n)},t}function Ie(e,t,n){var r=Ve(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,a);return i===a?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(D,o);return new U(function(){var o=i.next();if(o.done)return o;var a=o.value,u=a[0];return q(r,u,t.call(n,a[1],u,e),o)})},r}function Be(e,t){var n=this,r=Ve(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Pe(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=Ge,r.__iterate=function(n,r){var o=this,i=0;return r&&c(e),e.__iterate(function(e,a){return n(e,t?a:r?o.size-++i:i++,o)},!r)},r.__iterator=function(r,o){var i=0;o&&c(e);var a=e.__iterator(D,!o);return new U(function(){var e=a.next();if(e.done)return e;var u=e.value;return q(r,t?u[0]:o?n.size-++i:i++,u[1],e)})},r}function Fe(e,t,n,r){var o=Ve(e);return r&&(o.has=function(r){var o=e.get(r,a);return o!==a&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,a);return i!==a&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,u=0;return e.__iterate(function(e,i,s){if(t.call(n,e,i,s))return u++,o(e,r?i:u-1,a)},i),u},o.__iteratorUncached=function(o,i){var a=e.__iterator(D,i),u=0;return new U(function(){for(;;){var i=a.next();if(i.done)return i;var s=i.value,c=s[0],l=s[1];if(t.call(n,l,c,e))return q(o,r?c:u++,l,i)}})},o}function Re(e,t,n,r){var o=e.size;if(d(t,n,o))return e;var i=h(t,o),a=p(n,o);if(i!=i||a!=a)return Re(e.toSeq().cacheResult(),t,n,r);var u,s=a-i;s==s&&(u=s<0?0:s);var c=Ve(e);return c.size=0===u?u:e.size&&u||void 0,!r&&N(e)&&u>=0&&(c.get=function(t,n){return(t=l(this,t))>=0&&t<u?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var o=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,s=!0,c=0;return e.__iterate(function(e,n){if(!s||!(s=a++<i))return c++,!1!==t(e,r?n:c-1,o)&&c!==u}),c},c.__iteratorUncached=function(t,n){if(0!==u&&n)return this.cacheResult().__iterator(t,n);if(0===u)return new U(K);var o=e.__iterator(t,n),a=0,s=0;return new U(function(){for(;a++<i;)o.next();if(++s>u)return{value:void 0,done:!0};var e=o.next();return r||t===R||e.done?e:q(t,s-1,t===F?void 0:e.value[1],e)})},c}function De(e,t,n,r){var o=Ve(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var u=!0,s=0;return e.__iterate(function(e,i,c){if(!u||!(u=t.call(n,e,i,c)))return s++,o(e,r?i:s-1,a)}),s},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var u=e.__iterator(D,i),s=!0,c=0;return new U(function(){var e,i,l;do{if((e=u.next()).done)return r||o===R?e:q(o,c++,o===F?void 0:e.value[1],e);var f=e.value;i=f[0],l=f[1],s&&(s=t.call(n,l,i,a))}while(s);return o===D?e:q(o,i,l,e)})},o}function Me(e,t,n){var r=Ve(e);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,u=!1;return function e(s,c){s.__iterate(function(i,s){return(!t||c<t)&&m(i)?e(i,c+1):(a++,!1===o(i,n?s:a-1,r)&&(u=!0)),!u},i)}(e,0),a},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(r,o),a=[],u=0;return new U(function(){for(;i;){var e=i.next();if(!1===e.done){var s=e.value;if(r===D&&(s=s[1]),t&&!(a.length<t)||!m(s))return n?e:q(r,u++,s,e);a.push(i),i=s.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}})},r}function Le(e,t,n){t||(t=Ye);var r=b(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).valueSeq().toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?Z(i):w(e)?Q(i):X(i)}function ze(e,t,n){if(t||(t=Ye),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Ue(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Ue(t,e,n)?n:e})}function Ue(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!=n)||r>0}function qe(e,t,n,r){var o=Ve(e),i=new ee(n).map(function(e){return e.size});return o.size=r?i.max():i.min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(R,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map(function(e){return e=O(e),V(o?e.reverse():e)}),a=0,u=!1;return new U(function(){var n;return u||(n=i.map(function(e){return e.next()}),u=r?n.every(function(e){return e.done}):n.some(function(e){return e.done})),u?{value:void 0,done:!0}:q(e,a++,t.apply(null,n.map(function(e){return e.value})))})},o}function Ke(e,t){return e===t?e:N(e)?t:e.constructor(t)}function We(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Je(e){return b(e)?E:w(e)?S:A}function Ve(e){return Object.create((b(e)?Z:w(e)?Q:X).prototype)}function Ge(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):$.prototype.cacheResult.call(this)}function Ye(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function He(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function $e(e,t){if(!e)throw new Error(t)}function Ze(e){$e(e!==1/0,"Cannot perform this action with an infinite size.")}function Qe(e){if(H(e)&&"string"!=typeof e)return e;if(B(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function Xe(e){return e&&("function"!=typeof e.constructor||"Object"===e.constructor.name)}function et(e){return"object"==typeof e&&(P(e)||Array.isArray(e)||Xe(e))}function tt(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function nt(e,t){return P(e)?e.has(t):et(e)&&Y.call(e,t)}function rt(e,t,n){return P(e)?e.get(t,n):nt(e,t)?"function"==typeof e.get?e.get(t):e[t]:n}function ot(e){if(Array.isArray(e))return He(e);var t={};for(var n in e)Y.call(e,n)&&(t[n]=e[n]);return t}function it(e,t){if(!et(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(P(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Y.call(e,t))return e;var n=ot(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function at(e,t,n){if(!et(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(P(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Y.call(e,t)&&n===e[t])return e;var r=ot(e);return r[t]=n,r}function ut(e,t,n,r){r||(r=n,n=void 0);var o=function e(t,n,r,o,i,u){var s=n===a;if(o===r.length){var c=s?i:n,l=u(c);return l===c?n:l}if(!s&&!et(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,o).map(tt)+"]: "+n);var f=r[o];var d=s?a:rt(n,f,a);var h=e(d===a?t:P(d),d,r,o+1,i,u);return h===d?n:h===a?it(n,f):at(s?t?Wt():{}:n,f,h)}(P(e),e,Qe(t),0,n,r);return o===a?n:o}function st(e,t,n){return ut(e,t,a,function(){return n})}function ct(e,t){return st(this,e,t)}function lt(e,t){return ut(e,t,function(){return a})}function ft(e){return lt(this,e)}function dt(e,t,n,r){return ut(e,[t],n,r)}function ht(e,t,n){return 1===arguments.length?e(this):dt(this,e,t,n)}function pt(e,t,n){return ut(this,e,t,n)}function vt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return _t(this,e)}function yt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return _t(this,t,e)}function _t(e,t,n){for(var r=[],o=0;o<t.length;o++){var i=E(t[o]);0!==i.size&&r.push(i)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var t=n?function(t,r){dt(e,r,a,function(e){return e===a?t:n(e,t,r)})}:function(t,n){e.set(n,t)},o=0;o<r.length;o++)r[o].forEach(t)}):e.constructor(r[0])}function mt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return xt(e,t)}function gt(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return xt(t,n,e)}function bt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return wt(e,t)}function kt(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return wt(t,n,e)}function wt(e,t,n){return xt(e,t,function(e){return function t(n,r,o){return et(n)&&et(r)?xt(n,[r],t):e?e(n,r,o):r}}(n))}function xt(e,t,n){if(!et(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(P(e))return"function"==typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),o=e,i=r?S:E,a=r?function(t){o===e&&(o=ot(o)),o.push(t)}:function(t,r){var i=Y.call(o,r),a=i&&n?n(o[r],t,r):t;i&&a===o[r]||(o===e&&(o=ot(o)),o[r]=a)},u=0;u<t.length;u++)i(t[u]).forEach(a);return o}function Ot(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return wt(this,e)}function Et(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return wt(this,t,e)}function St(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ut(this,e,Wt(),function(e){return xt(e,t)})}function At(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ut(this,e,Wt(),function(e){return wt(e,t)})}function Tt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Nt(){return this.__ownerID?this:this.__ensureOwner(new s)}function jt(){return this.__ensureOwner()}function Ct(){return this.__altered}Ne.prototype.cacheResult=Te.prototype.cacheResult=je.prototype.cacheResult=Ce.prototype.cacheResult=Ge;var Pt=function(e){function t(t){return null===t||void 0===t?Wt():ce(t)&&!B(t)?t:Wt().withMutations(function(n){var r=e(t);Ze(r.size),r.forEach(function(e,t){return n.set(t,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Wt().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Jt(this,e,t)},t.prototype.remove=function(e){return Jt(this,e,a)},t.prototype.deleteAll=function(e){var t=O(e);return 0===t.size?this:this.withMutations(function(e){t.forEach(function(t){return e.remove(t)})})},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Wt()},t.prototype.sort=function(e){return _n(Le(this,e))},t.prototype.sortBy=function(e,t){return _n(Le(this,t,e))},t.prototype.map=function(e,t){return this.withMutations(function(n){n.forEach(function(r,o){n.set(o,e.call(t,r,o,n))})})},t.prototype.__iterator=function(e,t){return new zt(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Kt(this.size,this._root,e,this.__hash):0===this.size?Wt():(this.__ownerID=e,this.__altered=!1,this)},t}(E);Pt.isMap=ce;var It=Pt.prototype;It[se]=!0,It.delete=It.remove,It.removeAll=It.deleteAll,It.setIn=ct,It.removeIn=It.deleteIn=ft,It.update=ht,It.updateIn=pt,It.merge=It.concat=vt,It.mergeWith=yt,It.mergeDeep=Ot,It.mergeDeepWith=Et,It.mergeIn=St,It.mergeDeepIn=At,It.withMutations=Tt,It.wasAltered=Ct,It.asImmutable=jt,It["@@transducer/init"]=It.asMutable=Nt,It["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},It["@@transducer/result"]=function(e){return e.asImmutable()};var Bt=function(e,t){this.ownerID=e,this.entries=t};Bt.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(de(n,o[i][0]))return o[i][1];return r},Bt.prototype.update=function(e,t,n,r,o,i,c){for(var l=o===a,f=this.entries,d=0,h=f.length;d<h&&!de(r,f[d][0]);d++);var p=d<h;if(p?f[d][1]===o:l)return this;if(u(c),(l||!p)&&u(i),!l||1!==f.length){if(!p&&!l&&f.length>=Zt)return function(e,t,n,r){e||(e=new s);for(var o=new Mt(e,ye(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,f,r,o);var v=e&&e===this.ownerID,y=v?f:He(f);return p?l?d===h-1?y.pop():y[d]=y.pop():y[d]=[r,o]:y.push([r,o]),v?(this.entries=y,this):new Bt(e,y)}};var Ft=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};Ft.prototype.get=function(e,t,n,o){void 0===t&&(t=ye(n));var a=1<<((0===e?t:t>>>e)&i),u=this.bitmap;return 0==(u&a)?o:this.nodes[Ht(u&a-1)].get(e+r,t,n,o)},Ft.prototype.update=function(e,t,n,u,s,c,l){void 0===n&&(n=ye(u));var f=(0===t?n:n>>>t)&i,d=1<<f,h=this.bitmap,p=0!=(h&d);if(!p&&s===a)return this;var v=Ht(h&d-1),y=this.nodes,_=p?y[v]:void 0,m=Vt(_,e,t+r,n,u,s,c,l);if(m===_)return this;if(!p&&m&&y.length>=Qt)return function(e,t,n,r,i){for(var a=0,u=new Array(o),s=0;0!==n;s++,n>>>=1)u[s]=1&n?t[a++]:void 0;return u[r]=i,new Rt(e,a+1,u)}(e,y,h,f,m);if(p&&!m&&2===y.length&&Gt(y[1^v]))return y[1^v];if(p&&m&&1===y.length&&Gt(m))return m;var g=e&&e===this.ownerID,b=p?m?h:h^d:h|d,k=p?m?$t(y,v,m,g):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(y,v,g):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,u=0;u<o;u++)u===t?(i[u]=n,a=-1):i[u]=e[u+a];return i}(y,v,m,g);return g?(this.bitmap=b,this.nodes=k,this):new Ft(e,b,k)};var Rt=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Rt.prototype.get=function(e,t,n,o){void 0===t&&(t=ye(n));var a=(0===e?t:t>>>e)&i,u=this.nodes[a];return u?u.get(e+r,t,n,o):o},Rt.prototype.update=function(e,t,n,o,u,s,c){void 0===n&&(n=ye(o));var l=(0===t?n:n>>>t)&i,f=u===a,d=this.nodes,h=d[l];if(f&&!h)return this;var p=Vt(h,e,t+r,n,o,u,s,c);if(p===h)return this;var v=this.count;if(h){if(!p&&--v<Xt)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),u=0,s=1,c=t.length;u<c;u++,s<<=1){var l=t[u];void 0!==l&&u!==r&&(o|=s,a[i++]=l)}return new Ft(e,o,a)}(e,d,v,l)}else v++;var y=e&&e===this.ownerID,_=$t(d,l,p,y);return y?(this.count=v,this.nodes=_,this):new Rt(e,v,_)};var Dt=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Dt.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(de(n,o[i][0]))return o[i][1];return r},Dt.prototype.update=function(e,t,n,r,o,i,s){void 0===n&&(n=ye(r));var c=o===a;if(n!==this.keyHash)return c?this:(u(s),u(i),Yt(this,e,t,n,[r,o]));for(var l=this.entries,f=0,d=l.length;f<d&&!de(r,l[f][0]);f++);var h=f<d;if(h?l[f][1]===o:c)return this;if(u(s),(c||!h)&&u(i),c&&2===d)return new Mt(e,this.keyHash,l[1^f]);var p=e&&e===this.ownerID,v=p?l:He(l);return h?c?f===d-1?v.pop():v[f]=v.pop():v[f]=[r,o]:v.push([r,o]),p?(this.entries=v,this):new Dt(e,this.keyHash,v)};var Mt=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};Mt.prototype.get=function(e,t,n,r){return de(n,this.entry[0])?this.entry[1]:r},Mt.prototype.update=function(e,t,n,r,o,i,s){var c=o===a,l=de(r,this.entry[0]);return(l?o===this.entry[1]:c)?this:(u(s),c?void u(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new Mt(e,this.keyHash,[r,o]):(u(i),Yt(this,e,t,ye(r),[r,o])))},Bt.prototype.iterate=Dt.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Ft.prototype.iterate=Rt.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Mt.prototype.iterate=function(e,t){return e(this.entry)};var Lt,zt=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&qt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,o=void 0;if(n.entry){if(0===r)return Ut(e,n.entry)}else if(n.entries){if(r<=(o=n.entries.length-1))return Ut(e,n.entries[this._reverse?o-r:r])}else if(r<=(o=n.nodes.length-1)){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return Ut(e,i.entry);t=this._stack=qt(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(U);function Ut(e,t){return q(e,t[0],t[1])}function qt(e,t){return{node:e,index:0,__prev:t}}function Kt(e,t,n,r){var o=Object.create(It);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Wt(){return Lt||(Lt=Kt(0))}function Jt(e,t,n){var r,o;if(e._root){var i={value:!1},u={value:!1};if(r=Vt(e._root,e.__ownerID,0,void 0,t,n,i,u),!u.value)return e;o=e.size+(i.value?n===a?-1:1:0)}else{if(n===a)return e;o=1,r=new Bt(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Kt(o,r):Wt()}function Vt(e,t,n,r,o,i,s,c){return e?e.update(t,n,r,o,i,s,c):i===a?e:(u(c),u(s),new Mt(t,r,[o,i]))}function Gt(e){return e.constructor===Mt||e.constructor===Dt}function Yt(e,t,n,o,a){if(e.keyHash===o)return new Dt(t,o,[e.entry,a]);var u,s=(0===n?e.keyHash:e.keyHash>>>n)&i,c=(0===n?o:o>>>n)&i,l=s===c?[Yt(e,t,n+r,o,a)]:(u=new Mt(t,o,a),s<c?[e,u]:[u,e]);return new Ft(t,1<<s|1<<c,l)}function Ht(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function $t(e,t,n,r){var o=r?e:He(e);return o[t]=n,o}var Zt=o/4,Qt=o/2,Xt=o/4,en="@@__IMMUTABLE_LIST__@@";function tn(e){return Boolean(e&&e[en])}var nn=function(e){function t(t){var n=ln();if(null===t||void 0===t)return n;if(tn(t))return t;var i=e(t),a=i.size;return 0===a?n:(Ze(a),a>0&&a<o?cn(0,a,r,null,new on(i.toArray())):n.withMutations(function(e){e.setSize(a),i.forEach(function(t,n){return e.set(n,t)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=l(this,e))>=0&&e<this.size){var n=hn(this,e+=this._origin);return n&&n.array[e&i]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=l(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?pn(e,t).set(0,n):pn(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i={value:!1};t>=vn(e._capacity)?r=fn(r,e.__ownerID,0,t,n,i):o=fn(o,e.__ownerID,e._level,t,n,i);if(!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return cn(e._origin,e._capacity,e._level,o,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ln()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){pn(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},t.prototype.pop=function(){return pn(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){pn(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},t.prototype.shift=function(){return pn(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var o=t[r],i=e("string"!=typeof o&&W(o)?o:[o]);0!==i.size&&n.push(i)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(e){n.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(n[0])},t.prototype.setSize=function(e){return pn(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations(function(r){for(var o=0;o<n.size;o++)r.set(o,e.call(t,r.get(o),o,r))})},t.prototype.slice=function(e,t){var n=this.size;return d(e,t,n)?this:pn(this,h(e,n),p(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=sn(this,t);return new U(function(){var o=r();return o===un?{value:void 0,done:!0}:q(e,t?--n:n++,o)})},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,o=sn(this,t);(n=o())!==un&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?cn(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?ln():(this.__ownerID=e,this.__altered=!1,this)},t}(S);nn.isList=tn;var rn=nn.prototype;rn[en]=!0,rn.delete=rn.remove,rn.merge=rn.concat,rn.setIn=ct,rn.deleteIn=rn.removeIn=ft,rn.update=ht,rn.updateIn=pt,rn.mergeIn=St,rn.mergeDeepIn=At,rn.withMutations=Tt,rn.wasAltered=Ct,rn.asImmutable=jt,rn["@@transducer/init"]=rn.asMutable=Nt,rn["@@transducer/step"]=function(e,t){return e.push(t)},rn["@@transducer/result"]=function(e){return e.asImmutable()};var on=function(e,t){this.array=e,this.ownerID=t};on.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var o=n>>>t&i;if(o>=this.array.length)return new on([],e);var a,u=0===o;if(t>0){var s=this.array[o];if((a=s&&s.removeBefore(e,t-r,n))===s&&u)return this}if(u&&!a)return this;var c=dn(this,e);if(!u)for(var l=0;l<o;l++)c.array[l]=void 0;return a&&(c.array[o]=a),c},on.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var o,a=n-1>>>t&i;if(a>=this.array.length)return this;if(t>0){var u=this.array[a];if((o=u&&u.removeAfter(e,t-r,n))===u&&a===this.array.length-1)return this}var s=dn(this,e);return s.array.splice(a+1),o&&(s.array[a]=o),s};var an,un={};function sn(e,t){var n=e._origin,i=e._capacity,a=vn(i),u=e._tail;return s(e._root,e._level,0);function s(e,c,l){return 0===c?function(e,r){var s=r===a?u&&u.array:e&&e.array,c=r>n?0:n-r,l=i-r;l>o&&(l=o);return function(){if(c===l)return un;var e=t?--l:c++;return s&&s[e]}}(e,l):function(e,a,u){var c,l=e&&e.array,f=u>n?0:n-u>>a,d=1+(i-u>>a);d>o&&(d=o);return function(){for(;;){if(c){var e=c();if(e!==un)return e;c=null}if(f===d)return un;var n=t?--d:f++;c=s(l&&l[n],a-r,u+(n<<a))}}}(e,c,l)}}function cn(e,t,n,r,o,i,a){var u=Object.create(rn);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=o,u.__ownerID=i,u.__hash=a,u.__altered=!1,u}function ln(){return an||(an=cn(0,0,r))}function fn(e,t,n,o,a,s){var c,l=o>>>n&i,f=e&&l<e.array.length;if(!f&&void 0===a)return e;if(n>0){var d=e&&e.array[l],h=fn(d,t,n-r,o,a,s);return h===d?e:((c=dn(e,t)).array[l]=h,c)}return f&&e.array[l]===a?e:(s&&u(s),c=dn(e,t),void 0===a&&l===c.array.length-1?c.array.pop():c.array[l]=a,c)}function dn(e,t){return t&&e&&t===e.ownerID?e:new on(e?e.array.slice():[],t)}function hn(e,t){if(t>=vn(e._capacity))return e._tail;if(t<1<<e._level+r){for(var n=e._root,o=e._level;n&&o>0;)n=n.array[t>>>o&i],o-=r;return n}}function pn(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var o=e.__ownerID||new s,a=e._origin,u=e._capacity,c=a+t,l=void 0===n?u:n<0?u+n:a+n;if(c===a&&l===u)return e;if(c>=l)return e.clear();for(var f=e._level,d=e._root,h=0;c+h<0;)d=new on(d&&d.array.length?[void 0,d]:[],o),h+=1<<(f+=r);h&&(c+=h,a+=h,l+=h,u+=h);for(var p=vn(u),v=vn(l);v>=1<<f+r;)d=new on(d&&d.array.length?[d]:[],o),f+=r;var y=e._tail,_=v<p?hn(e,l-1):v>p?new on([],o):y;if(y&&v>p&&c<u&&y.array.length){for(var m=d=dn(d,o),g=f;g>r;g-=r){var b=p>>>g&i;m=m.array[b]=dn(m.array[b],o)}m.array[p>>>r&i]=y}if(l<u&&(_=_&&_.removeAfter(o,0,l)),c>=v)c-=v,l-=v,f=r,d=null,_=_&&_.removeBefore(o,0,c);else if(c>a||v<p){for(h=0;d;){var k=c>>>f&i;if(k!==v>>>f&i)break;k&&(h+=(1<<f)*k),f-=r,d=d.array[k]}d&&c>a&&(d=d.removeBefore(o,f,c-h)),d&&v<p&&(d=d.removeAfter(o,f,v-h)),h&&(c-=h,l-=h)}return e.__ownerID?(e.size=l-c,e._origin=c,e._capacity=l,e._level=f,e._root=d,e._tail=_,e.__hash=void 0,e.__altered=!0,e):cn(c,l,f,d,_)}function vn(e){return e<o?0:e-1>>>r<<r}var yn,_n=function(e){function t(e){return null===e||void 0===e?gn():le(e)?e:gn().withMutations(function(t){var n=E(e);Ze(n.size),n.forEach(function(e,n){return t.set(n,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):gn()},t.prototype.set=function(e,t){return bn(this,e,t)},t.prototype.remove=function(e){return bn(this,e,a)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?mn(t,n,e,this.__hash):0===this.size?gn():(this.__ownerID=e,this._map=t,this._list=n,this)},t}(Pt);function mn(e,t,n,r){var o=Object.create(_n.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function gn(){return yn||(yn=mn(Wt(),ln()))}function bn(e,t,n){var r,i,u=e._map,s=e._list,c=u.get(t),l=void 0!==c;if(n===a){if(!l)return e;s.size>=o&&s.size>=2*u.size?(r=(i=s.filter(function(e,t){return void 0!==e&&c!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=u.remove(t),i=c===s.size-1?s.pop():s.set(c,void 0))}else if(l){if(n===s.get(c)[1])return e;r=u,i=s.set(c,[t,n])}else r=u.set(t,s.size),i=s.set(s.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):mn(r,i)}_n.isOrderedMap=le,_n.prototype[I]=!0,_n.prototype.delete=_n.prototype.remove;var kn="@@__IMMUTABLE_STACK__@@";function wn(e){return Boolean(e&&e[kn])}var xn=function(e){function t(e){return null===e||void 0===e?An():wn(e)?e:An().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=l(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Sn(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&wn(t))return t;Ze(t.size);var n=this.size,r=this._head;return t.__iterate(function(e){n++,r={value:e,next:r}},!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):Sn(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):An()},t.prototype.slice=function(t,n){if(d(t,n,this.size))return this;var r=h(t,this.size);if(p(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Sn(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Sn(this.size,this._head,e,this.__hash):0===this.size?An():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new ee(this.toArray()).__iterate(function(t,r){return e(t,r,n)},t);for(var r=0,o=this._head;o&&!1!==e(o.value,r++,this);)o=o.next;return r},t.prototype.__iterator=function(e,t){if(t)return new ee(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new U(function(){if(r){var t=r.value;return r=r.next,q(e,n++,t)}return{value:void 0,done:!0}})},t}(S);xn.isStack=wn;var On,En=xn.prototype;function Sn(e,t,n,r){var o=Object.create(En);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function An(){return On||(On=Sn(0))}En[kn]=!0,En.shift=En.pop,En.unshift=En.push,En.unshiftAll=En.pushAll,En.withMutations=Tt,En.wasAltered=Ct,En.asImmutable=jt,En["@@transducer/init"]=En.asMutable=Nt,En["@@transducer/step"]=function(e,t){return e.unshift(t)},En["@@transducer/result"]=function(e){return e.asImmutable()};var Tn="@@__IMMUTABLE_SET__@@";function Nn(e){return Boolean(e&&e[Tn])}function jn(e){return Nn(e)&&B(e)}function Cn(e,t){if(e===t)return!0;if(!m(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||b(e)!==b(t)||w(e)!==w(t)||B(e)!==B(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!x(e);if(B(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&de(o[1],e)&&(n||de(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var u=!0,s=t.__iterate(function(t,r){if(n?!e.has(t):o?!de(t,e.get(r,a)):!de(e.get(r,a),t))return u=!1,!1});return u&&e.size===s}function Pn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function In(e){if(!e||"object"!=typeof e)return e;if(!m(e)){if(!et(e))return e;e=$(e)}if(b(e)){var t={};return e.__iterate(function(e,n){t[n]=In(e)}),t}var n=[];return e.__iterate(function(e){n.push(In(e))}),n}var Bn=function(e){function t(t){return null===t||void 0===t?Ln():Nn(t)&&!B(t)?t:Ln().withMutations(function(n){var r=e(t);Ze(r.size),r.forEach(function(e){return n.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(E(e).keySeq())},t.intersect=function(e){return(e=O(e).toArray()).length?Rn.intersect.apply(t(e.pop()),e):Ln()},t.union=function(e){return(e=O(e).toArray()).length?Rn.union.apply(t(e.pop()),e):Ln()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Dn(this,this._map.set(e,e))},t.prototype.remove=function(e){return Dn(this,this._map.remove(e))},t.prototype.clear=function(){return Dn(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=[],o=[];return this.forEach(function(i){var a=e.call(t,i,i,n);a!==i&&(r.push(i),o.push(a))}),this.withMutations(function(e){r.forEach(function(t){return e.remove(t)}),o.forEach(function(t){return e.add(t)})})},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(n){for(var r=0;r<t.length;r++)e(t[r]).forEach(function(e){return n.add(e)})}):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.sort=function(e){return rr(Le(this,e))},t.prototype.sortBy=function(e,t){return rr(Le(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(A);Bn.isSet=Nn;var Fn,Rn=Bn.prototype;function Dn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Mn(e,t){var n=Object.create(Rn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Ln(){return Fn||(Fn=Mn(Wt()))}Rn[Tn]=!0,Rn.delete=Rn.remove,Rn.merge=Rn.concat=Rn.union,Rn.withMutations=Tt,Rn.asImmutable=jt,Rn["@@transducer/init"]=Rn.asMutable=Nt,Rn["@@transducer/step"]=function(e,t){return e.add(t)},Rn["@@transducer/result"]=function(e){return e.asImmutable()},Rn.__empty=Ln,Rn.__make=Mn;var zn,Un=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if($e(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(zn)return zn;zn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+l(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return d(e,n,this.size)?this:(e=h(e,this.size),(n=p(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;i!==n&&!1!==e(o,t?n-++i:i++,this);)o+=t?-r:r;return i},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;return new U(function(){if(i===n)return{value:void 0,done:!0};var a=o;return o+=t?-r:r,q(e,t?n-++i:i++,a)})},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Cn(this,e)},t}(Q);function qn(e,t,n){for(var r=Qe(t),o=0;o!==r.length;)if((e=rt(e,r[o++],a))===a)return n;return e}function Kn(e,t){return qn(this,e,t)}function Wn(e,t){return qn(e,t,a)!==a}function Jn(){Ze(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}O.isIterable=m,O.isKeyed=b,O.isIndexed=w,O.isAssociative=x,O.isOrdered=B,O.Iterator=U,Pn(O,{toArray:function(){Ze(this.size);var e=new Array(this.size||0),t=b(this),n=0;return this.__iterate(function(r,o){e[n++]=t?[o,r]:r}),e},toIndexedSeq:function(){return new Ne(this)},toJS:function(){return In(this)},toKeyedSeq:function(){return new Te(this,!0)},toMap:function(){return Pt(this.toKeyedSeq())},toObject:Jn,toOrderedMap:function(){return _n(this.toKeyedSeq())},toOrderedSet:function(){return rr(b(this)?this.valueSeq():this)},toSet:function(){return Bn(b(this)?this.valueSeq():this)},toSetSeq:function(){return new je(this)},toSeq:function(){return w(this)?this.toIndexedSeq():b(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return xn(b(this)?this.valueSeq():this)},toList:function(){return nn(b(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ke(this,function(e,t){var n=b(e),r=[e].concat(t).map(function(e){return m(e)?n&&(e=E(e)):e=n?ie(e):ae(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var o=r[0];if(o===e||n&&b(o)||w(e)&&w(o))return o}var i=new ee(r);return n?i=i.toKeyedSeq():w(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),i}(this,e))},includes:function(e){return this.some(function(t){return de(t,e)})},entries:function(){return this.__iterator(D)},every:function(e,t){Ze(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return Ke(this,Fe(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Ze(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ze(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(F)},map:function(e,t){return Ke(this,Ie(this,e,t))},reduce:function(e,t,n){return Hn(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return Hn(this,e,t,n,arguments.length<2,!0)},reverse:function(){return Ke(this,Be(this,!0))},slice:function(e,t){return Ke(this,Re(this,e,t,!0))},some:function(e,t){return!this.every(Qn(e),t)},sort:function(e){return Ke(this,Le(this,e))},values:function(){return this.__iterator(R)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return c(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Pt().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return Cn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Zn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Qn(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(f,null,e)},flatMap:function(e,t){return Ke(this,function(e,t,n){var r=Je(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Ke(this,Me(this,e,!0))},fromEntrySeq:function(){return new Ce(this)},get:function(e,t){return this.find(function(t,n){return de(n,e)},void 0,t)},getIn:Kn,groupBy:function(e,t){return function(e,t,n){var r=b(e),o=(B(e)?_n():Pt()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return(e=e||[]).push(r?[a,i]:i),e})});var i=Je(e);return o.map(function(t){return Ke(e,i(t))}).asImmutable()}(this,e,t)},has:function(e){return this.get(e,a)!==a},hasIn:function(e){return Wn(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:O(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:O(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return de(t,e)})},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return ze(this,e)},maxBy:function(e,t){return ze(this,t,e)},min:function(e){return ze(this,e?Xn(e):tr)},minBy:function(e,t){return ze(this,t?Xn(t):tr,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Ke(this,De(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Qn(e),t)},sortBy:function(e,t){return Ke(this,Le(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Ke(this,function(e,t,n){var r=Ve(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,u){return t.call(n,e,o,u)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(D,o),u=!0;return new U(function(){if(!u)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,s=o[0],c=o[1];return t.call(n,c,s,i)?r===D?e:q(r,s,c,e):(u=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Qn(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=B(e),n=b(e),r=t?1:0;return function(e,t){return t=he(t,3432918353),t=he(t<<15|t>>>-15,461845907),t=he(t<<13|t>>>-13,5),t=he((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=pe((t=he(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+nr(ye(e),ye(t))|0}:function(e,t){r=r+nr(ye(e),ye(t))|0}:t?function(e){r=31*r+ye(e)|0}:function(e){r=r+ye(e)|0}),r)}(this))}});var Vn=O.prototype;Vn[_]=!0,Vn[z]=Vn.values,Vn.toJSON=Vn.toArray,Vn.__toStringMapper=tt,Vn.inspect=Vn.toSource=function(){return this.toString()},Vn.chain=Vn.flatMap,Vn.contains=Vn.includes,Pn(E,{flip:function(){return Ke(this,Pe(this))},mapEntries:function(e,t){var n=this,r=0;return Ke(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Ke(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var Gn=E.prototype;Gn[g]=!0,Gn[z]=Vn.entries,Gn.toJSON=Jn,Gn.__toStringMapper=function(e,t){return tt(t)+": "+tt(e)},Pn(S,{toKeyedSeq:function(){return new Te(this,!1)},filter:function(e,t){return Ke(this,Fe(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Ke(this,Be(this,!1))},slice:function(e,t){return Ke(this,Re(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=h(e,e<0?this.count():this.size);var r=this.slice(0,e);return Ke(this,1===n?r:r.concat(He(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Ke(this,Me(this,e,!1))},get:function(e,t){return(e=l(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=l(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Ke(this,function(e,t){var n=Ve(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(R,r),a=0;return new U(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?q(n,a++,t):q(n,a++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(He(arguments)),t=qe(this.toSeq(),Q.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Ke(this,n)},keySeq:function(){return Un(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Ke(this,De(this,e,t,!1))},zip:function(){return Ke(this,qe(this,er,[this].concat(He(arguments))))},zipAll:function(){return Ke(this,qe(this,er,[this].concat(He(arguments)),!0))},zipWith:function(e){var t=He(arguments);return t[0]=this,Ke(this,qe(this,e,t))}});var Yn=S.prototype;function Hn(e,t,n,r,o,i){return Ze(e.size),e.__iterate(function(e,i,a){o?(o=!1,n=e):n=t.call(r,n,e,i,a)},i),n}function $n(e,t){return t}function Zn(e,t){return[t,e]}function Qn(e){return function(){return!e.apply(this,arguments)}}function Xn(e){return function(){return-e.apply(this,arguments)}}function er(){return He(arguments)}function tr(e,t){return e<t?1:e>t?-1:0}function nr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}Yn[k]=!0,Yn[I]=!0,Pn(A,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),A.prototype.has=Vn.includes,A.prototype.contains=A.prototype.includes,Pn(Z,E.prototype),Pn(Q,S.prototype),Pn(X,A.prototype);var rr=function(e){function t(e){return null===e||void 0===e?ur():jn(e)?e:ur().withMutations(function(t){var n=A(e);Ze(n.size),n.forEach(function(e){return t.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(E(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Bn);rr.isOrderedSet=jn;var or,ir=rr.prototype;function ar(e,t){var n=Object.create(ir);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function ur(){return or||(or=ar(gn()))}ir[I]=!0,ir.zip=Yn.zip,ir.zipWith=Yn.zipWith,ir.__empty=ur,ir.__make=ar;var sr=function(e,t){var n,r=function(i){var a=this;if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var u=Object.keys(e),s=o._indices={};o._name=t,o._keys=u,o._defaultValues=e;for(var c=0;c<u.length;c++){var l=u[c];s[l]=c,o[l]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+fr(this)+' with property "'+l+'" since that property name is part of the Record API.'):hr(o,l)}}this.__ownerID=void 0,this._values=nn().withMutations(function(e){e.setSize(a._keys.length),E(i).forEach(function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)})})},o=r.prototype=Object.create(cr);return o.constructor=r,t&&(r.displayName=t),r};sr.prototype.toString=function(){for(var e,t=fr(this)+" { ",n=this._keys,r=0,o=n.length;r!==o;r++)e=n[r],t+=(r?", ":"")+e+": "+tt(this.get(e));return t+" }"},sr.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&dr(this).equals(dr(e))},sr.prototype.hashCode=function(){return dr(this).hashCode()},sr.prototype.has=function(e){return this._indices.hasOwnProperty(e)},sr.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},sr.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return lr(this,n)}return this},sr.prototype.remove=function(e){return this.set(e)},sr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:lr(this,e)},sr.prototype.wasAltered=function(){return this._values.wasAltered()},sr.prototype.toSeq=function(){return dr(this)},sr.prototype.toJS=function(){return In(this)},sr.prototype.entries=function(){return this.__iterator(D)},sr.prototype.__iterator=function(e,t){return dr(this).__iterator(e,t)},sr.prototype.__iterate=function(e,t){return dr(this).__iterate(e,t)},sr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?lr(this,t,e):(this.__ownerID=e,this._values=t,this)},sr.isRecord=C,sr.getDescriptiveName=fr;var cr=sr.prototype;function lr(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function fr(e){return e.constructor.displayName||e.constructor.name||"Record"}function dr(e){return ie(e._keys.map(function(t){return[t,e.get(t)]}))}function hr(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){$e(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}cr[j]=!0,cr.delete=cr.remove,cr.deleteIn=cr.removeIn=ft,cr.getIn=Kn,cr.hasIn=Vn.hasIn,cr.merge=vt,cr.mergeWith=yt,cr.mergeIn=St,cr.mergeDeep=Ot,cr.mergeDeepWith=Et,cr.mergeDeepIn=At,cr.setIn=ct,cr.update=ht,cr.updateIn=pt,cr.withMutations=Tt,cr.asMutable=Nt,cr.asImmutable=jt,cr[z]=cr.entries,cr.toJSON=cr.toObject=Vn.toObject,cr.inspect=cr.toSource=function(){return this.toString()};var pr,vr=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);if(this._value=e,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(pr)return pr;pr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return de(this._value,e)},t.prototype.slice=function(e,n){var r=this.size;return d(e,n,r)?this:new t(this._value,p(n,r)-h(e,r))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return de(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return de(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var n=this.size,r=0;r!==n&&!1!==e(this._value,t?n-++r:r++,this););return r},t.prototype.__iterator=function(e,t){var n=this,r=this.size,o=0;return new U(function(){return o===r?{value:void 0,done:!0}:q(e,t?r-++o:o++,n._value)})},t.prototype.equals=function(e){return e instanceof t?de(this._value,e._value):Cn(e)},t}(Q);function yr(e,t){return function e(t,n,r,o,i,a){var u=Array.isArray(r)?Q:Xe(r)?Z:null;if(u){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&""!==o&&i.push(o);var s=n.call(a,o,u(r).map(function(o,a){return e(t,n,o,a,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),s}return r}([],t||_r,e,"",t&&t.length>2?[]:void 0,{"":e})}function _r(e,t){return b(t)?t.toMap():t.toList()}var mr="4.0.0-rc.11",gr={version:mr,Collection:O,Iterable:O,Seq:$,Map:Pt,OrderedMap:_n,List:nn,Stack:xn,Set:Bn,OrderedSet:rr,Record:sr,Range:Un,Repeat:vr,is:de,fromJS:yr,hash:ye,isImmutable:P,isCollection:m,isKeyed:b,isIndexed:w,isAssociative:x,isOrdered:B,isValueObject:fe,isSeq:N,isList:tn,isMap:ce,isOrderedMap:le,isStack:wn,isSet:Nn,isOrderedSet:jn,isRecord:C,get:rt,getIn:qn,has:nt,hasIn:Wn,merge:mt,mergeDeep:bt,mergeWith:gt,mergeDeepWith:kt,remove:it,removeIn:lt,set:at,setIn:st,update:dt,updateIn:ut},br=O;t.default=gr},function(e,t){e.exports=React},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Annotation",function(){return te}),n.d(t,"Block",function(){return fe}),n.d(t,"Change",function(){return we}),n.d(t,"Data",function(){return K}),n.d(t,"Decoration",function(){return G}),n.d(t,"Document",function(){return re}),n.d(t,"Editor",function(){return pt}),n.d(t,"Inline",function(){return ie}),n.d(t,"KeyUtils",function(){return b}),n.d(t,"Leaf",function(){return mt}),n.d(t,"Mark",function(){return J}),n.d(t,"Node",function(){return ce}),n.d(t,"Operation",function(){return be}),n.d(t,"PathUtils",function(){return z}),n.d(t,"Point",function(){return q}),n.d(t,"Range",function(){return X}),n.d(t,"resetMemoization",function(){return Tt}),n.d(t,"Selection",function(){return H}),n.d(t,"Text",function(){return se}),n.d(t,"TextUtils",function(){return Be}),n.d(t,"useMemoization",function(){return Nt}),n.d(t,"Value",function(){return he});var r=n(0),o=n(8),i=n.n(o),a=n(2),u=n(9),s=n(10),c=n.n(s),l=n(56),f=n(14),d=n.n(f),h=n(57),p=n.n(h),v=n(87),y=n.n(v),_=void 0,m=void 0;function g(){_=0,m=function(){return""+_++}}g();var b={create:function(e){if(null==e)return m();if("string"==typeof e)return e;throw new Error("Keys must be strings, but you passed: "+e)},setGenerator:function(e){m=e},resetGenerator:g},k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},A=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},N=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};function C(e,t){for(var n=L(e,t),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.size===t.size?0:null}function P(e){if(null==e)return null;if(r.List.isList(e))return e;if(Array.isArray(e))return Object(r.List)(e);throw new Error("Paths can only be created from arrays or lists, but you passed: "+e)}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L(e,t);return[e.slice(0,n),t.slice(0,n)]}function B(e){return F(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1,r=e.get(n)+t;return e.set(n,r)}function R(e,t){var n=I(e,t),r=N(n,2),o=r[0],i=r[1];return e.size<t.size&&0===C(o,i)}function D(e,t){return e.equals(t)}function M(e,t){var n=e.size-1,r=I(e,t,n),o=N(r,2),i=o[0],a=o[1],u=e.get(n),s=t.get(n);return D(i,a)&&u<s}function L(e,t){return Math.min(e.size,t.size)}var z={compare:C,create:P,crop:I,decrement:B,getAncestors:function(e){return Object(r.List)().withMutations(function(t){for(var n=0;n<e.size;n++)t.push(e.slice(0,n))})},increment:F,isAbove:R,isAfter:function(e,t){var n=I(e,t),r=N(n,2);return 1===C(r[0],r[1])},isBefore:function(e,t){var n=I(e,t),r=N(n,2);return-1===C(r[0],r[1])},isEqual:D,isOlder:function(e,t){var n=e.size-1,r=I(e,t,n),o=N(r,2),i=o[0],a=o[1],u=e.get(n),s=t.get(n);return D(i,a)&&u>s},isPath:function(e){return(r.List.isList(e)||Array.isArray(e))&&e.every(function(e){return"number"==typeof e})},isSibling:function(e,t){if(e.size!==t.size)return!1;var n=e.butLast(),r=t.butLast();return n.equals(r)},isYounger:M,lift:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.slice(0,-1*t)},drop:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.slice(t)},max:function(e,t){return Math.max(e.size,t.size)},min:L,relate:function(e,t){for(var n=[],r=0;r<e.size&&r<t.size;r++){var o=e.get(r);if(o!==t.get(r))break;n.push(o)}return P(n)},transform:function(e,t){var n=t.type,o=t.position,i=t.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===e.size)return Object(r.List)([e]);var a=i.size-1,u=D(i,e),s=M(i,e),c=R(i,e);if("insert_node"===n&&(u||s||c)&&(e=F(e,1,a)),"remove_node"===n&&(s?e=B(e,1,a):(u||c)&&(e=[])),"merge_node"===n&&(u||s?e=B(e,1,a):c&&(e=F(e=B(e,1,a),o,a+1))),"split_node"===n&&(u?e=[e,F(e)]:s?e=F(e,1,a):c&&e.get(a+1)>=o&&(e=B(e=F(e,1,a),o,a+1))),"move_node"===n){var l=t.newPath;if(D(i,l))return Object(r.List)([e]);c||u?e=M(i,l)&&i.size<l.size?B(l,1,L(l,i)-1).concat(e.slice(i.size)):l.concat(e.slice(i.size)):(s&&(e=B(e,1,a)),(M(l,e)||D(l,e)||R(l,e))&&(e=F(e,1,l.size-1)))}var f=Array.isArray(e)?e:[e];return Object(r.List)(f)}},U={key:void 0,offset:void 0,path:void 0},q=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"isAfterPoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset>e.offset||1===z.compare(this.path,e.path))}},{key:"isAfterRange",value:function(e){return!this.isUnset&&this.isAfterPoint(e.end)}},{key:"isAtEndOfRange",value:function(e){return!this.isUnset&&this.equals(e.end)}},{key:"isAtStartOfRange",value:function(e){return!this.isUnset&&this.equals(e.start)}},{key:"isBeforePoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset<e.offset||-1===z.compare(this.path,e.path))}},{key:"isBeforeRange",value:function(e){return!this.isUnset&&this.isBeforePoint(e.start)}},{key:"isInRange",value:function(e){return!this.isUnset&&(this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end))}},{key:"isAtEndOfNode",value:function(e){if(this.isUnset)return!1;var t=e.getLastText();return this.key===t.key&&this.offset===t.text.length}},{key:"isAtStartOfNode",value:function(e){if(this.isUnset)return!1;if(0!==this.offset)return!1;var t=e.getFirstText();return this.key===t.key}},{key:"isInNode",value:function(e){return!this.isUnset&&("text"===e.object&&e.key===this.key||!!e.hasNode(this.key))}},{key:"moveBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===e?this:e<0?this.moveForward(-e):this.setOffset(this.offset-e)}},{key:"moveForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===e?this:e<0?this.moveBackward(-e):this.setOffset(this.offset+e)}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.key;return"number"==typeof e?(t=e,e=this.path):"string"==typeof e?e=(n=e)===this.key?this.path:null:n=e.equals(this.path)?this.key:null,this.merge({key:n,path:e,offset:t})}},{key:"moveToStartOfNode",value:function(e){var t=e.getFirstText();return this.moveTo(t.key,0)}},{key:"moveToEndOfNode",value:function(e){var t=e.getLastText();return this.moveTo(t.key,t.text.length)}},{key:"normalize",value:function(e){if(null==this.key&&null==this.path)return this.setOffset(null);var n=this.key,r=this.offset,o=this.path,i=o&&e.getNode(o);if(!i&&(i=e.getNode(n)))return this.merge({path:e.getPath(n)});if(!i){Object(a.a)(!1,"A point's `path` or `key` invalid and was reset!");var u=e.getFirstText();return u?this.merge({key:u.key,offset:0,path:e.getPath(u.key)}):t.create()}if("text"!==i.object){Object(a.a)(!1,"A point should not reference a non-text node!");var s=i.getTextAtOffset(r),c=i.getOffset(s.key);return this.merge({offset:r-c,key:s.key,path:e.getPath(s.key)})}i&&o&&n&&n!==i.key&&Object(a.a)(!1,"A point's `key` did not match its `path`!");var l=this.merge({key:i.key,path:null==o?e.getPath(i.key):o,offset:null==r?0:Math.min(r,i.text.length)});if(l.offset===i.text.length){var f=e.getClosestBlock(l.path).getNextText();f&&(l=l.merge({key:f.key,path:e.getPath(f.key),offset:0}))}return l}},{key:"setKey",value:function(e){return null!=e&&(e=b.create(e)),this.set("key",e)}},{key:"setOffset",value:function(e){return this.set("offset",e)}},{key:"setPath",value:function(e){return null!=e&&(e=z.create(e)),this.set("path",e)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete t.key,t}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return e;if(i()(e))return t.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(i()(e)){var n={};return"key"in e&&(n.key=e.key),"offset"in e&&(n.offset=e.offset),"path"in e&&(n.path=z.create(e.path)),"path"in e&&!("key"in e)&&(n.key=null),"key"in e&&!("path"in e)&&(n.path=null),n}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.key,r=void 0===n?null:n,o=e.offset,i=void 0===o?null:o,a=e.path,u=void 0===a?null:a;return new t({key:r,offset:i,path:z.create(u)})}}]),t}(Object(r.Record)(U)),K=function(){function e(){w(this,e)}return x(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.Map.isMap(t))return t;if(i()(t))return e.fromJSON(t);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+t)}},{key:"fromJSON",value:function(e){return new r.Map(e)}}]),e}();K.fromJS=K.fromJSON;var W={data:void 0,type:void 0},J=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return e;if("string"==typeof e&&(e={type:e}),i()(e))return t.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function(e){if(r.Set.isSet(e)||Array.isArray(e))return new r.Set(e.map(t.create));if(null==e)return Object(r.Set)();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(i()(e)){var n={};return"type"in e&&(n.type=e.type),"data"in e&&(n.data=K.create(e.data)),n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,o=void 0===n?{}:n,i=e.type;if("string"!=typeof i)throw new Error("`Mark.fromJS` requires a `type` string.");return new t({type:i,data:new r.Map(o)})}},{key:"isMarkSet",value:function(e){return r.Set.isSet(e)&&e.every(function(e){return t.isMark(e)})}}]),t}(Object(r.Record)(W)),V={type:void 0,data:void 0,anchor:void 0,focus:void 0},G=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"setProperties",value:function(e){return e=t.createProperties(e),this.merge(e)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return e;if(X.isRange(e))return t.fromJSON(X.createProperties(e));if(i()(e))return t.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(e)||Array.isArray(e))return new r.List(e.map(t.create));throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return{type:e.type,data:e.data,anchor:q.createProperties(e.anchor),focus:q.createProperties(e.focus),mark:J.create(e.mark)};if(i()(e)){var n={};return"type"in e&&(n.type=e.type),"data"in e&&(n.data=K.create(e.data)),"anchor"in e&&(n.anchor=q.create(e.anchor)),"focus"in e&&(n.focus=q.create(e.focus)),n}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.type,i=e.data;if(e.mark&&!o&&(Object(a.a)(!1,"As of slate@0.47 the `decoration.mark` property has been changed to `decoration.type` and `decoration.data` directly."),o=e.mark.type,i=e.mark.data),!o)throw new Error("Decorations must be created with a `type`, but you passed: "+JSON.stringify(e));return new t({type:o,data:K.create(i||{}),anchor:q.fromJSON(n||{}),focus:q.fromJSON(r||{})})}}]),t}(Object(r.Record)(V)),Y={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},H=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"setIsFocused",value:function(e){return this.set("isFocused",e)}},{key:"setMarks",value:function(e){return this.set("marks",e)}},{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=A(n,["anchor","focus"]);return r&&(i.anchor=q.create(r)),o&&(i.focus=q.create(o)),this.merge(i)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map(function(e){return e.toJSON()})}}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return e;if(X.isRange(e))return t.fromJSON(X.createProperties(e));if(i()(e))return t.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return{anchor:q.createProperties(e.anchor),focus:q.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(X.isRange(e))return{anchor:q.createProperties(e.anchor),focus:q.createProperties(e.focus)};if(i()(e)){var n={};return"anchor"in e&&(n.anchor=q.create(e.anchor)),"focus"in e&&(n.focus=q.create(e.focus)),"isFocused"in e&&(n.isFocused=e.isFocused),"marks"in e&&(n.marks=null==e.marks?null:J.createSet(e.marks)),n}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,o=e.focus,i=e.isFocused,a=void 0!==i&&i,u=e.marks,s=void 0===u?null:u;return new t({anchor:q.fromJSON(n||{}),focus:q.fromJSON(o||{}),isFocused:a,marks:null==s?null:new r.Set(s.map(J.fromJSON))})}}]),t}(Object(r.Record)(Y)),$={annotation:"@@__SLATE_ANNOTATION__@@",block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function Z(e,t){return!(!t||!t[$[e]])}var Q={anchor:void 0,focus:void 0},X=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return"range"===e.object?e:t.fromJSON(t.createProperties(e));if(i()(e))return t.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(e)||Array.isArray(e))return new r.List(e.map(t.create));throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return{anchor:q.createProperties(e.anchor),focus:q.createProperties(e.focus)};if(i()(e)){var n={};return"anchor"in e&&(n.anchor=q.create(e.anchor)),"focus"in e&&(n.focus=q.create(e.focus)),n}throw new Error("`Range.createProperties` only accepts objects, annotations, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus;return new t({anchor:q.fromJSON(n||{}),focus:q.fromJSON(r||{})})}},{key:"isRange",value:function(e){return Z("range",e)||G.isDecoration(e)||H.isSelection(e)}}]),t}(Object(r.Record)(Q)),ee={key:void 0,type:void 0,data:void 0,anchor:void 0,focus:void 0},te=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"setProperties",value:function(e){return e=t.createProperties(e),this.merge(e)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,key:this.key,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isAnnotation(e))return e;if(X.isRange(e))return t.fromJSON(X.createProperties(e));if(i()(e))return t.fromJSON(e);throw new Error("`Annotation.create` only accepts objects or annotations, but you passed it: "+e)}},{key:"createMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.Map.isMap(e))return e;if(i()(e)){var n={};for(var o in e){var a=e[o],u=t.create(a);n[o]=u}return Object(r.Map)(n)}throw new Error("`Annotation.createMap` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isAnnotation(e))return{key:e.key,type:e.type,data:e.data,anchor:q.createProperties(e.anchor),focus:q.createProperties(e.focus)};if(i()(e)){var n={};return"key"in e&&(n.key=e.key),"type"in e&&(n.type=e.type),"data"in e&&(n.data=K.create(e.data)),"anchor"in e&&(n.anchor=q.create(e.anchor)),"focus"in e&&(n.focus=q.create(e.focus)),n}throw new Error("`Annotation.createProperties` only accepts objects or annotations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.key,r=e.type,o=e.data,i=e.anchor,a=e.focus;if(!n)throw new Error("Annotations must be created with a `key`, but you passed: "+JSON.stringify(e));if(!r)throw new Error("Annotations must be created with a `type`, but you passed: "+JSON.stringify(e));return new t({key:n,type:r,data:K.create(o||{}),anchor:q.fromJSON(i||{}),focus:q.fromJSON(a||{})})}}]),t}(Object(r.Record)(ee)),ne={data:void 0,key:void 0,nodes:void 0},re=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDocument(e))return e;if((r.List.isList(e)||Array.isArray(e))&&(e={nodes:e}),i()(e))return t.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isDocument(e))return e;var n=e.data,o=void 0===n?{}:n,i=e.key,a=void 0===i?b.create():i,u=e.nodes,s=void 0===u?[]:u;return new t({key:a,data:new r.Map(o),nodes:ce.createList(s)})}}]),t}(Object(r.Record)(ne)),oe={data:void 0,key:void 0,nodes:void 0,type:void 0},ie=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isInline(e))return e;if("string"==typeof e&&(e={type:e}),i()(e))return t.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(e)||Array.isArray(e))return new r.List(e.map(t.create));throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isInline(e))return e;var n=e.data,o=void 0===n?{}:n,i=e.key,a=void 0===i?b.create():i,u=e.nodes,s=void 0===u?[]:u,c=e.type;if("string"!=typeof c)throw new Error("`Inline.fromJS` requires a `type` string.");return new t({key:a,type:c,data:new r.Map(o),nodes:ce.createList(s)})}},{key:"isInlineList",value:function(e){return r.List.isList(e)&&e.every(function(e){return t.isInline(e)})}}]),t}(Object(r.Record)(oe)),ae={key:void 0,marks:void 0,text:void 0},ue=Object(r.Record)({text:void 0,marks:void 0,annotations:void 0,decorations:void 0}),se=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"addMark",value:function(e){e=J.create(e);var t=this.marks.add(e);return this.set("marks",t)}},{key:"addMarks",value:function(e){return e=J.createSet(e),this.set("marks",this.marks.union(e))}},{key:"getLeaves",value:function(e,t){var n=[{text:this.text,marks:this.marks,annotations:[],decorations:[]}],o=function(e,t){return[{text:e.text.slice(0,t),marks:e.marks,annotations:[].concat(j(e.annotations)),decorations:[].concat(j(e.decorations))},{text:e.text.slice(t),marks:e.marks,annotations:[].concat(j(e.annotations)),decorations:[].concat(j(e.decorations))}]},i=function(r){var i="annotations"===r?e.values():t,a=!0,u=!1,s=void 0;try{for(var c,l=i[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=f.start,h=f.end,p=[],v=0,y=!0,_=!1,m=void 0;try{for(var g,b=n[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var k=g.value,w=k.text.length,x=v;if(v+=w,d.offset<=x&&h.offset>=x+w)k[r].push(f),p.push(k);else if(d.offset>x+w||h.offset<=x)p.push(k);else{var O=k,E=void 0,S=void 0;if(h.offset<x+w){var A=o(O,h.offset-x),T=N(A,2);O=T[0],S=T[1]}if(d.offset>x){var j=o(O,d.offset-x),C=N(j,2);E=C[0],O=C[1]}O[r].push(f),E&&p.push(E),p.push(O),S&&p.push(S)}}}catch(e){_=!0,m=e}finally{try{!y&&b.return&&b.return()}finally{if(_)throw m}}n=p}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}};return i("annotations"),i("decorations"),n=n.map(function(e){return new ue(E({},e,{annotations:Object(r.List)(e.annotations),decorations:Object(r.List)(e.decorations)}))}),Object(r.List)(n)}},{key:"insertText",value:function(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function(e){e=J.create(e);var t=this.marks.remove(e);return this.set("marks",t)}},{key:"removeText",value:function(e,t){var n=this.text,r=n.slice(0,e)+n.slice(e+t);return this.set("text",r)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})};return e.preserveKeys&&(t.key=this.key),t}},{key:"setMark",value:function(e,t){var n=this.marks,r=J.create(e),o=r.merge(t),i=n.remove(r).add(o);return this.set("marks",i)}},{key:"splitText",value:function(e){var t=this.text;return[this.set("text",t.slice(0,e)),this.set("text",t.slice(e)).regenerateKey()]}},{key:"mergeText",value:function(e){var t=this.text+e.text;return this.set("text",t)}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isText(e))return e;if("string"==typeof e&&(e={text:e}),i()(e))return t.fromJSON(e);throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(e)||Array.isArray(e))return new r.List(e.map(t.create));throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isText(e))return e;Object(u.a)(null==e.leaves,"As of slate@0.46, the `leaves` property of text nodes has been removed! Each individual leaf should be created as a text node instead.");var n=e.text,r=void 0===n?"":n,o=e.marks,i=void 0===o?[]:o,a=e.key;return new t({key:void 0===a?b.create():a,text:r,marks:J.createSet(i)})}},{key:"isTextList",value:function(e){return r.List.isList(e)&&e.every(function(e){return t.isText(e)})}}]),t}(Object(r.Record)(ae)),ce=function(){function e(){w(this,e)}return x(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isNode(t))return t;if(i()(t)){var n=t.object;switch(!n&&t.kind&&(Object(a.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),n=t.kind),n){case"block":return fe.create(t);case"document":return re.create(t);case"inline":return ie.create(t);case"text":return se.create(t);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(t)||Array.isArray(t)){var n=[];return t.forEach(function(t){if(t&&"text"===t.object&&t.leaves&&Array.isArray(t.leaves)){Object(a.a)(!1,"As of slate@0.46, the `leaves` property of Text nodes has been removed. Instead, each text node contains a string of text and a unique set of marks and leaves are unnecessary.");var r=se.createList(t.leaves).toArray();n=n.concat(r)}else{var o=e.create(t);n.push(o)}}),Object(r.List)(n)}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+t)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(fe.isBlock(e)||ie.isInline(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(i()(e)){var t={};return"type"in e&&(t.type=e.type),"data"in e&&(t.data=K.create(e.data)),t}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var t=e.object;switch(!t&&e.kind&&(Object(a.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),t=e.kind),t){case"block":return fe.fromJSON(e);case"document":return re.fromJSON(e);case"inline":return ie.fromJSON(e);case"text":return se.fromJSON(e);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+e)}}},{key:"isNode",value:function(e){return fe.isBlock(e)||re.isDocument(e)||ie.isInline(e)||se.isText(e)}},{key:"isNodeList",value:function(t){return r.List.isList(t)&&t.every(function(t){return e.isNode(t)})}}]),e}(),le={data:void 0,key:void 0,nodes:void 0,type:void 0},fe=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isBlock(e))return e;if("string"==typeof e&&(e={type:e}),i()(e))return t.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(e)||Array.isArray(e))return new r.List(e.map(t.create));throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isBlock(e))return e;var n=e.data,o=void 0===n?{}:n,i=e.key,a=void 0===i?b.create():i,u=e.nodes,s=void 0===u?[]:u,c=e.type;if("string"!=typeof c)throw new Error("`Block.fromJSON` requires a `type` string.");return new t({key:a,type:c,data:Object(r.Map)(o),nodes:ce.createList(s)})}},{key:"isBlockList",value:function(e){return r.List.isList(e)&&e.every(function(e){return t.isBlock(e)})}}]),t}(Object(r.Record)(le)),de={annotations:void 0,data:void 0,document:void 0,selection:void 0},he=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"addAnnotation",value:function(e){e=te.create(e);var t=this,n=t.annotations,r=e.key;return n=n.set(r,e),t=t.set("annotations",n)}},{key:"addMark",value:function(e,t){t=J.create(t);var n=this,r=n.document;return r=r.addMark(e,t),n=n.set("document",r)}},{key:"insertNode",value:function(e,t){var n=this,r=n.document;return r=r.insertNode(e,t),n=(n=n.set("document",r)).mapRanges(function(e){return e.updatePoints(function(e){return e.setPath(null)})})}},{key:"insertText",value:function(e,t,n){var r=this,o=r.document,i=o.assertNode(e);return o=o.insertText(e,t,n),i=o.assertNode(e),r=(r=r.set("document",o)).mapPoints(function(e){return e.key===i.key&&e.offset>=t?e.setOffset(e.offset+n.length):e})}},{key:"mergeNode",value:function(e){var t=this,n=t.document,r=n.mergeNode(e);e=n.resolvePath(e);var o=z.decrement(e),i=n.getNode(o),a=n.getNode(e);return t=(t=t.set("document",r)).mapRanges(function(e){if("text"===a.object){var t=i.text.length;e.anchor.key===a.key&&(e=e.moveAnchorTo(i.key,t+e.anchor.offset)),e.focus.key===a.key&&(e=e.moveFocusTo(i.key,t+e.focus.offset))}return e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this,o=r.document;return z.isEqual(e,t)?r:(o=o.moveNode(e,t,n),r=(r=r.set("document",o)).mapPoints(function(e){return e.setPath(null)}))}},{key:"removeAnnotation",value:function(e){e=te.create(e);var t=this,n=t.annotations,r=e.key;return n=n.delete(r),t=t.set("annotations",n)}},{key:"removeMark",value:function(e,t){t=J.create(t);var n=this,r=n.document;return r=r.removeMark(e,t),n=n.set("document",r)}},{key:"removeNode",value:function(e){var t=this,n=t.document,r=n.assertNode(e),o="text"===r.object?r:r.getFirstText()||r,i="text"===r.object?r:r.getLastText()||r,a=n.getPreviousText(o.key),u=n.getNextText(i.key);return n=n.removeNode(e),t=(t=t.set("document",n)).mapRanges(function(e){var t=e,n=t.start,o=t.end;return r.hasNode(n.key)&&(e=a?e.moveStartTo(a.key,a.text.length):u?e.moveStartTo(u.key,0):e.unset()),r.hasNode(o.key)&&(e=a?e.moveEndTo(a.key,a.text.length):u?e.moveEndTo(u.key,0):e.unset()),e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"removeText",value:function(e,t,n){var r=this,o=r.document,i=o.assertNode(e);o=o.removeText(e,t,n),r=r.set("document",o);var a=n.length,u=t,s=t+a;return r=r.mapPoints(function(e){return e.key!==i.key?e:e.offset>=s?e.setOffset(e.offset-a):e.offset>u?e.setOffset(u):e})}},{key:"setAnnotation",value:function(e,t){t=te.createProperties(t);var n=te.create(e),r=n.merge(t),o=this,i=o.annotations,a=n.key;return i=i.set(a,r),o=o.set("annotations",i)}},{key:"setNode",value:function(e,t){var n=this,r=n.document;return r=r.setNode(e,t),n=n.set("document",r)}},{key:"setMark",value:function(e,t,n){var r=this,o=r.document;return o=o.setMark(e,t,n),r=r.set("document",o)}},{key:"setProperties",value:function(e){var t=this,n=t.document,r=e.data,o=e.annotations,i={};return r&&(i.data=r),o&&(i.annotations=o.map(function(e){return e.isSet?e:n.resolveAnnotation(e)})),t=t.merge(i)}},{key:"setSelection",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=o.setProperties(e);return o=r.resolveSelection(i),t=t.set("selection",o)}},{key:"splitNode",value:function(e,t,n){var r=this,o=r.document,i=o.splitNode(e,t,n),a=o.assertNode(e);return r=(r=r.set("document",i)).mapRanges(function(e){var n=i.getNextText(a.key),r=e,o=r.start,u=r.end;return a.key===o.key&&t<=o.offset&&(e=e.moveStartTo(n.key,o.offset-t)),a.key===u.key&&t<=u.offset&&(e=e.moveEndTo(n.key,u.offset-t)),e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"mapRanges",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=n.annotations,a=o.isSet?e(o):o;a||(a=o.unset()),a!==o&&(a=r.createSelection(a)),t=t.set("selection",a);var u=i.map(function(t){var n=t.isSet?e(t):t;return n&&n!==t&&(n=r.createAnnotation(n)),n});return u=u.filter(function(e){return!!e}),t=t.set("annotations",u)}},{key:"mapPoints",value:function(e){return this.mapRanges(function(t){return t.updatePoints(e)})}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(t.data=this.data.toJSON(e)),e.preserveAnnotations&&(t.annotations=this.annotations.map(function(t){return t.toJSON(e)}).toObject()),e.preserveSelection&&(t.selection=this.selection.toJSON(e)),t}},{key:"change",value:function(){Object(u.a)(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new r.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new r.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new r.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?re.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new r.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new r.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){Object(u.a)(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.isValue(e))return e;if(i()(e))return t.fromJSON(e,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isValue(e))return{annotations:e.annotations,data:e.data};if(i()(e)){var n={};return"annotations"in e&&(n.annotations=te.createList(e.annotations)),"data"in e&&(n.data=K.create(e.data)),n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.annotations,i=void 0===o?{}:o,a=e.document,u=void 0===a?{}:a,s=e.selection,c=void 0===s?{}:s;if(r=K.fromJSON(r),c=(u=re.fromJSON(u)).createSelection(c),i=te.createMap(i),c.isUnset){var l=u.getFirstText();l&&(c=c.moveToStartOfNode(l)),c=u.createSelection(c)}return new t({annotations:i,data:r,document:u,selection:c})}}]),t}(Object(r.Record)(de)),pe=c()("slate:operation:apply");function ve(e,t){var n=(t=be.create(t)).type;switch(pe(n,t),n){case"add_annotation":var r=t.annotation;return e.addAnnotation(r);case"add_mark":var o=t,i=o.path,a=o.mark;return e.addMark(i,a);case"insert_node":var u=t,s=u.path,c=u.node;return e.insertNode(s,c);case"insert_text":var l=t,f=l.path,d=l.offset,h=l.text,p=l.marks;return e.insertText(f,d,h,p);case"merge_node":var v=t.path;return e.mergeNode(v);case"move_node":var y=t,_=y.path,m=y.newPath;return e.moveNode(_,m);case"remove_annotation":var g=t.annotation;return e.removeAnnotation(g);case"remove_mark":var b=t,k=b.path,w=b.mark;return e.removeMark(k,w);case"remove_node":var x=t.path;return e.removeNode(x);case"remove_text":var O=t,E=O.path,S=O.offset,A=O.text;return e.removeText(E,S,A);case"set_annotation":var T=t,N=T.properties,j=T.newProperties;return e.setAnnotation(N,j);case"set_mark":var C=t,P=C.path,I=C.properties,B=C.newProperties;return e.setMark(P,I,B);case"set_node":var F=t,R=F.path,D=F.newProperties;return e.setNode(R,D);case"set_selection":var M=t.newProperties;return e.setSelection(M);case"set_value":var L=t.newProperties;return e.setProperties(L);case"split_node":var z=t,U=z.path,q=z.position,K=z.properties;return e.splitNode(U,q,K);default:throw new Error('Unknown operation type: "'+n+'".')}}var ye=c()("slate:operation:invert");function _e(e){var t=(e=be.create(e)).type;switch(ye(t,e),t){case"move_node":var n=e,r=n.newPath,o=n.path;if(z.isEqual(r,o))return e;var i=z.transform(o,e).first(),a=z.transform(z.increment(o),e).first();return e.set("path",i).set("newPath",a);case"merge_node":var u=e.path,s=z.decrement(u);return e.set("type","split_node").set("path",s);case"split_node":var c=e.path,l=z.increment(c);return e.set("type","merge_node").set("path",l);case"set_annotation":case"set_node":case"set_value":case"set_selection":case"set_mark":var f=e,d=f.properties,h=f.newProperties;return e.set("properties",h).set("newProperties",d);case"insert_node":case"insert_text":return e.set("type",t.replace("insert_","remove_"));case"remove_node":case"remove_text":return e.set("type",t.replace("remove_","insert_"));case"add_annotation":case"add_mark":return e.set("type",t.replace("add_","remove_"));case"remove_annotation":case"remove_mark":return e.set("type",t.replace("remove_","add_"));default:throw new Error('Unknown operation type: "'+t+'".')}}var me={add_mark:["path","mark","data"],add_annotation:["annotation","data"],insert_node:["path","node","data"],insert_text:["path","offset","text","data"],merge_node:["path","position","properties","target","data"],move_node:["path","newPath","data"],remove_annotation:["annotation","data"],remove_mark:["path","mark","data"],remove_node:["path","node","data"],remove_text:["path","offset","text","data"],set_annotation:["properties","newProperties","data"],set_mark:["path","properties","newProperties","data"],set_node:["path","properties","newProperties","data"],set_selection:["properties","newProperties","data"],set_value:["properties","newProperties","data"],split_node:["path","position","properties","target","data"]},ge={annotation:void 0,data:void 0,length:void 0,mark:void 0,marks:void 0,newPath:void 0,newProperties:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,target:void 0,text:void 0,type:void 0},be=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"apply",value:function(e){return ve(e,this)}},{key:"invert",value:function(){return _e(this)}},{key:"toJSON",value:function(){var e=this.object,t=this.type,n={object:e,type:t},r=me[t],o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=this[c];if("annotation"!==c&&"mark"!==c&&"marks"!==c&&"node"!==c&&"path"!==c&&"newPath"!==c||(l=l.toJSON()),"properties"===c&&"merge_node"===t){var f={};"data"in l&&(f.data=l.data.toJS()),"type"in l&&(f.type=l.type),l=f}if(("properties"===c||"newProperties"===c)&&"set_annotation"===t){var d={};"anchor"in l&&(d.anchor=l.anchor.toJS()),"focus"in l&&(d.focus=l.focus.toJS()),"key"in l&&(d.key=l.key),"mark"in l&&(d.mark=l.mark.toJS()),l=d}if(("properties"===c||"newProperties"===c)&&"set_mark"===t){var h={};"data"in l&&(h.data=l.data.toJS()),"type"in l&&(h.type=l.type),l=h}if(("properties"===c||"newProperties"===c)&&"set_node"===t){var p={};"data"in l&&(p.data=l.data.toJS()),"type"in l&&(p.type=l.type),l=p}if(("properties"===c||"newProperties"===c)&&"set_selection"===t){var v={};"anchor"in l&&(v.anchor=l.anchor.toJSON()),"focus"in l&&(v.focus=l.focus.toJSON()),"isFocused"in l&&(v.isFocused=l.isFocused),"marks"in l&&(v.marks=l.marks&&l.marks.toJSON()),l=v}if(("properties"===c||"newProperties"===c)&&"set_value"===t){var y={};"data"in l&&(y.data=l.data.toJS()),l=y}if("properties"===c&&"split_node"===t){var _={};"data"in l&&(_.data=l.data.toJS()),"type"in l&&(_.type=l.type),l=_}"data"===c&&(l=l.toJSON()),n[c]=l}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return n}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isOperation(e))return e;if(i()(e))return t.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(e)||Array.isArray(e))return new r.List(e.map(t.create));throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isOperation(e))return e;var n=e.type,o=me[n],i={type:n};if(!o)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=e[f];if("data"===f&&void 0===d&&(d={}),void 0===d)throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+f+'" attribute.');"annotation"===f&&(d=te.create(d)),"path"!==f&&"newPath"!==f||(d=z.create(d)),"mark"===f&&(d=J.create(d)),"node"===f&&(d=ce.create(d)),"properties"!==f&&"newProperties"!==f||"set_annotation"!==n||(d=te.createProperties(d)),"properties"!==f&&"newProperties"!==f||"set_mark"!==n||(d=J.createProperties(d)),"properties"!==f&&"newProperties"!==f||"set_node"!==n&&"merge_node"!==n&&"split_node"!==n||(d=ce.createProperties(d)),"properties"!==f&&"newProperties"!==f||"set_selection"!==n||(d=H.createProperties(d)),"properties"!==f&&"newProperties"!==f||"set_value"!==n||(d=he.createProperties(d)),"data"===f&&(d=Object(r.Map)(d)),i[f]=d}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return new t(i)}},{key:"isOperationList",value:function(e){return r.List.isList(e)&&e.every(function(e){return t.isOperation(e)})}}]),t}(Object(r.Record)(ge)),ke={operations:void 0,value:void 0},we=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,value:this.value.toJSON(e),operations:this.operations.toArray().map(function(t){return t.toJSON(e)})}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isChange(e))return e;if(i()(e))return t.fromJSON(e);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.value,r=e.operations,o=void 0===r?[]:r;return new t({value:he.create(n),operations:be.createList(o)})}}]),t}(Object(r.Record)(ke));function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onCommand:function(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();n.command.apply(n,[a].concat(j(i)))},onConstruct:function(t,n){for(var r in e)t.registerCommand(r);return n()}}}var Oe=55296,Ee=57343,Se=/\s/,Ae=/['\u2018\u2019]/,Te=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function Ne(e){return Oe<=e&&e<=Ee}function je(e,t){if(Se.test(e))return!1;if(Ae.test(e)){var n=t.charAt(0),r=Ce(n);if(je(n=t.slice(0,r),t.slice(r)))return!0}return!Te.test(e)}function Ce(e){return Ne(e.charCodeAt(0))?2:1}function Pe(e){return Ce(e.charAt(0))}function Ie(e){for(var t=0,n=0,r=!1,o=void 0;o=e.charAt(n);){var i=Ce(o);if(je(o=e.slice(n,n+i),e.slice(n+i)))r=!0,t+=i;else{if(r)break;t+=i}n+=i}return t}var Be={getCharLength:Ce,getCharOffset:Pe,getCharOffsetBackward:function(e,t){return e=e.slice(0,t),Pe(e=Object(l.reverse)(e))},getCharOffsetForward:function(e,t){return Pe(e=e.slice(t))},getWordOffset:Ie,getWordOffsetBackward:function(e,t){return e=e.slice(0,t),Ie(e=Object(l.reverse)(e))},getWordOffsetForward:function(e,t){return Ie(e=e.slice(t))},isSurrogate:Ne,isWord:je};function Fe(e,t){t.isExpanded&&e.deleteAtRange(t);var n=e.value.document,r=t,o=r.start,i=r.end;return t=n.hasDescendant(o.path)?t.moveToStart():t.moveTo(i.path,0).normalize(n)}var Re={addMarkAtRange:function(e,t,n){if(!t.isCollapsed){var r=e.value.document,o=t.start,i=t.end,a=r.getTextsAtRange(t);e.withoutNormalizing(function(){a.forEach(function(t){var r=t.key,a=0,u=t.text.length;r===o.key&&(a=o.offset),r===i.key&&(u=i.offset),r===o.key&&r===i.key&&(u=i.offset-o.offset),e.addMarkByKey(r,a,u,n)})})}},addMarksAtRange:function(e,t,n){n.forEach(function(n){return e.addMarkAtRange(t,n)})},deleteAtRange:function(e,t){e.snapshotSelection();var n=e.value,r=t.start,o=t.end,i=r.key,a=r.offset,u=o.key,s=o.offset,c=n.document,l=c.hasVoidParent(i,e),f=c.hasVoidParent(u,e),d=c.getClosestBlock(i),h=c.getClosestBlock(u),p=0===a&&0===s&&!1===l&&i===d.getFirstText().key&&u===h.getFirstText().key&&i!==u;if(p&&f){var v=c.getPreviousText(u);u=v.key,s=v.text.length,f=c.hasVoidParent(u,e)}e.withoutNormalizing(function(){for(;l;){var t=c.getClosestVoid(i,e),n=c.getNextText(i);if(e.removeNodeByKey(t.key),i===u)return;if(!n)return;c=e.value.document,i=n.key,a=0,l=c.hasVoidParent(i,e)}for(;f;){var r=c.getClosestVoid(u,e),o=c.getPreviousText(u);e.removeNodeByKey(r.key),c=e.value.document,u=o.key,s=o.text.length,f=c.hasVoidParent(u,e)}if(i===u&&p)e.removeNodeByKey(d.key);else if(i!==u){d=c.getClosestBlock(i),h=c.getClosestBlock(u);var v=c.getNode(i),y=c.getNode(u),_=v.text.length-a,m=s,g=c.getCommonAncestor(i,u),b=g.getFurthestChild(i),k=g.getFurthestChild(u),w=c.getParent(d.key),x=w.nodes.indexOf(d),O=w.nodes.indexOf(h),E=void 0;for(E=v;E.key!==b.key;){var S=c.getParent(E.key),A=S.nodes.indexOf(E);S.nodes.slice(A+1).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),E=S}var T=g.nodes.indexOf(b),j=g.nodes.indexOf(k);for(g.nodes.slice(T+1,j).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),E=y;E.key!==k.key;){var C=c.getParent(E.key),P=C.nodes.indexOf(E);C.nodes.slice(0,P).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),E=C}if(0!==_&&e.removeTextByKey(i,a,_),0!==m&&e.removeTextByKey(u,0,s),d.key!==h.key){c=e.value.document;var I=void 0,B=!0,F=!1,R=void 0;try{for(var D,M=c.ancestors(h.key)[Symbol.iterator]();!(B=(D=M.next()).done);B=!0){var L=D.value,z=N(L,1)[0];if(z.nodes.size>1)break;I=z}}catch(e){F=!0,R=e}finally{try{!B&&M.return&&M.return()}finally{if(F)throw R}}O!==x+1&&e.moveNodeByKey(h.key,w.key,x+1),p?e.removeNodeByKey(d.key):e.mergeNodeByKey(h.key),I&&e.removeNodeByKey(I.key)}}else{var U=a,q=s-a;e.removeTextByKey(i,U,q)}})},deleteBackwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value.document,o=t,i=o.start,a=o.focus;if(t.isExpanded)e.deleteAtRange(t);else{var u=r.getClosestVoid(i.path,e);if(u)e.removeNodeByKey(u.key);else if(!i.isAtStartOfNode(r)){var s=r.getClosestBlock(i.path);if(1!==r.nodes.size&&s&&""===s.text&&1===s.nodes.size)e.removeNodeByKey(s.key);else{var c=r.getDescendant(i.path);if(i.isAtStartOfNode(c)){var l=r.getPreviousText(c.key);r.getClosestInline(c.key)&&""===l.text&&(l=r.getPreviousText(l.key));var f=r.getClosestBlock(l.key),d=r.getClosestVoid(l.key,e);if(d)return void e.removeNodeByKey(d.key);if(1===n&&f!==s)return t=t.moveAnchorTo(l.key,l.text.length),void e.deleteAtRange(t)}if(n<a.offset)return t=t.moveFocusBackward(n),void e.deleteAtRange(t);for(var h=c,p=0,v=a.offset;n>v;){var y=v+(h=r.getPreviousText(h.key)).text.length;if(n<=y){p=y-n;break}v=y}t=t.moveAnchorTo(h.key,p),e.deleteAtRange(t)}}}}},deleteCharBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset,a=o.text,u=Be.getCharOffsetBackward(a,i);e.deleteBackwardAtRange(t,u)}},deleteCharForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset,a=o.text,u=Be.getCharOffsetForward(a,i);e.deleteForwardAtRange(t,u)}},deleteForwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value.document,o=t,i=o.start,a=o.focus;if(t.isExpanded)e.deleteAtRange(t);else{var u=r.getClosestVoid(i.path,e);if(u)e.removeNodeByKey(u.key);else{var s=r.getClosestBlock(i.path);if(s&&!e.isVoid(s)&&""===s.text&&1!==r.nodes.size){var c=r.getNextBlock(s.key);return e.removeNodeByKey(s.key),void(c&&c.key&&e.moveToStartOfNode(c))}if(!i.isAtEndOfNode(r)){var l=r.getDescendant(i.path);if(i.isAtEndOfNode(l)){var f=r.getNextText(l.key),d=r.getClosestBlock(f.key),h=r.getClosestVoid(f.key,e);if(h)return void e.removeNodeByKey(h.key);if(1===n&&d!==s)return t=t.moveFocusTo(f.key,0),void e.deleteAtRange(t)}if(n<=l.text.length-a.offset)return t=t.moveFocusForward(n),void e.deleteAtRange(t);for(var p=l,v=a.offset,y=l.text.length-a.offset;n>y;){var _=y+(p=r.getNextText(p.key)).text.length;if(n<=_){v=n-y;break}y=_}t=t.moveFocusTo(p.key,v),e.deleteAtRange(t)}}}}},deleteLineBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.path).getOffset(r.key)+r.offset;e.deleteBackwardAtRange(t,o)}},deleteLineForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset;e.deleteForwardAtRange(t,o.text.length-i)}},deleteWordBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset,a=o.text,u=0===i?1:Be.getWordOffsetBackward(a,i);e.deleteBackwardAtRange(t,u)}},deleteWordForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset,a=o.text,u=Be.getWordOffsetForward(a,i),s=0===u?1:u;e.deleteForwardAtRange(t,s)}},insertBlockAtRange:function(e,t,n){t=Fe(e,t),n=fe.create(n);var r=e.value.document,o=t.start,i=o.key,a=o.offset,u=r.getClosestBlock(i),s=r.getClosestInline(i),c=r.getParent(u.key),l=c.nodes.indexOf(u),f=De(e,t);if("before"===f)e.insertNodeByKey(c.key,l,n);else if("behind"===f)e.insertNodeByKey(c.key,l+1,n);else{if(s&&e.isVoid(s)){var d=o.isAtEndOfNode(s),h=d?r.getNextText(i):r.getPreviousText(i),p=d?t.moveToStartOfNode(h):t.moveToEndOfNode(h);i=p.start.key,a=p.start.offset}e.withoutNormalizing(function(){e.splitDescendantsByKey(u.key,i,a),e.insertNodeByKey(c.key,l+1,n)})}}},De=function(e,t){var n=e.value.document,r=t.start,o=r.key,i=n.getClosestBlock(o),a=n.getClosestInline(o);return e.isVoid(i)?r.isAtEndOfNode(i)?"behind":"before":a||""!==i.text?r.isAtStartOfNode(i)?"before":r.isAtEndOfNode(i)?"behind":"split":"behind"};Re.insertFragmentAtRange=function(e,t,n){e.withoutNormalizing(function(){if(t=Fe(e,t),n.nodes.size){n=n.mapDescendants(function(e){return e.regenerateKey()});var o=t.start,i=e.value.document,a=i.getDescendant(o.path),u=i.getClosestBlock(a.key),s=u.getFurthestChild(a.key),c=o.isAtStartOfNode(u),l=i.getParent(u.key),f=l.nodes.indexOf(u),d=n.getBlocks(),h=n.nodes.first(),p=n.nodes.last(),v=d.first(),y=d.last(),_=Me(n,i,u.key);if(v===y&&e.isVoid(v))e.insertBlockAtRange(t,v);else if(_!==n||!h.hasBlockChildren()&&!p.hasBlockChildren()){if(v!==y){var m=_.getFurthest(v.key,function(e){return 1===e.nodes.size})||v,g=l.nodes.indexOf(u);_.removeNode(m.key).nodes.forEach(function(t,n){var r=g+n+1;e.insertNodeByKey(l.key,r,t)})}if(0!==o.offset&&e.splitDescendantsByKey(s.key,o.key,o.offset),a=(i=e.value.document).getDescendant(o.key),s=(u=i.getClosestBlock(o.key)).getFurthestChild(a.key),v!==y){var b=c?s:u.getNextSibling(s.key),k=b?u.nodes.skipUntil(function(e){return e.key===b.key}):Object(r.List)(),w=y.nodes.size;k.forEach(function(t,n){var r=w+n;e.moveNodeByKey(t.key,y.key,r)})}if(e.isVoid(u)||""!==u.text||u.findDescendant(function(t){return e.isVoid(t)})){var x=u.getFurthestChild(a.key),O=u.nodes.indexOf(x);v.nodes.forEach(function(t,n){var r=0===o.offset?0:1,i=O+n+r;e.insertNodeByKey(u.key,i,t)})}else e.removeNodeByKey(u.key),e.insertNodeByKey(l.key,f,v)}else{("before"===De(e,t)?n.nodes:n.nodes.reverse()).forEach(function(n){e.insertBlockAtRange(t,n)})}}})};var Me=function(e,t,n){var r=function(e){if(e&&"text"!==e.object)return 1===e.nodes.size},o=function(e){return e&&e.nodes.first()},i=e;if(r(e)){var a=o(e),u=t.getFurthest(n,function(e){return e.type===a.type});for(u===t.getParent(n)&&(i=a);r(a)&&r(u)&&(a=o(a),u=o(u),a.type===u.type);)i=a}return i};Re.insertInlineAtRange=function(e,t,n){n=ie.create(n),e.withoutNormalizing(function(){t=Fe(e,t);var r=e.value.document,o=t.start,i=r.getParent(o.path),a=r.assertDescendant(o.path),u=i.nodes.indexOf(a);e.isVoid(i)||(e.splitNodeByPath(o.path,o.offset),e.insertNodeByKey(i.key,u+1,n))})},Re.insertTextAtRange=function(e,t,n,r){e.withoutNormalizing(function(){t=Fe(e,t);var o=e.value.document,i=t.start,a=i.offset,u=o.getParent(i.path);e.isVoid(u)||e.insertTextByPath(i.path,a,n,r)})},Re.removeMarkAtRange=function(e,t,n){if(!t.isCollapsed){var r=e.value.document.getTextsAtRange(t),o=t.start,i=t.end;e.withoutNormalizing(function(){r.forEach(function(t){var r=t.key,a=0,u=t.text.length;r===o.key&&(a=o.offset),r===i.key&&(u=i.offset),r===o.key&&r===i.key&&(u=i.offset-o.offset),e.removeMarkByKey(r,a,u,n)})})}},Re.setBlocksAtRange=function(e,t,n){var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=t.start,a=t.end,u=t.isCollapsed,s=r.hasVoidParent(i.path,e),c=r.getClosestBlock(i.path),l=r.getClosestBlock(a.key),f=!1===u&&0===i.offset&&0===a.offset&&!1===s&&i.key===c.getFirstText().key&&a.key===l.getFirstText().key?o.slice(0,-1):o;e.withoutNormalizing(function(){f.forEach(function(t){e.setNodeByKey(t.key,n)})})},Re.setInlinesAtRange=function(e,t,n){var r=e.value.document.getLeafInlinesAtRange(t);e.withoutNormalizing(function(){r.forEach(function(t){e.setNodeByKey(t.key,n)})})},Re.splitBlockAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t=Fe(e,t),o=r.start,i=r.end,a=e.value,u=a.document,s=u.assertDescendant(o.path),c=u.getClosestBlock(s.key),l=0;c&&"block"===c.object&&l<n;)s=c,c=u.getClosestBlock(c.key),l++;e.withoutNormalizing(function(){if(e.splitDescendantsByKey(s.key,o.path,o.offset),a=e.value,u=a.document,t.isExpanded){t.isBackward&&(t=t.flip());var n=u.getNextBlock(s.key);t=(t=t.moveAnchorToStartOfNode(n)).setFocus(t.focus.setPath(null)),o.path.equals(i.path)&&(t=t.moveFocusTo(t.anchor.key,i.offset-o.offset)),t=u.resolveRange(t),e.deleteAtRange(t)}})},Re.splitInlineAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=(t=Fe(e,t)).start,o=e.value.document,i=o.assertDescendant(r.path),a=o.getClosestInline(i.key),u=0;a&&"inline"===a.object&&u<n;)i=a,a=o.getClosestInline(a.key),u++;e.splitDescendantsByKey(i.key,r.path,r.offset)},Re.toggleMarkAtRange=function(e,t,n){t.isCollapsed||(n=J.create(n),e.value.document.getActiveMarksAtRange(t).some(function(e){return e.equals(n)})?e.removeMarkAtRange(t,n):e.addMarkAtRange(t,n))},Re.unwrapBlockAtRange=function(e,t,n){n=ce.createProperties(n);var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=o.map(function(e){return r.getClosest(e.key,function(e){return"block"===e.object&&((null==n.type||e.type===n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))})}).filter(function(e){return e}).toOrderedSet().toList();e.withoutNormalizing(function(){i.forEach(function(t){var n=t.nodes.first(),i=t.nodes.last(),a=e.value.document.getParent(t.key),u=a.nodes.indexOf(t),s=t.nodes.filter(function(e){return o.some(function(t){return e===t||e.hasDescendant(t.key)})}),c=s.first(),l=s.last();if(n===c&&i===l)t.nodes.forEach(function(t,n){e.moveNodeByKey(t.key,a.key,u+n)}),e.removeNodeByKey(t.key);else if(i===l)t.nodes.skipUntil(function(e){return e===c}).forEach(function(t,n){e.moveNodeByKey(t.key,a.key,u+1+n)});else if(n===c)t.nodes.takeUntil(function(e){return e===l}).push(l).forEach(function(t,n){e.moveNodeByKey(t.key,a.key,u+n)});else{var f=c.getFirstText();e.splitDescendantsByKey(t.key,f.key,0),r=e.value.document,s.forEach(function(t,n){if(0===n){var o=t;t=r.getNextBlock(t.key),e.removeNodeByKey(o.key)}e.moveNodeByKey(t.key,a.key,u+1+n)})}})})},Re.unwrapInlineAtRange=function(e,t,n){n=ce.createProperties(n);var r=e.value.document,o=r.getTextsAtRange(t).map(function(e){return r.getClosest(e.key,function(e){return"inline"===e.object&&((null==n.type||e.type===n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))})}).filter(function(e){return e}).toOrderedSet().toList();e.withoutNormalizing(function(){o.forEach(function(t){var n=e.value.document.getParent(t.key),r=n.nodes.indexOf(t);t.nodes.forEach(function(t,o){e.moveNodeByKey(t.key,n.key,r+o)}),e.removeNodeByKey(t.key)})})},Re.wrapBlockAtRange=function(e,t,n){n=(n=fe.create(n)).set("nodes",n.nodes.clear());var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=o.first(),a=o.last(),u=void 0,s=void 0,c=void 0;if(1===o.length?(u=r.getParent(i.key),s=o):u=r.getClosest(i.key,function(e){return!!r.getClosest(a.key,function(t){return e===t})}),null==u&&(u=r),null==s){var l=u.nodes.reduce(function(e,t,n){return(t===i||t.hasDescendant(i.key))&&(e[0]=n),(t===a||t.hasDescendant(a.key))&&(e[1]=n),e},[]);c=l[0],s=u.nodes.slice(l[0],l[1]+1)}null==c&&(c=u.nodes.indexOf(s.first())),e.withoutNormalizing(function(){e.insertNodeByKey(u.key,c,n),s.forEach(function(t,r){e.moveNodeByKey(t.key,n.key,r)})})},Re.wrapInlineAtRange=function(e,t,n){var r=e.value.document,o=t.start,i=t.end;if(t.isCollapsed){var a=r.getClosestInline(o.path);if(!a)return;if(!e.isVoid(a))return;return e.wrapInlineByKey(a.key,n)}n=(n=ie.create(n)).set("nodes",n.nodes.clear());var u=r.getLeafBlocksAtRange(t),s=r.getClosestBlock(o.path),c=r.getClosestBlock(i.path),l=r.getClosestInline(o.path),f=r.getClosestInline(i.path),d=s.getFurthestChild(o.key),h=c.getFurthestChild(i.key);e.withoutNormalizing(function(){l&&l===f||(e.splitDescendantsByKey(h.key,i.key,i.offset),e.splitDescendantsByKey(d.key,o.key,o.offset)),r=e.value.document,s=r.getDescendant(s.key),c=r.getDescendant(c.key),d=s.getFurthestChild(o.key),h=c.getFurthestChild(i.key);var a=s.nodes.indexOf(d),p=c.nodes.indexOf(h);if(l&&l===f){var v=s.getTextsAtRange(t).map(function(e){return o.key===e.key&&i.key===e.key?e.splitText(o.offset)[1].splitText(i.offset-o.offset)[0].regenerateKey():o.key===e.key?e.splitText(o.offset)[1].regenerateKey():i.key===e.key?e.splitText(i.offset)[0].regenerateKey():e.regenerateKey()});n=n.set("nodes",v),e.insertInlineAtRange(t,n)}else if(s===c){r=e.value.document,s=r.getClosestBlock(o.key),d=s.getFurthestChild(o.key);var y=r.getNextSibling(d.key),_=s.nodes.indexOf(y),m=o.key===i.key?y:s.getFurthestChild(i.key),g=s.nodes.skipUntil(function(e){return e===y}).takeUntil(function(e){return e===m}).push(m),b=n.regenerateKey();e.insertNodeByKey(s.key,_,b),g.forEach(function(t,n){e.moveNodeByKey(t.key,b.key,n)})}else{var k=s.nodes.slice(a+1),w=c.nodes.slice(0,p+1),x=n.regenerateKey(),O=n.regenerateKey();e.insertNodeByKey(s.key,a+1,x),e.insertNodeByKey(c.key,p,O),k.forEach(function(t,n){e.moveNodeByKey(t.key,x.key,n)}),w.forEach(function(t,n){e.moveNodeByKey(t.key,O.key,n)}),u.slice(1,-1).forEach(function(t){var r=n.regenerateKey();e.insertNodeByKey(t.key,0,r),t.nodes.forEach(function(t,n){e.moveNodeByKey(t.key,r.key,n)})})}})},Re.wrapTextAtRange=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=t.start,i=t.end,a=t.moveToStart(),u=t.moveToEnd();o.path.equals(i.path)&&(u=u.moveForward(n.length)),e.withoutNormalizing(function(){e.insertTextAtRange(a,n),e.insertTextAtRange(u,r)})};var Le={addMarkByPath:function(e,t,n,r,o){o=J.create(o),e.addMarksByPath(t,n,r,[o])},addMarksByPath:function(e,t,n,r,o){if((o=J.createSet(o)).size){var i=e.value.document.assertNode(t);e.withoutNormalizing(function(){n+r<i.text.length&&e.splitNodeByPath(t,n+r),n>0&&(e.splitNodeByPath(t,n),t=z.increment(t),n=0),o.forEach(function(n){e.applyOperation({type:"add_mark",path:t,mark:J.create(n)})})})}},insertFragmentByPath:function(e,t,n,r){r.nodes.forEach(function(r,o){e.insertNodeByPath(t,n+o,r)})},insertNodeByPath:function(e,t,n,r){e.applyOperation({type:"insert_node",path:t.concat(n),node:r})},insertTextByPath:function(e,t,n,r,o){o=J.createSet(o);var i=e.value,a=i.annotations;i.document.assertNode(t),e.withoutNormalizing(function(){var i=!0,u=!1,s=void 0;try{for(var c,l=a.values()[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var f=c.value,d=f.start,h=f.end;e.isAtomic(f)&&(d.path.equals(t)&&d.offset<n&&(!h.path.equals(t)||h.offset>n)&&e.removeAnnotation(f))}}catch(e){u=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(u)throw s}}e.applyOperation({type:"insert_text",path:t,offset:n,text:r}),o.size&&e.addMarksByPath(t,n,r.length,o)})},mergeNodeByPath:function(e,t){var n=e.value.document,r=n.getDescendant(t),o=n.getPreviousSibling(t);if(!o)throw new Error('Unable to merge node with path "'+t+'", because it has no previous sibling.');var i="text"===o.object?o.text.length:o.nodes.size;e.applyOperation({type:"merge_node",path:t,position:i,properties:{type:r.type,data:r.data},target:null})},moveNodeByPath:function(e,t,n,r){if(z.isEqual(t,n))return e;var o=n.concat(r);if(z.isEqual(t,o))return e;e.applyOperation({type:"move_node",path:t,newPath:o})},removeMarkByPath:function(e,t,n,r,o){o=J.create(o),e.removeMarksByPath(t,n,r,[o])},removeMarksByPath:function(e,t,n,r,o){if((o=J.createSet(o)).size){var i=e.value.document.assertNode(t);e.withoutNormalizing(function(){n+r<i.text.length&&e.splitNodeByPath(t,n+r),n>0&&(e.splitNodeByPath(t,n),t=z.increment(t),n=0),o.forEach(function(o){e.applyOperation({type:"remove_mark",path:t,offset:n,length:r,mark:o})})})}},removeAllMarksByPath:function(e,t){var n=e.state.document.assertNode(t);e.withoutNormalizing(function(){if("text"!==n.object){var r=!0,o=!1,i=void 0;try{for(var a,u=n.texts()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=N(s,2),l=c[0],f=c[1],d=t.concat(f);e.removeMarksByPath(d,0,l.text.length,l.marks)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}else e.removeMarksByPath(t,0,n.text.length,n.marks)})},removeNodeByPath:function(e,t){var n=e.value.document.assertNode(t);e.applyOperation({type:"remove_node",path:t,node:n})},removeTextByPath:function(e,t,n,r){var o=e.value,i=o.document,a=o.annotations,u=i.assertNode(t).text.slice(n,n+r);e.withoutNormalizing(function(){var r=!0,o=!1,i=void 0;try{for(var s,c=a.values()[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,f=l.start,d=l.end;e.isAtomic(l)&&(f.path.equals(t)&&f.offset<n&&(!d.path.equals(t)||d.offset>n)&&e.removeAnnotation(l))}}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}e.applyOperation({type:"remove_text",path:t,offset:n,text:u})})},replaceNodeByPath:function(e,t,n){n=ce.create(n);var r=t.last(),o=z.lift(t);e.withoutNormalizing(function(){e.removeNodeByPath(t),e.insertNodeByPath(o,r,n)})},replaceTextByPath:function(e,t,n,r,o,i){e.withoutNormalizing(function(){e.removeTextByPath(t,n,r),e.insertTextByPath(t,n,o,i)})},setMarkByPath:function(e,t,n,r,o,i){o=J.create(o),i=J.createProperties(i);var a=e.value.document.assertNode(t);e.withoutNormalizing(function(){n+r<a.text.length&&e.splitNodeByPath(t,n+r),n>0&&(e.splitNodeByPath(t,n),t=z.increment(t),n=0),e.applyOperation({type:"set_mark",path:t,properties:o,newProperties:i})})},setNodeByPath:function(e,t,n){var r=e.value.document.assertNode(t);n=ce.createProperties(n);var o=d()(r,Object.keys(n));e.applyOperation({type:"set_node",path:t,properties:o,newProperties:n})},setTextByPath:function(e,t,n,r){var o=e.value.document.assertNode(t).text.length;e.replaceTextByPath(t,0,o,n,r)},splitNodeByPath:function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).target,o=void 0===r?null:r,i=e.value.document.getDescendant(t);e.applyOperation({type:"split_node",path:t,position:n,target:o,properties:{type:i.type,data:i.data}})},splitDescendantsByPath:function(e,t,n,r){if(t.equals(n))e.splitNodeByPath(n,r);else{var o=e.value.document,i=r,a=n;e.withoutNormalizing(function(){e.splitNodeByKey(n,r);var u=!0,s=!1,c=void 0;try{for(var l,f=o.ancestors(n)[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=N(d,2)[1],p=i;if(i=a.last()+1,a=h,e.splitNodeByPath(h,i,{target:p}),h.equals(t))break}}catch(e){s=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(s)throw c}}})}},unwrapInlineByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),u=a.getFirstText(),s=a.getLastText(),c=i.moveToRangeOfNode(u,s);e.unwrapInlineAtRange(c,n)},unwrapBlockByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),u=a.getFirstText(),s=a.getLastText(),c=i.moveToRangeOfNode(u,s);e.unwrapBlockAtRange(c,n)},unwrapNodeByPath:function(e,t){var n=e.value.document;n.assertNode(t);var r=z.lift(t),o=n.assertNode(r),i=t.last(),a=r.last(),u=z.lift(r),s=0===i,c=i===o.nodes.size-1;e.withoutNormalizing(function(){if(1===o.nodes.size)e.moveNodeByPath(t,u,a+1),e.removeNodeByPath(r);else if(s)e.moveNodeByPath(t,u,a);else if(c)e.moveNodeByPath(t,u,a+1);else{var n=z.increment(t,1,r.size-1);n=n.set(n.size-1,0),e.splitNodeByPath(r,i),e.moveNodeByPath(n,u,a+1)}})},unwrapChildrenByPath:function(e,t){t=z.create(t);var n=e.value.document.assertNode(t),r=z.lift(t),o=t.last(),i=n.nodes;e.withoutNormalizing(function(){i.reverse().forEach(function(n,a){var u=i.size-a-1,s=t.push(u);e.moveNodeByPath(s,r,o+1)}),e.removeNodeByPath(t)})},wrapBlockByPath:function(e,t,n){n=(n=fe.create(n)).set("nodes",n.nodes.clear());var r=z.lift(t),o=t.last(),i=z.increment(t);e.withoutNormalizing(function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)})},wrapInlineByPath:function(e,t,n){n=(n=ie.create(n)).set("nodes",n.nodes.clear());var r=z.lift(t),o=t.last(),i=z.increment(t);e.withoutNormalizing(function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)})},wrapNodeByPath:function(e,t,n){"block"===(n=ce.create(n)).object?e.wrapBlockByPath(t,n):"inline"===n.object&&e.wrapInlineByPath(t,n)}},ze=function(e){Le[e+"ByKey"]=function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=t.value.document.assertPath(n);t[e+"ByPath"].apply(t,[a].concat(o))}},Ue=!0,qe=!1,Ke=void 0;try{for(var We,Je=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(Ue=(We=Je.next()).done);Ue=!0){ze(We.value)}}catch(e){qe=!0,Ke=e}finally{try{!Ue&&Je.return&&Je.return()}finally{if(qe)throw Ke}}Le.moveNodeByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value.document,u=a.assertPath(t),s=a.assertPath(n);e.moveNodeByPath.apply(e,[u,s].concat(o))},Le.splitDescendantsByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value.document,u=a.assertPath(t),s=a.assertPath(n);e.splitDescendantsByPath.apply(e,[u,s].concat(o))};var Ve={};Ve.save=function(e,t){var n=e.operations,o=e.value.data,i=e.tmp,a=i.save,u=i.merge;if(!1!==a){var s=o.get("undos")||Object(r.List)(),c=s.last(),l=c&&c.last();if(null==u&&(u=0!==n.size||function(e,t){return!!t&&("set_selection"===e.type&&"set_selection"===t.type||"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&e.path.equals(t.path)||"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&e.path.equals(t.path))}(t,l)),u&&c){var f=c.push(t);s=(s=s.pop()).push(f)}else{var d=Object(r.List)([t]);s=s.push(d)}s.size>100&&(s=s.takeLast(100)),e.withoutSaving(function(){var t=Object(r.List)(),n=o.set("undos",s).set("redos",t);e.setData(n)})}},Ve.redo=function(e){var t=e.value.data,n=t.get("redos")||Object(r.List)(),o=t.get("undos")||Object(r.List)(),i=n.last();i&&e.withoutSaving(function(){e.withoutNormalizing(function(){i.forEach(function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",p()(o,"isFocused"))),e.applyOperation(t)}),n=n.pop(),o=o.push(i);var r=t.set("undos",o).set("redos",n);e.setData(r)})})},Ve.undo=function(e){var t=e.value.data,n=t.get("redos")||Object(r.List)(),o=t.get("undos")||Object(r.List)(),i=o.last();i&&e.withoutSaving(function(){e.withoutNormalizing(function(){i.slice().reverse().map(function(e){return e.invert()}).forEach(function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",p()(o,"isFocused"))),e.applyOperation(t)}),n=n.push(i),o=o.pop();var r=t.set("undos",o).set("redos",n);e.setData(r)})})},Ve.withoutMerging=function(e,t){var n=e.tmp.merge;e.tmp.merge=!1,t(e),e.tmp.merge=n},Ve.withoutSaving=function(e,t){var n=e.tmp.save;e.tmp.save=!1,t(e),e.tmp.save=n};var Ge={};function Ye(e,t){for(var n,r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=(n=e.value.selection)[t].apply(n,o);e.select(a)}function He(e,t,n,r){var o=t.slice(0,1).toUpperCase()+t.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),a=r.slice(0,1).toUpperCase()+r.slice(1),u="move"+o+"To"+i+"OfNode",s="text"===r?"getNode":"getClosest"+a,c=e.value,l=c.document,f=c.selection[t],d=l[s](f.key);d&&e[u](d)}function $e(e,t,n,r,o){var i=t.slice(0,1).toUpperCase()+t.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),u=r.slice(0,1).toUpperCase()+r.slice(1),s=o.slice(0,1).toUpperCase()+o.slice(1),c="move"+i+"To"+a+"OfNode",l="text"===o?"getNode":"getClosest"+s,f="get"+u+s,d=e.value,h=d.document,p=d.selection[t],v=h[l](p.key);if(v){var y=h[f](v.key);y&&e[c](y)}}function Ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Qe(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,i=o.document,a=o.selection,u=a[t],s=i.hasVoidParent(u.path,e);if(!s&&u.offset-n>=0){var c=a["move"+r+"Backward"](n);e.select(c)}else{var l=i.getPreviousText(u.path);if(l){var f=i.getClosestBlock(u.path).hasNode(l.key),d=l&&i.hasVoidParent(l.key,e);if(e["move"+r+"ToEndOfNode"](l),!s&&!d&&f){var h=e.value.selection["move"+r+"Backward"](n);e.select(h)}}}}}function Qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Ze(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,i=o.document,a=o.selection,u=a[t],s=i.getNode(u.path),c=i.hasVoidParent(u.path,e);if(!c&&u.offset+n<=s.text.length){var l=a["move"+r+"Forward"](n);e.select(l)}else{var f=i.getNextText(u.path);if(f){var d=i.getClosestBlock(u.path).hasNode(f.key),h=i.hasVoidParent(f.key,e);if(e["move"+r+"ToStartOfNode"](f),!c&&!h&&d){var p=e.value.selection["move"+r+"Forward"](n);e.select(p)}}}}}function Xe(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,u=i.text,s=Be.getWordOffsetBackward(u,a);e.command(Ze,t,s>0?s:1)}function et(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,u=i.text,s=Be.getWordOffsetForward(u,a);e.command(Qe,t,s>0?s:1)}Ge.blur=function(e){e.select({isFocused:!1})},Ge.deselect=function(e){var t=H.create();e.select(t)},Ge.focus=function(e){e.select({isFocused:!0})},Ge.flip=function(e){e.command(Ye,"flip")},Ge.moveAnchorBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ze,"anchor"].concat(n))},Ge.moveAnchorWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Xe,"anchor"].concat(n))},Ge.moveAnchorForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Qe,"anchor"].concat(n))},Ge.moveAnchorWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[et,"anchor"].concat(n))},Ge.moveAnchorTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveAnchorTo"].concat(n))},Ge.moveAnchorToEndOfBlock=function(e){e.command(He,"anchor","end","block")},Ge.moveAnchorToEndOfInline=function(e){e.command(He,"anchor","end","inline")},Ge.moveAnchorToEndOfDocument=function(e){e.moveAnchorToEndOfNode(e.value.document).moveToAnchor()},Ge.moveAnchorToEndOfNextBlock=function(e){e.command($e,"anchor","end","next","block")},Ge.moveAnchorToEndOfNextInline=function(e){e.command($e,"anchor","end","next","inline")},Ge.moveAnchorToEndOfNextText=function(e){e.command($e,"anchor","end","next","text")},Ge.moveAnchorToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveAnchorToEndOfNode"].concat(n))},Ge.moveAnchorToEndOfPreviousBlock=function(e){e.command($e,"anchor","end","previous","block")},Ge.moveAnchorToEndOfPreviousInline=function(e){e.command($e,"anchor","end","previous","inline")},Ge.moveAnchorToEndOfPreviousText=function(e){e.command($e,"anchor","end","previous","text")},Ge.moveAnchorToEndOfText=function(e){e.command(He,"anchor","end","text")},Ge.moveAnchorToStartOfBlock=function(e){e.command(He,"anchor","start","block")},Ge.moveAnchorToStartOfDocument=function(e){e.moveAnchorToStartOfNode(e.value.document).moveToAnchor()},Ge.moveAnchorToStartOfInline=function(e){e.command(He,"anchor","start","inline")},Ge.moveAnchorToStartOfNextBlock=function(e){e.command($e,"anchor","start","next","block")},Ge.moveAnchorToStartOfNextInline=function(e){e.command($e,"anchor","start","next","inline")},Ge.moveAnchorToStartOfNextText=function(e){e.command($e,"anchor","start","next","text")},Ge.moveAnchorToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveAnchorToStartOfNode"].concat(n))},Ge.moveAnchorToStartOfPreviousBlock=function(e){e.command($e,"anchor","start","previous","block")},Ge.moveAnchorToStartOfPreviousInline=function(e){e.command($e,"anchor","start","previous","inline")},Ge.moveAnchorToStartOfPreviousText=function(e){e.command($e,"anchor","start","previous","text")},Ge.moveAnchorToStartOfText=function(e){e.command(He,"anchor","start","text")},Ge.moveBackward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorBackward.apply(e,r)).moveFocusBackward.apply(t,r)},Ge.moveWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.moveFocusWordBackward.apply(e,n).moveToFocus()},Ge.moveEndBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ze,"end"].concat(n))},Ge.moveEndWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Xe,"end"].concat(n))},Ge.moveEndForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Qe,"end"].concat(n))},Ge.moveEndWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[et,"end"].concat(n))},Ge.moveEndTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveEndTo"].concat(n))},Ge.moveEndToEndOfBlock=function(e){e.command(He,"end","end","block")},Ge.moveEndToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},Ge.moveEndToEndOfInline=function(e){e.command(He,"end","end","inline")},Ge.moveEndToEndOfNextBlock=function(e){e.command($e,"end","end","next","block")},Ge.moveEndToEndOfNextInline=function(e){e.command($e,"end","end","next","inline")},Ge.moveEndToEndOfNextText=function(e){e.command($e,"end","end","next","text")},Ge.moveEndToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveEndToEndOfNode"].concat(n))},Ge.moveEndToEndOfPreviousBlock=function(e){e.command($e,"end","end","previous","block")},Ge.moveEndToEndOfPreviousInline=function(e){e.command($e,"end","end","previous","inline")},Ge.moveEndToEndOfPreviousText=function(e){e.command($e,"end","end","previous","text")},Ge.moveEndToEndOfText=function(e){e.command(He,"end","end","text")},Ge.moveEndToStartOfBlock=function(e){e.command(He,"end","start","block")},Ge.moveEndToStartOfDocument=function(e){e.moveEndToStartOfNode(e.value.document).moveToEnd()},Ge.moveEndToStartOfInline=function(e){e.command(He,"end","start","inline")},Ge.moveEndToStartOfNextBlock=function(e){e.command($e,"end","start","next","block")},Ge.moveEndToStartOfNextInline=function(e){e.command($e,"end","start","next","inline")},Ge.moveEndToStartOfNextText=function(e){e.command($e,"end","start","next","text")},Ge.moveEndToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveEndToStartOfNode"].concat(n))},Ge.moveEndToStartOfPreviousBlock=function(e){e.command($e,"end","start","previous","block")},Ge.moveEndToStartOfPreviousInline=function(e){e.command($e,"end","start","previous","inline")},Ge.moveEndToStartOfPreviousText=function(e){e.command($e,"end","start","previous","text")},Ge.moveEndToStartOfText=function(e){e.command(He,"end","start","text")},Ge.moveFocusBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ze,"focus"].concat(n))},Ge.moveFocusWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Xe,"focus"].concat(n))},Ge.moveFocusForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Qe,"focus"].concat(n))},Ge.moveFocusWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[et,"focus"].concat(n))},Ge.moveFocusTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveFocusTo"].concat(n))},Ge.moveFocusToEndOfBlock=function(e){e.command(He,"focus","end","block")},Ge.moveFocusToEndOfDocument=function(e){e.moveFocusToEndOfNode(e.value.document).moveToFocus()},Ge.moveFocusToEndOfInline=function(e){e.command(He,"focus","end","inline")},Ge.moveFocusToEndOfNextBlock=function(e){e.command($e,"focus","end","next","block")},Ge.moveFocusToEndOfNextInline=function(e){e.command($e,"focus","end","next","inline")},Ge.moveFocusToEndOfNextText=function(e){e.command($e,"focus","end","next","text")},Ge.moveFocusToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveFocusToEndOfNode"].concat(n))},Ge.moveFocusToEndOfPreviousBlock=function(e){e.command($e,"focus","end","previous","block")},Ge.moveFocusToEndOfPreviousInline=function(e){e.command($e,"focus","end","previous","inline")},Ge.moveFocusToEndOfPreviousText=function(e){e.command($e,"focus","end","previous","text")},Ge.moveFocusToEndOfText=function(e){e.command(He,"focus","end","text")},Ge.moveFocusToStartOfBlock=function(e){e.command(He,"focus","start","block")},Ge.moveFocusToStartOfDocument=function(e){e.moveFocusToStartOfNode(e.value.document).moveToFocus()},Ge.moveFocusToStartOfInline=function(e){e.command(He,"focus","start","inline")},Ge.moveFocusToStartOfNextBlock=function(e){e.command($e,"focus","start","next","block")},Ge.moveFocusToStartOfNextInline=function(e){e.command($e,"focus","start","next","inline")},Ge.moveFocusToStartOfNextText=function(e){e.command($e,"focus","start","next","text")},Ge.moveFocusToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveFocusToStartOfNode"].concat(n))},Ge.moveFocusToStartOfPreviousBlock=function(e){e.command($e,"focus","start","previous","block")},Ge.moveFocusToStartOfPreviousInline=function(e){e.command($e,"focus","start","previous","inline")},Ge.moveFocusToStartOfPreviousText=function(e){e.command($e,"focus","start","previous","text")},Ge.moveFocusToStartOfText=function(e){e.command(He,"focus","start","text")},Ge.moveForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorForward.apply(e,r)).moveFocusForward.apply(t,r)},Ge.moveWordForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveFocusWordForward.apply(e,r)).moveToFocus.apply(t,r)},Ge.moveStartBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ze,"start"].concat(n))},Ge.moveStartWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Xe,"start"].concat(n))},Ge.moveStartForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Qe,"start"].concat(n))},Ge.moveStartWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[et,"start"].concat(n))},Ge.moveStartTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveStartTo"].concat(n))},Ge.moveStartToEndOfBlock=function(e){e.command(He,"start","end","block")},Ge.moveStartToEndOfDocument=function(e){e.moveStartToEndOfNode(e.value.document).moveToStart()},Ge.moveStartToEndOfInline=function(e){e.command(He,"start","end","inline")},Ge.moveStartToEndOfNextBlock=function(e){e.command($e,"start","end","next","block")},Ge.moveStartToEndOfNextInline=function(e){e.command($e,"start","end","next","inline")},Ge.moveStartToEndOfNextText=function(e){e.command($e,"start","end","next","text")},Ge.moveStartToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveStartToEndOfNode"].concat(n))},Ge.moveStartToEndOfPreviousBlock=function(e){e.command($e,"start","end","previous","block")},Ge.moveStartToEndOfPreviousInline=function(e){e.command($e,"start","end","previous","inline")},Ge.moveStartToEndOfPreviousText=function(e){e.command($e,"start","end","previous","text")},Ge.moveStartToEndOfText=function(e){e.command(He,"start","end","text")},Ge.moveStartToStartOfBlock=function(e){e.command(He,"start","start","block")},Ge.moveStartToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},Ge.moveStartToStartOfInline=function(e){e.command(He,"start","start","inline")},Ge.moveStartToStartOfNextBlock=function(e){e.command($e,"start","start","next","block")},Ge.moveStartToStartOfNextInline=function(e){e.command($e,"start","start","next","inline")},Ge.moveStartToStartOfNextText=function(e){e.command($e,"start","start","next","text")},Ge.moveStartToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveStartToStartOfNode"].concat(n))},Ge.moveStartToStartOfPreviousBlock=function(e){e.command($e,"start","start","previous","block")},Ge.moveStartToStartOfPreviousInline=function(e){e.command($e,"start","start","previous","inline")},Ge.moveStartToStartOfPreviousText=function(e){e.command($e,"start","start","previous","text")},Ge.moveStartToStartOfText=function(e){e.command(He,"start","start","text")},Ge.moveTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveTo"].concat(n))},Ge.moveToAnchor=function(e){e.command(Ye,"moveToAnchor")},Ge.moveToEnd=function(e){e.command(Ye,"moveToEnd")},Ge.moveToEndOfBlock=function(e){e.moveEndToEndOfBlock().moveToEnd()},Ge.moveToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},Ge.moveToEndOfInline=function(e){e.moveEndToEndOfInline().moveToEnd()},Ge.moveToEndOfNextBlock=function(e){e.moveEndToEndOfNextBlock().moveToEnd()},Ge.moveToEndOfNextInline=function(e){e.moveEndToEndOfNextInline().moveToEnd()},Ge.moveToEndOfNextText=function(e){e.moveEndToEndOfNextText().moveToEnd()},Ge.moveToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveToEndOfNode"].concat(n))},Ge.moveToEndOfPreviousBlock=function(e){e.moveStartToEndOfPreviousBlock().moveToStart()},Ge.moveToEndOfPreviousInline=function(e){e.moveStartToEndOfPreviousInline().moveToStart()},Ge.moveToEndOfPreviousText=function(e){e.moveStartToEndOfPreviousText().moveToStart()},Ge.moveToEndOfText=function(e){e.moveEndToEndOfText().moveToEnd()},Ge.moveToFocus=function(e){e.command(Ye,"moveToFocus")},Ge.moveToRangeOfDocument=function(e){e.moveToRangeOfNode(e.value.document)},Ge.moveToRangeOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveToRangeOfNode"].concat(n))},Ge.moveToStart=function(e){e.command(Ye,"moveToStart")},Ge.moveToStartOfBlock=function(e){e.moveStartToStartOfBlock().moveToStart()},Ge.moveToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},Ge.moveToStartOfInline=function(e){e.moveStartToStartOfInline().moveToStart()},Ge.moveToStartOfNextBlock=function(e){e.moveEndToStartOfNextBlock().moveToEnd()},Ge.moveToStartOfNextInline=function(e){e.moveEndToStartOfNextInline().moveToEnd()},Ge.moveToStartOfNextText=function(e){e.moveEndToStartOfNextText().moveToEnd()},Ge.moveToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"moveToStartOfNode"].concat(n))},Ge.moveToStartOfPreviousBlock=function(e){e.moveStartToStartOfPreviousBlock().moveToStart()},Ge.moveToStartOfPreviousInline=function(e){e.moveStartToStartOfPreviousInline().moveToStart()},Ge.moveToStartOfPreviousText=function(e){e.moveStartToStartOfPreviousText().moveToStart()},Ge.moveToStartOfText=function(e){e.moveStartToStartOfText().moveToStart()},Ge.select=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=H.createProperties(t);var o=n.snapshot,i=void 0!==o&&o,a=e.value,u=a.document,s=a.selection,c={},l=s.setProperties(t);for(var f in l=u.resolveSelection(l),t=d()(l,Object.keys(t)))!0!==i&&Object(r.is)(t[f],s[f])||(c[f]=t[f]);if(s.marks&&!c.marks&&(c.anchor||c.focus)&&(c.marks=null),0!==Object.keys(c).length){var h=d()(s.toJSON(),Object.keys(c));e.applyOperation({type:"set_selection",value:a,properties:h,newProperties:c},i?{skip:!1,merge:!1}:{})}},Ge.setAnchor=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"setAnchor"].concat(n))},Ge.setEnd=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"setEnd"].concat(n))},Ge.setFocus=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"setFocus"].concat(n))},Ge.setStart=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ye,"setStart"].concat(n))},Ge.snapshotSelection=function(e){e.withoutMerging(function(){e.select(e.value.selection,{snapshot:!0})})};var tt={};function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onConstruct:function(t,n){for(var r in e)t.registerQuery(r);return n()},onQuery:function(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();var u=a.apply(void 0,[n].concat(j(i)));return void 0===u?r():u}}}tt.setData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.value,r=he.createProperties({data:t}),o=d()(n,Object.keys(r));e.applyOperation({type:"set_value",properties:o,newProperties:r})},tt.addAnnotation=function(e,t){t=te.create(t),e.applyOperation({type:"add_annotation",annotation:t})},tt.removeAnnotation=function(e,t){t=te.create(t),e.applyOperation({type:"remove_annotation",annotation:t})},tt.setAnnotation=function(e,t,n){t=te.create(t),n=te.createProperties(n),e.applyOperation({type:"set_annotation",properties:t,newProperties:n})};var rt=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,t);var r=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var o in r.code=e,n)r[o]=n[o];return Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return S(t,e),t}(Error);function ot(e){var t=e.rules,n=e.document,r=e.blocks,o=e.inlines,i=e.marks,a=e.annotations,u=e.decorations,s=[];if(t&&(s=s.concat(t)),n&&s.push(E({match:[{object:"document"}]},n)),r)for(var c in r)s.push(E({match:[{object:"block",type:c}]},r[c]));if(o)for(var l in o)s.push(E({match:[{object:"inline",type:l}]},o[l]));if(i)for(var f in i)s.push(E({match:[{object:"mark",type:f}]},i[f]));if(a)for(var d in a)s.push(E({match:[{object:"annotation",type:d}]},a[d]));if(u)for(var h in u)s.push(E({match:[{object:"decoration",type:h}]},u[h]));function p(e,t,n){var r=s.filter(function(t){return it(e,t.match)}),o=at(e,r,s,{every:!0});return o?new rt(o.code,o):n()}return[{normalizeNode:function(e,t,n){var r=p(e,0,function(){});return r?function(){var e=r.rule,n=t.operations.size;e.normalize&&e.normalize(t,r),t.operations.size===n&&function(e,t){var n=t.code,r=t.node,o=t.child,i=t.next,a=t.previous,u=t.key,s=t.mark;switch(n){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(a.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(i.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach(function(t){return e.removeNodeByKey(t.key)}):e.removeNodeByKey(r.key);case"node_data_invalid":return void 0===r.data.get(u)&&"document"!==r.object?e.removeNodeByKey(r.key):e.setNodeByKey(r.key,{data:r.data.delete(u)});case"node_mark_invalid":return r.getTexts().forEach(function(t){return e.removeMarkByKey(t.key,0,t.text.length,s)});default:e.removeNodeByKey(r.key)}}(t,r)}:n()},validateNode:p},nt({isAtomic:function(e,t){var n=s.find(function(e){return"isAtomic"in e&&it(t,e.match)});return n&&n.isAtomic},isVoid:function(e,t){var n=s.find(function(e){return"isVoid"in e&&it(t,e.match)});return n&&n.isVoid}})]}function it(e,t){return!at(e,t)}function at(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.every,i=void 0!==o&&o,a=r.match;if("function"==typeof t)return t(e,void 0===a?null:a)?null:lt("node_invalid",{rule:t,node:e});if(Array.isArray(t)){var u=t.length?t:[{}],s=void 0,c=!0,l=!1,f=void 0;try{for(var d,h=u[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=at(e,d.value,n);if(s=s||p,i&&p)return p;if(!i&&!p)return}}catch(e){l=!0,f=e}finally{try{!c&&h.return&&h.return()}finally{if(l)throw f}}return s}return function(e,t){if(null==t.object)return;if(t.object===e.object)return;if("function"==typeof t.object&&t.object(e.object))return;return lt("node_object_invalid",{rule:t,node:e})}(e,t)||function(e,t){if(null==t.type)return;if(t.type===e.type)return;if("function"==typeof t.type&&t.type(e.type))return;return lt("node_type_invalid",{rule:t,node:e})}(e,t)||function(e,t){if(null==t.data)return;if(null==e.data)return;if("function"==typeof t.data){if(t.data(e.data))return;return lt("node_data_invalid",{rule:t,node:e})}for(var n in t.data){var r=t.data[n],o=e.data&&e.data.get(n),i="function"==typeof r?r(o):r===o;if(!i)return lt("node_data_invalid",{rule:t,node:e,key:n,value:o})}}(e,t)||function(e,t){if(null==t.marks)return;var n="text"===e.object?e.marks.toArray():e.getMarks().toArray(),r=function(n){var r=t.marks.some(function(e){return"function"==typeof e.type?e.type(n.type):e.type===n.type});return r?"continue":{v:lt("node_mark_invalid",{rule:t,node:e,mark:n})}},o=!0,i=!1,a=void 0;try{for(var u,s=n[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=r(c);switch(l){case"continue":continue;default:if("object"===(void 0===l?"undefined":k(l)))return l.v}}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}(e,t)||function(e,t){if(null==t.text)return;var n=e.text;if("function"==typeof t.text?t.text(n):t.text.test(n))return;return lt("node_text_invalid",{rule:t,node:e,text:n})}(e,t)||function(e,t){if(null==t.first)return;var n=e.nodes.first();if(!n)return;var r=at(n,t.first);if(!r)return;return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","first_child_"),r}(e,t)||function(e,t){if(null==t.last)return;var n=e.nodes.last();if(!n)return;var r=at(n,t.last);if(!r)return;return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","last_child_"),r}(e,t)||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null==e.nodes)return;var r=e.nodes,o=null!=t.nodes?t.nodes.slice():[],i=0,a=0,u=null,s=-1,c=null,l=null,f=null,d=null,h=null;function p(){return 0!==o.length&&(c=o.shift(),a=i,i=0,u=c.min||null,l=c.max||null,!0)}function v(){return d=(s+=1)?r.get(s-1):null,f=r.get(s),h=r.get(s+1),!!f&&(a=i,i+=1,!0)}function y(){s>0&&(s-=1,i=a)}null!=t.nodes&&p();for(;v();){var _=ut(e,f,n)||st(e,f,d,s,n)||ct(e,f,h,s,n);if(_)return _;if(null!=t.nodes){if(!c)return lt("child_unknown",{rule:t,node:e,child:f,index:s});if(c.match){var m=at(f,c.match);if(m){if(null!=l&&i-1>l)return y(),lt("child_max_invalid",{rule:t,node:e,index:s,child:r.get(s),count:i,limit:l});var g=u;if(p()){if(a-1>=g){s-=1;continue}return null==at(f,c.match)?(y(),lt("child_min_invalid",{rule:t,node:e,index:s,count:a-1,limit:g})):(m.rule=t,m.node=e,m.child=f,m.index=s,m.code=m.code.replace("node_","child_"),m)}return null!=l&&i>l?lt("child_unknown",{rule:t,node:e,child:f,index:s}):(m.rule=t,m.node=e,m.child=f,m.index=s,m.code=m.code.replace("node_","child_"),m)}}}}if(null!=l&&i>l)return lt("child_max_invalid",{rule:t,node:e,index:s-1,count:i,child:r.get(s-1),limit:l});if(null!=t.nodes)do{if(i<u)return lt("child_min_invalid",{rule:t,node:e,index:s,count:i,limit:u})}while(p())}(e,t,n)}function ut(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;if(null!=s.parent&&it(t,s.match)){var c=at(e,s.parent);if(c)return c.rule=s,c.parent=e,c.node=t,c.code=c.code.replace("node_","parent_"),c}}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}function st(e,t,n,r,o){if(n){var i=!0,a=!1,u=void 0;try{for(var s,c=o[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(null!=l.previous&&it(t,l.match)){var f=at(n,l.previous);if(f)return f.rule=l,f.node=e,f.child=t,f.index=r,f.previous=n,f.code=f.code.replace("node_","previous_sibling_"),f}}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}}}function ct(e,t,n,r,o){if(n){var i=!0,a=!1,u=void 0;try{for(var s,c=o[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value;if(null!=l.next&&it(t,l.match)){var f=at(n,l.next,[],{match:t});if(f)return f.rule=l,f.node=e,f.child=t,f.index=r,f.next=n,f.code=f.code.replace("node_","next_sibling_"),f}}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}}}function lt(e,t){return E({code:e},t)}function ft(e){e.value.selection.isExpanded&&e.delete()}var dt={};dt.addMark=function(e,t){t=J.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.addMarkAtRange(o,t);else if(o.marks){var i=o.marks.add(t),a=o.set("marks",i);e.select(a)}else{var u=r.getActiveMarksAtRange(o).add(t),s=o.set("marks",u);e.select(s)}},dt.addMarks=function(e,t){t.forEach(function(t){return e.addMark(t)})},dt.delete=function(e){var t=e.value.selection;e.deleteAtRange(t),e.moveToFocus()},dt.deleteBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value.selection;n.isExpanded?e.delete():e.deleteBackwardAtRange(n,t)},dt.deleteCharBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharBackwardAtRange(t)},dt.deleteLineBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineBackwardAtRange(t)},dt.deleteWordBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordBackwardAtRange(t)},dt.deleteForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value.selection;n.isExpanded?e.delete():e.deleteForwardAtRange(n,t)},dt.deleteCharForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharForwardAtRange(t)},dt.deleteLineForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineForwardAtRange(t)},dt.deleteWordForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordForwardAtRange(t)},dt.insertBlock=function(e,t){ft(e),t=fe.create(t);var n=e.value.selection;e.insertBlockAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},dt.insertFragment=function(e,t){if(t.nodes.size){ft(e);var n=e.value,r=n,o=r.document,i=r.selection,a=i.start,u=i.end,s=n,c=s.startText,l=s.endText,f=s.startInline,d=t.getLastText(),h=t.getClosestInline(d.key),p=t.getClosestBlock(d.key),v=t.nodes.first(),y=t.nodes.last(),_=Array.from(o.texts(),function(e){return N(e,1)[0].key}),m=!f||a.isAtStartOfNode(c)||u.isAtStartOfNode(c)||a.isAtEndOfNode(l)||u.isAtEndOfNode(l),g=v.hasBlockChildren()||y.hasBlockChildren();e.insertFragmentAtRange(i,t);var b=(o=(n=e.value).document).getTexts().filter(function(e){return!_.includes(e.key)}),k=m?b.last():b.takeLast(2).first();if(k&&(h||g))e.moveToEndOfNode(k);else if(k){var w=p.nodes,x=w.findLastIndex(function(e){return e&&"inline"===e.object}),O=w.takeLast(w.size-x-1).reduce(function(e,t){return e+t.text.length},0);e.moveToStartOfNode(k).moveForward(O)}}},dt.insertInline=function(e,t){ft(e),t=ie.create(t);var n=e.value.selection;e.insertInlineAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},dt.insertText=function(e,t,n){ft(e);var r=e.value,o=r.document,i=r.selection;n=n||i.marks||o.getInsertMarksAtRange(i),e.withoutNormalizing(function(){e.insertTextAtRange(i,t,n),i.marks&&o!==e.value.document&&e.select({marks:null})})},dt.removeMark=function(e,t){t=J.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.removeMarkAtRange(o,t);else if(o.marks){var i=o.marks.remove(t),a=o.set("marks",i);e.select(a)}else{var u=r.getActiveMarksAtRange(o).remove(t),s=o.set("marks",u);e.select(s)}},dt.replaceMark=function(e,t,n){e.removeMark(t),e.addMark(n)},dt.setBlocks=function(e,t){var n=e.value.selection;e.setBlocksAtRange(n,t)},dt.setInlines=function(e,t){var n=e.value.selection;e.setInlinesAtRange(n,t)},dt.splitBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ft(e);var n=e.value,r=n.selection,o=n.document,i=r.marks||o.getInsertMarksAtRange(r);e.splitBlockAtRange(r,t).moveToEnd(),i&&0!==i.size&&e.select({marks:i})},dt.splitInline=function(e,t){ft(e);var n=e.value.selection;e.splitInlineAtRange(n,t)},dt.toggleMark=function(e,t){t=J.create(t),e.value.activeMarks.has(t)?e.removeMark(t):e.addMark(t)},dt.unwrapBlock=function(e,t){var n=e.value.selection;e.unwrapBlockAtRange(n,t)},dt.unwrapInline=function(e,t){var n=e.value.selection;e.unwrapInlineAtRange(n,t)},dt.wrapBlock=function(e,t){var n=e.value.selection;e.wrapBlockAtRange(n,t)},dt.wrapInline=function(e,t){var n=e.value.selection;e.wrapInlineAtRange(n,t)},dt.wrapText=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.value.selection;e.wrapTextAtRange(r,t,n),r.isCollapsed&&e.moveStartBackward(t.length),e.moveEndBackward(n.length),r.isForward!==e.value.selection.isForward&&e.flip()};var ht=c()("slate:editor"),pt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,e);var o=n.controller,i=void 0===o?this:o,a=n.construct,u=void 0===a||a,s=t.onChange,c=void 0===s?function(){}:s,l=t.plugins,f=void 0===l?[]:l,d=t.readOnly,h=void 0!==d&&d,p=t.value,v=void 0===p?he.create():p;this.controller=i,this.middleware={},this.onChange=c,this.operations=Object(r.List)(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0},function e(t,n){if(Array.isArray(n))return void n.forEach(function(n){return e(t,n)});if(null==n)return;var r=n.commands,o=n.queries,i=n.schema,a=A(n,["commands","queries","schema"]);if(r){var u=xe(r);e(t,u)}if(o){var s=nt(o);e(t,s)}if(i){var c=ot(i);e(t,c)}for(var l in a){var f=a[l],d=t.middleware[l]=t.middleware[l]||[];d.push(f)}}(this,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,t=void 0===e?[]:e,n=xe(E({},Re,Le,Ve,Ge,tt,dt)),r=nt({isAtomic:function(){return!1},isVoid:function(){return!1}});return[ot({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(e,t){var n=t.code,r=t.node;"child_min_invalid"===n&&r.nodes.isEmpty()&&e.insertNodeByKey(r.key,0,se.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=se.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else{if("last_child_object_invalid"!==n)return;i=r.nodes.size}e.insertNodeByKey(r.key,i,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=t.index,i=se.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else if("last_child_object_invalid"===n)a=r.nodes.size;else if("previous_sibling_object_invalid"===n)a=o;else{if("next_sibling_object_invalid"!==n)return;a=o+1}e.insertNodeByKey(r.key,a,i)}},{match:{object:"text"},next:function(e,t){return"text"!==e.object||!t.marks.equals(e.marks)},normalize:function(e,t){var n=t.code,r=t.next;"next_sibling_invalid"===n&&e.mergeNodeByKey(r.key)}},{match:{object:"text"},previous:function(e){return"text"!==e.object||""!==e.text},next:function(e){return"text"!==e.object||""!==e.text},normalize:function(e,t){var n=t.code,r=t.next,o=t.previous;"next_sibling_invalid"===n?e.removeNodeByKey(r.key):"previous_sibling_invalid"===n&&e.removeNodeByKey(o.key)}}]})].concat(j(t),[n,r])}({plugins:f})),u&&(this.run("onConstruct"),this.setReadOnly(h),this.setValue(v,n))}return x(e,[{key:"applyOperation",value:function(e){var t=this,n=this.operations,r=this.controller,o=this.value;i()(e)&&(e=E({},e,{value:o})),e=be.create(e),this.withoutNormalizing(function(){r.save(e),o=t.value}),ht("apply",{operation:e}),this.value=e.apply(o),this.operations=n.push(e);var a=function(e){var t=e.type,n=e.node,r=e.path,o=e.newPath;switch(t){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var i=z.getAncestors(r).toArray();return[].concat(j(i),[r]);case"insert_node":var a=n.getKeysToPathsTable(),u=Object.values(a).map(function(e){return r.concat(e)}),s=z.getAncestors(r).toArray();return[].concat(j(s),[r],j(u));case"split_node":var c=z.getAncestors(r).toArray(),l=z.increment(r);return[].concat(j(c),[r,l]);case"merge_node":var f=z.getAncestors(r).toArray(),d=z.decrement(r);return[].concat(j(f),[d]);case"move_node":if(z.isEqual(r,o))return[];var h=z.getAncestors(r).reduce(function(t,n){return t.push.apply(t,j(z.transform(n,e).toArray())),t},[]),p=z.getAncestors(o).reduce(function(t,n){return t.push.apply(t,j(z.transform(n,e).toArray())),t},[]);return[].concat(j(h),j(p));case"remove_node":var v=z.getAncestors(r).toArray();return[].concat(j(v));default:return[]}}(e),u=this.tmp.dirty.reduce(function(t,n){n=z.create(n);var r=z.transform(n,e);return t=t.concat(r.toArray())},a);return this.tmp.dirty=u,this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then(function(){return t.flush()})),r}},{key:"flush",value:function(){this.run("onChange");var e=this.value,t=this.operations,n=this.controller,o={value:e,operations:t};return this.operations=Object(r.List)(),this.tmp.flushing=!1,this.onChange(o),n}},{key:"command",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof e)return e.apply(void 0,[o].concat(n)),vt(this),o;ht("command",{type:e,args:n});var i={type:e,args:n};return this.run("onCommand",i),vt(this),o}},{key:"hasCommand",value:function(e){var t=this.controller;return e in t&&t[e].__command}},{key:"hasQuery",value:function(e){var t=this.controller;return e in t&&t[e].__query}},{key:"normalize",value:function(){var e=this.value,t=this.controller,n=e.document,r=n.getKeysToPathsTable(),o=Object.values(r).map(z.create);this.tmp.dirty=this.tmp.dirty.concat(o),vt(this);var i=e.selection;return n=e.document,i.isUnset&&n.nodes.size&&t.moveToStartOfDocument(),t}},{key:"query",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof e)return e.apply(void 0,[o].concat(n));ht("query",{type:e,args:n});var i={type:e,args:n};return this.run("onQuery",i)}},{key:"registerCommand",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__command)return n;Object(u.a)(!(e in n),"You cannot register a `"+e+"` command because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.command.apply(t,[e].concat(r))};return n[e]=r,r.__command=!0,n}},{key:"registerQuery",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__query)return n;Object(u.a)(!(e in n),"You cannot register a `"+e+"` query because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.query.apply(t,[e].concat(r))};return n[e]=r,r.__query=!0,n}},{key:"run",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller,i=this.middleware[e]||[],a=0;function s(){var e=i[a++];if(e){for(var t=arguments.length,r=Array(t),u=0;u<t;u++)r[u]=arguments[u];return r.length&&(n=r),e.apply(void 0,j(n).concat([o,s]))}}return Object.defineProperty(s,"change",{get:function(){Object(u.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"onChange",{get:function(){Object(u.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"props",{get:function(){Object(u.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"schema",{get:function(){Object(u.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"stack",{get:function(){Object(u.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),s()}},{key:"setReadOnly",value:function(e){return this.readOnly=e,this}},{key:"setValue",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).normalize,n=void 0===t?e!==this.value:t;return this.value=e,n&&this.normalize(),this}},{key:"withoutNormalizing",value:function(e){var t=this.controller,n=this.tmp.normalize;return this.tmp.normalize=!1,e(t),this.tmp.normalize=n,vt(this),t}},{key:"change",value:function(e){Object(a.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,[this.controller].concat(n))}},{key:"call",value:function(e){Object(a.a)(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this.controller].concat(n)),this.controller}},{key:"applyOperations",value:function(e){var t=this;return Object(a.a)(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),e.forEach(function(e){return t.applyOperation(e)}),this.controller}},{key:"setOperationFlag",value:function(e,t){return Object(a.a)(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[e]=t,this}},{key:"getFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),void 0!==t[e]?t[e]:this.tmp[e]}},{key:"unsetOperationFlag",value:function(e){return Object(a.a)(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[e],this}},{key:"withoutNormalization",value:function(e){return Object(a.a)(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(e)}},{key:"editor",get:function(){return Object(a.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),e}();function vt(e){e.tmp.normalize&&e.tmp.dirty.length&&e.withoutNormalizing(function(){for(;e.tmp.dirty.length;){var t=e.tmp.dirty.pop();yt(e,t)}})}function yt(e,t){for(var n=e.controller,r=e.value,o=r.document,i=o.assertNode(t),a=0,u=100+("text"===i.object?1:i.nodes.size);i;){var s=i.normalize(n);if(!s)break;s(n),o=(r=e.value).document;var c=i.key,l=o.getDescendant(t);if(l&&l.key===c)i=l;else{if(!(l=o.getDescendant(c)))break;i=l,t=o.getPath(c)}if(++a>u)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}var _t={marks:void 0,text:void 0},mt=function(e){function t(){return w(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"updateMark",value:function(e,t){var n=this.marks;if(t.equals(e))return this;if(!n.has(e))return this;var r=n.withMutations(function(n){n.remove(e).add(t)});return this.set("marks",r)}},{key:"addMark",value:function(e){var t=this.marks;return this.set("marks",t.add(e))}},{key:"addMarks",value:function(e){var t=this.marks;return this.set("marks",t.union(e))}},{key:"insertText",value:function(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function(e){var t=this.marks;return this.set("marks",t.remove(e))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(!1,"As of slate@0.47 the `Leaf` model is deprecated."),t.isLeaf(e))return e;if("string"==typeof e&&(e={text:e}),i()(e))return t.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function(e){if(e.size<=1)return e;var t=!1,n=Object(r.List)().withMutations(function(n){e.findLast(function(e,r){var o=n.first();if(o){if(o.marks.equals(e.marks))return t=!0,void n.set(0,o.set("text",""+e.text+o.text));if(""===o.text)return t=!0,void n.set(0,e);if(""===e.text)return void(t=!0)}n.unshift(e)})});return t?n:e}},{key:"splitLeaves",value:function(e,t){if(t<0)return[Object(r.List)(),e];if(0===e.size)return[Object(r.List)(),Object(r.List)()];var n=0,o=-1,i=void 0,a=void 0;return e.find(function(e){o++;var r=n,u=e.text;if((n+=u.length)<t)return!1;if(r>t)return!1;var s=t-r;return i=e.set("text",u.slice(0,s)),a=e.set("text",u.slice(s)),!0}),i?""===i.text?0===o?[r.List.of(i),e]:[e.take(o),e.skip(o)]:""===a.text?o===e.size-1?[e,r.List.of(a)]:[e.take(o+1),e.skip(o+1)]:[e.take(o).push(i),e.skip(o+1).unshift(a)]:[e,Object(r.List)()]}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(e)||Array.isArray(e))return new r.List(e.map(t.create));throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.text,o=void 0===n?"":n,i=e.marks,a=void 0===i?[]:i;return new t({text:o,marks:Object(r.Set)(a.map(J.fromJSON))})}},{key:"isLeafList",value:function(e){return r.List.isList(e)&&e.every(function(e){return t.isLeaf(e)})}}]),t}(Object(r.Record)(_t));function gt(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=!0,c=!1,l=void 0;try{for(var f,d=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var h=f.value;if(!u.hasOwnProperty(h)){var p=Object.getOwnPropertyDescriptor(e,h);Object.defineProperty(u,h,p)}}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}var v=!0,y=!1,_=void 0;try{for(var m,g=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(v=(m=g.next()).done);v=!0){var b=m.value;if(!u.prototype.hasOwnProperty(b)){p=Object.getOwnPropertyDescriptor(e.prototype,b);Object.defineProperty(u.prototype,b,p)}}}catch(e){y=!0,_=e}finally{try{!v&&g.return&&g.return()}finally{if(y)throw _}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}Object.entries({Annotation:te,Block:fe,Change:we,Decoration:G,Document:re,Editor:pt,Inline:ie,Leaf:mt,Mark:J,Node:ce,Operation:be,Point:q,Range:X,Selection:H,Text:se,Value:he}).forEach(function(e){var t=N(e,2),n=t[0],r=t[1];return gt(function(e){var t=$[e],n="is"+e.charAt(0).toUpperCase()+e.slice(1),r=function(){function t(){w(this,t)}return x(t,[{key:"object",get:function(){return e}}]),t}();return r[n]=Z.bind(null,e),r.prototype[t]=!0,r}(n.toLowerCase()),[r])}),gt(function(){function e(){w(this,e)}return x(e,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),e}(),[te,fe,G,re,ie,mt,J,ce,be,q,X,H,se,he]);var bt=!0,kt=Symbol("LEAF"),wt=Symbol("STORE_KEY"),xt=Symbol("undefined"),Ot=Symbol("null"),Et=void 0,St=new WeakMap;function At(e,t){var n=function(t){var n=e[t];if(!n)throw new Error('Object does not have a property named "'+t+'".');e[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!bt)return n.apply(this,r);St.has(this)||St.set(this,{noArgs:{},hasArgs:{}});var i=St.get(this),a=i.noArgs,u=i.hasArgs,s=0!==r.length,c=void 0,l=void 0;if((c=s?function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(void 0===u?u=xt:null==u&&(u=Ot),(e="object"===(void 0===u?"undefined":k(u))?e[wt]&&e[wt].get(u):e[u])===Et)return Et}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e[kt]}(u,l=[t].concat(r)):a[t])!==Et)return c===xt?void 0:c;var f=n.apply(this,r),d=void 0===f?xt:f;return s?function(e,t,n){var r=e,o=!0,i=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;if(void 0===c?c=xt:null==c&&(c=Ot),"object"===(void 0===c?"undefined":k(c)))if(r[wt]||(r[wt]=new WeakMap),r[wt].has(c))r=r[wt].get(c);else{var l={};r[wt].set(c,l),r=l}else r[c]||(r[c]={}),r=r[c]}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}r[kt]=n}(u,l,d):a[t]=d,f}},r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){n(a.value)}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}function Tt(){St=new WeakMap}function Nt(e){bt=e}var jt=function(){function e(){w(this,e)}return x(e,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.find(function(t){return"text"===t.object||!!(e=t.getFirstText())});return e||t}},{key:"getKeysToPathsTable",value:function(){var e=O({},this.key,[]);return this.nodes&&this.nodes.forEach(function(t,n){var r=t.getKeysToPathsTable();for(var o in r){var i=r[o];Object(a.a)(!(o in e),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),e[o]=[n].concat(j(i))}}),e}},{key:"getLastText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.findLast(function(t){return"text"===t.object||(e=t.getLastText())});return e||t}},{key:"getNode",value:function(e){return(e=this.resolvePath(e))?"text"===this.object&&e.size?null:e.size?this.getDescendant(e):this:null}},{key:"getPath",value:function(e){if(r.List.isList(e))return e;if(ce.isNode(e)&&this.descendants){var t=!0,n=!1,o=void 0;try{for(var i,a=this.descendants()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value,s=N(u,2),c=s[0],l=s[1];if(e===c)return l}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}}var f=this.getKeysToPathsTable()[e];return f?Object(r.List)(f):null}},{key:"getText",value:function(){return"text"===this.object?this.text:this.nodes.reduce(function(e,t){return e+t.text},"")}},{key:"hasNode",value:function(e){return!!this.getNode(e)}},{key:"normalize",value:function(e){return e.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var e=b.create();return this.set("key",e)}},{key:"resolvePath",value:function(e,t){return"string"==typeof e?(e=this.getPath(e),null!=t&&(e=e.concat(t))):e=z.create(e),e}},{key:"validate",value:function(e){return e.run("validateNode",this)}}]),e}();At(jt.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),gt(jt,[fe,re,ie,se]);var Ct=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Pt(){return!0}var It=function(){function e(){w(this,e)}return x(e,[{key:"addMark",value:function(e,t){e=this.resolvePath(e);var n=this.assertDescendant(e);return n=n.addMark(t),this.replaceNode(e,n)}},{key:"ancestors",value:function(e){return this.createIterable({path:e,direction:null,downward:!1,includeTargetAncestors:!0,includeRoot:!0})}},{key:"blocks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onlyLeaves,n=e.onlyRoots,r=e.onlyTypes,o=e.match,i=A(e,["onlyLeaves","onlyRoots","onlyTypes","match"]);return this.descendants(E({includeDocument:!1,includeInlines:!1,includeTexts:!1},i,{match:function(e,i){return!(r&&!r.includes(e.type))&&((!n||1===i.size)&&(!(t&&!e.isLeafBlock())&&!(o&&!o(e,i))))}}))}},{key:"createAnnotation",value:function(e){return e=te.createProperties(e),this.resolveAnnotation(e)}},{key:"createDecoration",value:function(e){return e=G.createProperties(e),this.resolveDecoration(e)}},{key:"createIterable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.direction,n=void 0===t?"forward":t,r=e.downward,o=void 0===r||r,i=e.upward,a=void 0===i||i,u=e.includeBlocks,s=void 0===u||u,c=e.includeDocument,l=void 0===c||c,f=e.includeInlines,d=void 0===f||f,h=e.includeRoot,p=void 0!==h&&h,v=e.includeTarget,y=void 0===v?!!e.range:v,_=e.includeTargetAncestors,m=void 0!==_&&_,g=e.includeTexts,b=void 0===g||g,k=e.match,w=void 0===k?null:k,x=this,E=null,S=null;e.range?(S=x.resolveRange(e.range),E=x.resolvePath(S.start.path)):e.path&&(E=x.resolvePath(e.path));var A=E&&x.assertNode(E),T="undefined"==typeof window?Ct.Set:window.Set;return O({},Symbol.iterator,function(){var e=new T,t=S&&S.start.path,r=S&&S.end.path,i=E,u=A,c=!1,f=!1,h=!1,v=function(){return i&&u?(p||u!==x)&&(s||"block"!==u.object)&&(l||"document"!==u.object)&&(d||"inline"!==u.object)&&(b||"text"!==u.object)?w&&!w(u,i)?_():{value:[u,i],done:!1}:_():{done:!0}},_=function s(){if(!i||!u)return v();if(t&&!f)return h?i.size===t.size-1?(f=!0,i=E,u=A,s()):(i=t.slice(0,i.size+1),u=x.assertNode(i),v()):(h=!0,i=z.create([]),u=x,v());if(y&&!c)return c=!0,v();if(r&&i.equals(r))return u=null,i=null,s();if(o&&u.nodes&&u.nodes.size&&!e.has(u)){e.add(u);var l="forward"===n?0:u.nodes.size-1;return i=i.push(l),u=x.assertNode(i),v()}if("forward"===n){var d=z.increment(i),p=x.getNode(d);if(p)return i=d,u=p,v()}if("backward"===n&&0!==i.last()){var _=z.decrement(i),g=x.getNode(_);if(g)return i=_,u=g,v()}return a&&i.size?(i=z.lift(i),u=x.assertNode(i),e.has(u)?s():(e.add(u),m?v():s())):(i=null,u=null,s())};return{next:_}})}},{key:"createPoint",value:function(e){return e=q.createProperties(e),this.resolvePoint(e)}},{key:"createRange",value:function(e){return e=X.createProperties(e),this.resolveRange(e)}},{key:"createSelection",value:function(e){return e=H.createProperties(e),this.resolveSelection(e)}},{key:"descendants",value:function(e){return this.createIterable(E({path:[]},e))}},{key:"filterDescendants",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=[],n=!0,o=!1,i=void 0;try{for(var a,u=this.descendants()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value,c=N(s,2),l=c[0];e(l,c[1])&&t.push(l)}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return Object(r.List)(t)}},{key:"findDescendant",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=!0,n=!1,r=void 0;try{for(var o,i=this.descendants()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=N(a,2),s=u[0];if(e(s,u[1]))return s}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return null}},{key:"forEachDescendant",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=!0,n=!1,r=void 0;try{for(var o,i=this.descendants()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!1===e.apply(void 0,j(a)))return}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"getActiveMarksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Object(r.Set)();if(e.isCollapsed){var t=e.start;return this.getInsertMarksAtPoint(t)}var n=e,o=n.start,i=n.end,a=o.path,u=o.offset,s=i.path,c=i.offset,l=this.getDescendant(a),f=this.getDescendant(s);if(!a.equals(s)){for(;!a.equals(s)&&0===c;){var d=this.texts({path:s,direction:"backward"}),h=N(d,1),p=N(h[0],2);f=p[0],s=p[1],c=f.text.length}for(;!a.equals(s)&&u===l.text.length;){var v=this.texts({path:a}),y=N(v,1),_=N(y[0],2);l=_[0],a=_[1],u=0}}if(a.equals(s))return l.marks;var m=l.marks;if(0===m.size)return Object(r.Set)();var g=f.marks,b=m.intersect(g);if(0===b.size)return b;var k=this.texts({path:a}),w=N(k,1),x=N(w[0],2);for(l=x[0],a=x[1];!a.equals(s);){if(0!==l.text.length&&0===(b=b.intersect(l.marks)).size)return Object(r.Set)();var O=this.texts({path:a}),E=N(O,1),S=N(E[0],2);l=S[0],a=S[1]}return b}},{key:"getAncestors",value:function(e){var t=this.ancestors(e),n=Array.from(t,function(e){return N(e,1)[0]}).reverse();return Object(r.List)(n)}},{key:"getBlocks",value:function(){var e=this.blocks({onlyLeaves:!0}),t=Array.from(e,function(e){return N(e,1)[0]});return Object(r.List)(t)}},{key:"getBlocksByType",value:function(e){var t=this.blocks({onlyLeaves:!0,onlyTypes:[e]}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"getChild",value:function(e){return!(e=this.resolvePath(e))||e.size>1?null:this.nodes.get(e.first())}},{key:"getClosest",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.ancestors(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=N(u,2),c=s[0];if(t(c,s[1]))return c}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}},{key:"getClosestBlock",value:function(e){return this.getClosest(e,function(e){return"block"===e.object})}},{key:"getClosestInline",value:function(e){return this.getClosest(e,function(e){return"inline"===e.object})}},{key:"getClosestVoid",value:function(e,t){return Object(u.a)(!he.isValue(t),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`."),this.getClosest(e,function(e){return t.isVoid(e)})}},{key:"getCommonAncestor",value:function(e,t){if(e=this.resolvePath(e),t=this.resolvePath(t),!e||!t)return null;var n=z.relate(e,t);return this.getNode(n)}},{key:"getDecorations",value:function(e){var t=e.run("decorateNode",this);return t=G.createList(t)}},{key:"getDepth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(e=this.resolvePath(e))&&this.getNode(e)?e.size-1+t:null}},{key:"getDescendant",value:function(e){if(!(e=this.resolvePath(e))||!e.size)return null;var t=this;return e.forEach(function(e){return!!(t=t.getIn(["nodes",e]))}),t}},{key:"getDescendantsAtRange",value:function(e){var t=this.descendants({range:e}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"getFragmentAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return re.create();for(var t=e,n=t.start,r=t.end,o=this,i=r.path,a=r.offset,u="end";i.size;){var s=i.last();o=o.splitNode(i,a),a=s+1,(i=z.lift(i)).size||"end"!==u||(i=n.path,a=n.offset,u="start")}var c=n.path.first()+1,l=r.path.first()+2,f=o.nodes.slice(c,l);return re.create({nodes:f})}},{key:"getFurthest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt,n=this.ancestors(e),r=Array.from(n).reverse(),o=!0,i=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,l=N(c,2),f=l[0];if(t(f,l[1]))return f}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return null}},{key:"getFurthestBlock",value:function(e){return this.getFurthest(e,function(e){return"block"===e.object})}},{key:"getFurthestChild",value:function(e){return(e=this.resolvePath(e))&&e.size?this.nodes.get(e.first()):null}},{key:"getFurthestInline",value:function(e){return this.getFurthest(e,function(e){return"inline"===e.object})}},{key:"getInlines",value:function(){var e=this.inlines({onlyLeaves:!0}),t=Array.from(e,function(e){return N(e,1)[0]});return Object(r.List)(t)}},{key:"getInlinesByType",value:function(e){var t=this.inlines({onlyLeaves:!0,onlyTypes:[e]}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"getInsertMarksAtPoint",value:function(e){var t=e=this.resolvePoint(e),n=t.path,r=t.offset,o=this.getDescendant(n);if(0!==r)return o.marks;var i=void 0,a=void 0,u=!0,s=!1,c=void 0;try{for(var l,f=this.ancestors(n)[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=N(d,2),p=h[0],v=h[1];"block"===p.object&&(i=p,a=v)}}catch(e){s=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(s)throw c}}var y=z.drop(n,a.size),_=i.texts({path:y,direction:"backward"}),m=N(_,1)[0];return m?N(m,1)[0].marks:o.marks}},{key:"getInsertMarksAtRange",value:function(e){var t=(e=this.resolveRange(e)).start;return e.isUnset?Object(r.Set)():e.isCollapsed?this.getInsertMarksAtPoint(t):this.getDescendant(t.path).marks}},{key:"getLeafBlocksAtRange",value:function(e){var t=this.blocks({range:e,onlyLeaves:!0}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"getLeafInlinesAtRange",value:function(e){var t=this.inlines({range:e,onlyLeaves:!0}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"getNodesToPathsMap",value:function(){var e="undefined"==typeof window?new Ct.Map:new window.Map;return e.set(this,z.create([])),this.forEachDescendant(function(t,n){e.set(t,n)}),e}},{key:"getMarks",value:function(){var e=this.marks(),t=Array.from(e,function(e){return N(e,1)[0]});return Object(r.OrderedSet)(t)}},{key:"getMarksAtRange",value:function(e){var t=this.marks({range:e}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.OrderedSet)(n)}},{key:"getMarksByType",value:function(e){var t=this.marks({onlyTypes:[e]}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.OrderedSet)(n)}},{key:"getNextBlock",value:function(e){var t=this.blocks({path:e,onlyLeaves:!0}),n=N(t,1)[0];return n?n[0]:null}},{key:"getNextNode",value:function(e){var t=this.createIterable({path:e,downward:!1}),n=N(t,1)[0];return n?n[0]:null}},{key:"getNextSibling",value:function(e){var t=this.siblings(e),n=N(t,1)[0];return n?n[0]:null}},{key:"getNextText",value:function(e){var t=this.texts({path:e}),n=N(t,1)[0];return n?n[0]:null}},{key:"getOffset",value:function(e){e=this.resolvePath(e),this.assertDescendant(e);var t=e.first(),n=this.nodes.slice(0,t).reduce(function(e,t){return e+t.text.length},0);return 1===e.size?n:n+this.nodes.get(t).getOffset(z.drop(e))}},{key:"getOffsetAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(e.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var t=e.start;return this.getOffset(t.path)+t.offset}},{key:"getParent",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=z.lift(e);return this.getNode(t)}},{key:"getPreviousBlock",value:function(e){var t=this.blocks({path:e,onlyLeaves:!0,direction:"backward"}),n=N(t,1)[0];return n?n[0]:null}},{key:"getPreviousNode",value:function(e){var t=this.createIterable({path:e,downward:!1,direction:"backward"}),n=N(t,1)[0];return n?n[0]:null}},{key:"getPreviousSibling",value:function(e){var t=this.siblings(e,{direction:"backward"}),n=N(t,1)[0];return n?n[0]:null}},{key:"getPreviousText",value:function(e){var t=this.texts({path:e,direction:"backward"}),n=N(t,1)[0];return n?n[0]:null}},{key:"getRootBlocksAtRange",value:function(e){var t=this.blocks({range:e,onlyRoots:!0}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"getRootInlinesAtRange",value:function(e){var t=this.inlines({range:e,onlyRoots:!0}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"getTextAtOffset",value:function(e){if(0===e)return this.getFirstText();if(e===this.text.length)return this.getLastText();if(e<0||e>this.text.length)return null;var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=this.texts()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=N(u,1)[0];if((t+=s.text.length)>e)return s}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}},{key:"getTextDirection",value:function(){var e=y()(this.text);return"neutral"===e?null:e}},{key:"getTexts",value:function(){var e=this.texts(),t=Array.from(e,function(e){return N(e,1)[0]});return Object(r.List)(t)}},{key:"getTextsAtRange",value:function(e){var t=this.texts({range:e}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(e){return"block"===e.object}))}},{key:"hasChild",value:function(e){return!!this.getChild(e)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(e){return"inline"===e.object||"text"===e.object}))}},{key:"hasDescendant",value:function(e){return!!this.getDescendant(e)}},{key:"hasVoidParent",value:function(e,t){return Object(u.a)(!he.isValue(t),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(e,t)}},{key:"inlines",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onlyLeaves,r=t.onlyRoots,o=t.onlyTypes,i=t.match,a=A(t,["onlyLeaves","onlyRoots","onlyTypes","match"]);return this.descendants(E({includeBlocks:!1,includeTexts:!1,includeDocument:!1},a,{match:function(t,a){return!(o&&!o.includes(t.type))&&(!(n&&!t.isLeafInline())&&((!r||"block"===e.getParent(a).object)&&!(i&&!i(t,a))))}}))}},{key:"insertNode",value:function(e,t){var n=(e=this.resolvePath(e)).last(),r=z.lift(e),o=this.assertNode(r),i=o.nodes.splice(n,0,t);return o=o.set("nodes",i),this.replaceNode(r,o)}},{key:"insertText",value:function(e,t,n){e=this.resolvePath(e);var r=this.assertDescendant(e);return r=r.insertText(t,n),this.replaceNode(e,r)}},{key:"isLeafBlock",value:function(){return"block"===this.object&&!this.nodes.some(function(e){return"block"===e.object})}},{key:"isLeafInline",value:function(){return"inline"===this.object&&!this.nodes.some(function(e){return"inline"===e.object})}},{key:"isInRange",value:function(e,t){if(e=this.resolvePath(e),(t=this.resolveRange(t)).isUnset)return!1;var n=z.compare(e,t.start.path),r=z.compare(e,t.end.path),o=-1!==n&&1!==r;return o}},{key:"mapChildren",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,n=this.nodes;return n.forEach(function(r,o){var i=t(r,o,e.nodes);i!==r&&(n=n.set(i.key,i))}),this.set("nodes",n)}},{key:"mapDescendants",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,n=this.nodes;return n.forEach(function(r,o){var i=r;"text"!==i.object&&(i=i.mapDescendants(t)),(i=t(i,o,e.nodes))!==r&&(n=n.set(o,i))}),this.set("nodes",n)}},{key:"marks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onlyTypes,n=void 0===t?null:t,r=e.match,o=A(e,["onlyTypes","match"]),i=this.texts(o);return O({},Symbol.iterator,function(){var e=i[Symbol.iterator](),t=null,o=null,a=[];return{next:function i(){if(a.length){var u=a.shift();return n&&!n.includes(u.type)?i():r&&!r(u,t,o)?i():{value:[u,t,o],done:!1}}var s=e.next(),c=s.value;if(s.done)return{done:!0};var l=N(c,2);return t=l[0],o=l[1],a=t.marks.toArray(),i()}}})}},{key:"mergeNode",value:function(e){var t=this.assertNode(e);if(0===(e=this.resolvePath(e)).last())throw new Error("Unable to merge node because it has no previous sibling: "+t);var n=z.decrement(e),r=this.assertNode(n);if(r.object!==t.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+t);var o="text"===r.object?r.mergeText(t):r.set("nodes",r.nodes.concat(t.nodes)),i=this;return i=(i=(i=i.removeNode(e)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.assertNode(e);e=this.resolvePath(e),t=this.resolvePath(t,n);var o=z.lift(t);this.assertNode(o);var i=be.create({type:"move_node",path:e,newPath:t});t=z.transform(e,i).first();var a=this;return a=(a=a.removeNode(e)).insertNode(t,r)}},{key:"removeMark",value:function(e,t){e=this.resolvePath(e);var n=this.assertDescendant(e);return n=n.removeMark(t),this.replaceNode(e,n)}},{key:"removeNode",value:function(e){this.assertDescendant(e);var t=(e=this.resolvePath(e)).flatMap(function(e){return["nodes",e]});return this.deleteIn(t)}},{key:"removeText",value:function(e,t,n){var r=this.assertDescendant(e);return r=r.removeText(t,n.length),this.replaceNode(e,r)}},{key:"replaceNode",value:function(e,t){if(!(e=this.resolvePath(e)))throw new Error("Unable to replace a node because it could not be found in the first place: "+e);if(!e.size)return t;this.assertNode(e);var n=e.flatMap(function(e){return["nodes",e]});return this.setIn(n,t)}},{key:"resolveAnnotation",value:function(e){return e=(e=te.create(e)).normalize(this)}},{key:"resolveDecoration",value:function(e){return e=(e=G.create(e)).normalize(this)}},{key:"resolvePoint",value:function(e){return e=(e=q.create(e)).normalize(this)}},{key:"resolveRange",value:function(e){return e=(e=X.create(e)).normalize(this)}},{key:"resolveSelection",value:function(e){return e=(e=H.create(e)).normalize(this)}},{key:"setNode",value:function(e,t){var n=this.assertNode(e);return n=n.merge(t),this.replaceNode(e,n)}},{key:"setMark",value:function(e,t,n){e=this.resolvePath(e);var r=this.assertDescendant(e);return r=r.setMark(t,n),this.replaceNode(e,r)}},{key:"siblings",value:function(e,t){return this.createIterable(E({path:e,upward:!1,downward:!1},t))}},{key:"splitNode",value:function(e,t,n){var r=this.assertNode(e);e=this.resolvePath(e);var o=void 0,i=void 0;if("text"===r.object){var a=r.splitText(t),u=N(a,2);o=u[0],i=u[1]}else{var s=r.nodes.take(t),c=r.nodes.skip(t);o=r.set("nodes",s),i=r.set("nodes",c).regenerateKey()}n&&"text"!==r.object&&(i=i.merge(n));var l=this;return l=(l=(l=l.removeNode(e)).insertNode(e,i)).insertNode(e,o)}},{key:"texts",value:function(e){return this.descendants(E({includeBlocks:!1,includeInlines:!1,includeDocument:!1},e))}},{key:"getBlocksAtRange",value:function(e){return Object(a.a)(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(e)}},{key:"getBlocksAtRangeAsArray",value:function(e){return Object(a.a)(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(e)}},{key:"getInlinesAtRange",value:function(e){return Object(a.a)(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(e)}},{key:"getInlinesAtRangeAsArray",value:function(e){return Object(a.a)(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(e)}},{key:"getNextTextAndPath",value:function(e){return Object(a.a)(!1,"As of slate@0.47, the `getNextTextAndPath` method has been renamed to `getNextTextEntry`."),this.getNextTextEntry(e)}},{key:"getNextDeepMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};Object(a.a)(!1,"As of slate@0.47, the `getNextDeepMatchingNodeAndPath` method is deprecated.");var n=this.getNextMatchingNodeAndPath(e);if(!n)return null;for(var r=N(n,2),o=r[0],i=r[1],u=void 0;u="text"!==o.object&&o.findFirstDescendantAndPath(t,i);){var s=N(u,2);o=s[0],i=s[1]}return o?t(o)?[o,i]:this.getNextDeepMatchingNodeAndPath(n[1],t):null}},{key:"getPreviousTextAndPath",value:function(e){return Object(a.a)(!1,"As of slate@0.47, the `getPreviousTextAndPath` method has been renamed to `getPreviousTextEntry`."),this.getPreviousTextEntry(e)}},{key:"findFirstDescendantAndPath",value:function(e,t){return Object(a.a)(!1,"As of slate@0.47, the `findFirstDescendantAndPath` method is deprecated."),this.findDescendantAndPath(e,t,!1)}},{key:"getPreviousMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(Object(a.a)(!1,"As of slate@0.47, the `getPreviousMatchingNodeAndPath` method is deprecated."),!e)return null;for(var n=e.size;n>0;n--){var r=e.slice(0,n);if(0!==r.last()){for(var o=z.decrement(r),i=this.getNode(o);i&&!t(i);)o=z.decrement(o),i=this.getNode(o);if(i)return[i,o]}}return null}},{key:"getPreviousDeepMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};Object(a.a)(!1,"As of slate@0.47, the `getPreviousDeepMatchingNodeAndPath` method is deprecated.");var n=this.getPreviousMatchingNodeAndPath(e);if(!n)return null;for(var r=N(n,2),o=r[0],i=r[1],u=void 0;u="text"!==o.object&&o.findLastDescendantAndPath(t,i);){var s=N(u,2);o=s[0],i=s[1]}return o?t(o)?[o,i]:this.getPreviousDeepMatchingNodeAndPath(n[1],t):null}},{key:"findLastDescendantAndPath",value:function(e,t){return Object(a.a)(!1,"As of slate@0.47, the `findLastDescendantAndPath` method is deprecated."),this.findDescendantAndPath(e,t,!0)}},{key:"findDescendantAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.create([]),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a.a)(!1,"As of slate@0.47, the `findDescendantAndPath` method is deprecated.");var r=void 0,o=void 0;return this.forEachDescendantWithPath(function(t,n,i){if(e(t,n,i))return r=t,o=n,!1},t,n),r?[r,o]:null}},{key:"forEachDescendantWithPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.create([]),n=arguments[2];Object(a.a)(!1,"As of slate@0.47, the `forEachDescendantWithPath` method is deprecated.");var r=this.nodes,o=void 0;return n&&(r=r.reverse()),r.forEach(function(i,a){var u=t.concat(a);return!1===e(i,u,r)?(o=!1,!1):"text"!==i.object?o=i.forEachDescendantWithPath(e,u,n):void 0}),o}},{key:"getNextMatchingNodeAndPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(Object(a.a)(!1,"As of slate@0.47, the `getNextMatchingNodeAndPath` method is deprecated."),!e)return null;for(var n=e.size;n>0;n--){for(var r=e.slice(0,n),o=z.increment(r),i=this.getNode(o);i&&!t(i);)o=z.increment(o),i=this.getNode(o);if(i)return[i,o]}return null}},{key:"getSelectionIndexes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(a.a)(!1,"As of slate@0.47, the `getSelectionIndexes` method is deprecated.");var n=e.start,r=e.end;if(!t)return null;if(e.isUnset)return null;if(n.path.equals(r.path)){var o=this.getFurthestAncestor(n.path),i=o?this.nodes.indexOf(o):null;return{start:i,end:i+1}}var u=null,s=null;return this.nodes.forEach(function(e,t){return"text"===e.object?(null==u&&e.key===n.key&&(u=t),null==s&&e.key===r.key&&(s=t+1)):(null==u&&e.hasDescendant(n.key)&&(u=t),null==s&&e.hasDescendant(r.key)&&(s=t+1)),null==u||null==s}),t&&null==u&&(u=0),t&&null==s&&(s=this.nodes.size),null==u?null:{start:u,end:s}}},{key:"getTextsBetweenPositionsAsArray",value:function(e,t){return Object(a.a)(!1,"As of slate@0.47, the `getTextsBetweenPositionsAsArray` method is deprecated."),e=this.resolvePath(e),t=this.resolvePath(t),this.getTextsBetweenPathPositionsAsArray(e,t)}},{key:"getOrderedMarksBetweenPositions",value:function(e,t,n,o){Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksBetweenPositions` method is deprecated."),e=this.resolvePath(e),n=this.resolvePath(n);var i=this.getDescendant(e);if(z.isEqual(e,n))return i.marks;var u=this.getTextsBetweenPathPositionsAsArray(e,n);return Object(r.OrderedSet)().withMutations(function(e){u.forEach(function(t){e.union(t.marks)})})}},{key:"getTextsBetweenPathPositionsAsArray",value:function(e,t){if(Object(a.a)(!1,"As of slate@0.47, the `getTextsBetweenPathPositionsAsArray` method is deprecated."),e&&t&&z.isEqual(e,t))return[this.getDescendant(e)];if(!e&&!t)return this.getTextsAsArray();var n=e?e.get(0,0):0,r=t?t.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach(function(i,a){if("text"===i.object)o.push(i);else{var u=e&&0===a?z.drop(e):null,s=t&&a===r-n?z.drop(t):null;o=o.concat(i.getTextsBetweenPathPositionsAsArray(u,s))}}),o}},{key:"getFurthestAncestor",value:function(e){return Object(a.a)(!1,"As of slate@0.47, the `getFurthestAncestor` method has been renamed to `getFurthestChild`."),this.getFurthestChild(e)}},{key:"getLeafBlocksAtRangeAsArray",value:function(e){if(Object(a.a)(!1,"As of slate@0.47, the `getLeafBlocksAtRangeAsArray` method is deprecated."),(e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getLeafBlocksBetweenPathPositionsAsArray(n.path,r.path)}},{key:"getLeafBlocksBetweenPathPositionsAsArray",value:function(e,t){if(Object(a.a)(!1,"As of slate@0.47, the `getLeafBlocksBetweenPathPositionsAsArray` method is deprecated."),e&&t&&z.isEqual(e,t))return[this.getClosestBlock(e)];if(!e&&!t)return this.getBlocksAsArray();var n=e?e.get(0,0):0,r=t?t.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach(function(i,a){if("block"===i.object)if(i.isLeafBlock())o.push(i);else{var u=e&&0===a?z.drop(e):null,s=t&&a===r-n?z.drop(t):null;o=o.concat(i.getLeafBlocksBetweenPathPositionsAsArray(u,s))}}),o}},{key:"getBlocksAsArray",value:function(){Object(a.a)(!1,"As of slate@0.47, the `getBlocksAsArray` method is deprecated.");var e=this.blocks({onlyLeaves:!0});return Array.from(e,function(e){return N(e,1)[0]})}},{key:"getBlocksByTypeAsArray",value:function(e){Object(a.a)(!1,"As of slate@0.47, the `getBlocksByTypeAsArray` method is deprecated.");var t=this.blocks({onlyLeaves:!0,onlyTypes:[e]});return Array.from(t,function(e){return N(e,1)[0]})}},{key:"getFurthestOnlyChildAncestor",value:function(e){Object(a.a)(!1,"As of slate@0.47, the `getFurthestOnlyChildAncestor` method is deprecated.");var t=this.getAncestors(e);return t&&t.rest().reverse().takeUntil(function(e){return e.nodes.size>1}).last()||null}},{key:"getInlinesAsArray",value:function(){return Object(a.a)(!1,"As of slate@0.47, the `getInlinesAsArray` method is deprecated."),Array.from(this.inlines({onlyLeaves:!0}),function(e){return N(e,1)[0]})}},{key:"getInlinesByTypeAsArray",value:function(e){return Object(a.a)(!1,"As of slate@0.47, the `getInlinesByTypeAsArray` method is deprecated."),Array.from(this.inlines({onlyLeaves:!0,onlyTypes:[e]}),function(e){return N(e,1)[0]})}},{key:"getLeafInlinesAtRangeAsArray",value:function(e){var t=this;return Object(a.a)(!1,"As of slate@0.47, the `getLeafInlinesAtRangeAsArray` method is deprecated."),(e=this.resolveRange(e)).isUnset?[]:this.getTextsAtRangeAsArray(e).map(function(e){return t.getClosestInline(e.key)}).filter(function(e){return e})}},{key:"getOrderedMarks",value:function(){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarks` method has been folded into `getMarks`, which will now return an ordered set."),this.getMarks()}},{key:"getOrderedMarksAtRange",value:function(e){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksAtRange` method has been folded into `getMarksAtRange`, which will now return an ordered set."),this.getMarksAtRange(e)}},{key:"getOrderedMarksByType",value:function(e){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksByType` method has been folded into `getMarksByType`, which will now return an ordered set."),this.getMarksByType(e)}},{key:"getMarksByTypeAsArray",value:function(e){return Object(a.a)(!1,"As of slate@0.47, the `getMarksByTypeAsArray` method is deprecated."),this.nodes.reduce(function(t,n){return"text"===n.object?t.concat(n.marks.filter(function(t){return t.type===e})):t.concat(n.getMarksByTypeAsArray(e))},[])}},{key:"getMarksAsArray",value:function(){var e;Object(a.a)(!1,"As of slate@0.47, the `getMarksAsArray` method is deprecated.");var t=[],n=!0,r=!1,o=void 0;try{for(var i,u=this.texts()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value,c=N(s,1)[0];t.push(c.marks.toArray())}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}return(e=[]).concat.apply(e,t)}},{key:"getRootInlinesAtRangeAsArray",value:function(e){var t=this;return Object(a.a)(!1,"As of slate@0.47, the `getRootInlinesAtRangeAsArray` method is deprecated."),(e=this.resolveRange(e)).isUnset?Object(r.List)():this.getTextsAtRangeAsArray(e).map(function(e){return t.getFurthestInline(e.key)}).filter(function(e){return e})}},{key:"getTextsAsArray",value:function(){Object(a.a)(!1,"As of slate@0.47, the `getTextsAsArray` method is deprecated.");var e=this.texts();return Array.from(e,function(e){return N(e,1)[0]})}},{key:"getTextsAtRangeAsArray",value:function(e){Object(a.a)(!1,"As of slate@0.47, the `getTextsAtRangeAsArray` method is deprecated.");var t=this.texts({range:e});return Array.from(t,function(e){return N(e,1)[0]})}},{key:"getMarksAtPosition",value:function(e,t){Object(a.a)(!1,"As of slate@0.47, the `getMarksAtPosition` method is deprecated."),e=this.resolvePath(e);var n=this.getDescendant(e).marks;if(0!==t)return Object(r.OrderedSet)(n);var o=this.getClosestBlock(e);if(""===o.text)return Object(r.OrderedSet)(n);var i=this.texts({path:e,direction:"backward"}),u=N(i,1)[0];if(!u)return Object(r.OrderedSet)();var s=N(u,2),c=s[0],l=s[1];return o.hasDescendant(l)?Object(r.OrderedSet)(c.marks):Object(r.OrderedSet)(n)}},{key:"getNodesAtRange",value:function(e){Object(a.a)(!1,"As of slate@0.47, the `getNodesAtRange` method has been renamed to `getDescendantsAtRange`.");var t=this.descendants({range:e}),n=Array.from(t,function(e){return N(e,1)[0]});return Object(r.List)(n)}},{key:"isNodeInRange",value:function(e,t){return Object(a.a)(!1,"As of slate@0.47, the `isNodeInRange` method has been renamed to `isInRange`."),this.isInRange(e,t)}},{key:"text",get:function(){return this.getText()}}]),e}(),Bt=function(e){It.prototype["assert"+e]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this["get"+e].apply(this,[t].concat(r));if(null==i)throw new Error("`Node.assert"+e+"` could not find node with path or key: "+t);return i}},Ft=!0,Rt=!1,Dt=void 0;try{for(var Mt,Lt=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(Ft=(Mt=Lt.next()).done);Ft=!0){Bt(Mt.value)}}catch(e){Rt=!0,Dt=e}finally{try{!Ft&&Lt.return&&Lt.return()}finally{if(Rt)throw Dt}}At(It.prototype,["getBlocksAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getInsertMarksAtRange","getLeafBlocksAtRangeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getMarksByTypeAsArray","getNextBlock","getNodesAtRange","getNodesToPathsMap","getOffset","getOffsetAtRange","getOrderedMarksBetweenPositions","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPathPositionsAsArray"]),gt(It,[fe,re,ie]),gt(function(){function e(){w(this,e)}return x(e,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(e){return this.updatePoints(function(t){return t.moveForward(e)})}},{key:"moveBackward",value:function(e){return this.updatePoints(function(t){return t.moveBackward(e)})}},{key:"moveAnchorBackward",value:function(e){return this.setAnchor(this.anchor.moveBackward(e))}},{key:"moveAnchorForward",value:function(e){return this.setAnchor(this.anchor.moveForward(e))}},{key:"moveAnchorTo",value:function(e,t){return this.setAnchor(this.anchor.moveTo(e,t))}},{key:"moveAnchorToStartOfNode",value:function(e){return this.setAnchor(this.anchor.moveToStartOfNode(e))}},{key:"moveAnchorToEndOfNode",value:function(e){return this.setAnchor(this.anchor.moveToEndOfNode(e))}},{key:"moveEndBackward",value:function(e){return this.setEnd(this.end.moveBackward(e))}},{key:"moveEndForward",value:function(e){return this.setEnd(this.end.moveForward(e))}},{key:"moveEndTo",value:function(e,t){return this.setEnd(this.end.moveTo(e,t))}},{key:"moveEndToStartOfNode",value:function(e){return this.setEnd(this.end.moveToStartOfNode(e))}},{key:"moveEndToEndOfNode",value:function(e){return this.setEnd(this.end.moveToEndOfNode(e))}},{key:"moveFocusBackward",value:function(e){return this.setFocus(this.focus.moveBackward(e))}},{key:"moveFocusForward",value:function(e){return this.setFocus(this.focus.moveForward(e))}},{key:"moveFocusTo",value:function(e,t){return this.setFocus(this.focus.moveTo(e,t))}},{key:"moveFocusToStartOfNode",value:function(e){return this.setFocus(this.focus.moveToStartOfNode(e))}},{key:"moveFocusToEndOfNode",value:function(e){return this.setFocus(this.focus.moveToEndOfNode(e))}},{key:"moveStartBackward",value:function(e){return this.setStart(this.start.moveBackward(e))}},{key:"moveStartForward",value:function(e){return this.setStart(this.start.moveForward(e))}},{key:"moveStartTo",value:function(e,t){return this.setStart(this.start.moveTo(e,t))}},{key:"moveStartToStartOfNode",value:function(e){return this.setStart(this.start.moveToStartOfNode(e))}},{key:"moveStartToEndOfNode",value:function(e){return this.setStart(this.start.moveToEndOfNode(e))}},{key:"moveTo",value:function(e,t){return this.updatePoints(function(n){return n.moveTo(e,t)})}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(e){return this.updatePoints(function(t){return t.moveToEndOfNode(e)})}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.setPoints([this.anchor.moveToStartOfNode(e),this.focus.moveToEndOfNode(t)])}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(e){return this.updatePoints(function(t){return t.moveToStartOfNode(e)})}},{key:"normalize",value:function(e){return this.updatePoints(function(t){return t.normalize(e)})}},{key:"setAnchor",value:function(e){return this.set("anchor",e)}},{key:"setEnd",value:function(e){return this.isBackward?this.setAnchor(e):this.setFocus(e)}},{key:"setFocus",value:function(e){return this.set("focus",e)}},{key:"setPoints",value:function(e){var t=N(e,2),n=t[0],r=t[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function(e){var t=this.anchor,n=this.focus;return t=e(t),n=e(n),this.merge({anchor:t,focus:n})}},{key:"setStart",value:function(e){return this.isBackward?this.setFocus(e):this.setAnchor(e)}},{key:"setProperties",value:function(e){var t=e=X.createProperties(e),n=t.anchor,r=t.focus,o=A(t,["anchor","focus"]);return n&&(o.anchor=q.create(n)),r&&(o.focus=q.create(r)),this.merge(o)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}},{key:"toRange",value:function(){var e=X.createProperties(this);return X.create(e)}},{key:"unset",value:function(){return this.updatePoints(function(e){return e.unset()})}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var e=this.isUnset,t=this.anchor,n=this.focus;return e?null:t.key===n.key?t.offset>n.offset:z.isBefore(n.path,t.path)}},{key:"isForward",get:function(){var e=this.isBackward;return null==e?null:!e}},{key:"isUnset",get:function(){var e=this.anchor,t=this.focus;return e.isUnset||t.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),e}(),[te,G,X,H]);var zt={Annotation:te,Block:fe,Change:we,Data:K,Decoration:G,Document:re,Editor:pt,Inline:ie,KeyUtils:b,Leaf:mt,Mark:J,Node:ce,Operation:be,PathUtils:z,Point:q,Range:X,resetMemoization:Tt,Selection:H,Text:se,TextUtils:Be,useMemoization:Nt,Value:he};t.default=zt}.call(this,n(25))},function(e,t,n){e.exports=n(209)()},function(e,t){e.exports=BlueprintJsCore},function(e,t){e.exports=BotpressShared},function(e,t,n){var r=n(211);e.exports=function(e){if(function(e){return e&&e.window===e}(e))return e;var t=r(e);if(o){t.parentWindow.execScript("document._parentWindow = window;","Javascript");var n=t._parentWindow;return t._parentWindow=null,n}return t.defaultView||t.parentWindow};var o=n(212)},function(e,t,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(110);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==o(e)&&("function"==typeof(t=e.constructor)&&(!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){"use strict";var r=!0,o="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(o):new Error(o+": "+(t||""))}},function(e,t,n){"use strict";(function(r){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++r)}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(112)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(111))},function(e,t,n){var r=n(109);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(27)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(64),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(114),o=n(73)(function(e,t){return null==e?{}:r(e,t)});e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",d=1,h=2,p=4,v=1,y=2,_=1,m=2,g=4,b=8,k=16,w=32,x=64,O=128,E=256,S=512,A=30,T="...",N=800,j=16,C=1,P=2,I=1/0,B=9007199254740991,F=1.7976931348623157e308,R=NaN,D=4294967295,M=D-1,L=D>>>1,z=[["ary",O],["bind",_],["bindKey",m],["curry",b],["curryRight",k],["flip",S],["partial",w],["partialRight",x],["rearg",E]],U="[object Arguments]",q="[object Array]",K="[object AsyncFunction]",W="[object Boolean]",J="[object Date]",V="[object DOMException]",G="[object Error]",Y="[object Function]",H="[object GeneratorFunction]",$="[object Map]",Z="[object Number]",Q="[object Null]",X="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",oe="[object Symbol]",ie="[object Undefined]",ae="[object WeakMap]",ue="[object WeakSet]",se="[object ArrayBuffer]",ce="[object DataView]",le="[object Float32Array]",fe="[object Float64Array]",de="[object Int8Array]",he="[object Int16Array]",pe="[object Int32Array]",ve="[object Uint8Array]",ye="[object Uint8ClampedArray]",_e="[object Uint16Array]",me="[object Uint32Array]",ge=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,Oe=RegExp(we.source),Ee=RegExp(xe.source),Se=/<%-([\s\S]+?)%>/g,Ae=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,je=/^\w*$/,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Ie=RegExp(Pe.source),Be=/^\s+|\s+$/g,Fe=/^\s+/,Re=/\s+$/,De=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Me=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ke=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,Je=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$e=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Xe+"]",nt="["+Qe+"]",rt="\\d+",ot="[\\u2700-\\u27bf]",it="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Xe+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ut="\\ud83c[\\udffb-\\udfff]",st="[^\\ud800-\\udfff]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dt="(?:"+it+"|"+at+")",ht="(?:"+ft+"|"+at+")",pt="(?:"+nt+"|"+ut+")"+"?",vt="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[st,ct,lt].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),yt="(?:"+[ot,ct,lt].join("|")+")"+vt,_t="(?:"+[st+nt+"?",nt,ct,lt,et].join("|")+")",mt=RegExp("['’]","g"),gt=RegExp(nt,"g"),bt=RegExp(ut+"(?="+ut+")|"+_t+vt,"g"),kt=RegExp([ft+"?"+it+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,ft,"$"].join("|")+")",ht+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ft+dt,"$"].join("|")+")",ft+"?"+dt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,yt].join("|"),"g"),wt=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),xt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Et=-1,St={};St[le]=St[fe]=St[de]=St[he]=St[pe]=St[ve]=St[ye]=St[_e]=St[me]=!0,St[U]=St[q]=St[se]=St[W]=St[ce]=St[J]=St[G]=St[Y]=St[$]=St[Z]=St[X]=St[te]=St[ne]=St[re]=St[ae]=!1;var At={};At[U]=At[q]=At[se]=At[ce]=At[W]=At[J]=At[le]=At[fe]=At[de]=At[he]=At[pe]=At[$]=At[Z]=At[X]=At[te]=At[ne]=At[re]=At[oe]=At[ve]=At[ye]=At[_e]=At[me]=!0,At[G]=At[Y]=At[ae]=!1;var Tt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nt=parseFloat,jt=parseInt,Ct="object"==typeof e&&e&&e.Object===Object&&e,Pt="object"==typeof self&&self&&self.Object===Object&&self,It=Ct||Pt||Function("return this")(),Bt="object"==typeof t&&t&&!t.nodeType&&t,Ft=Bt&&"object"==typeof r&&r&&!r.nodeType&&r,Rt=Ft&&Ft.exports===Bt,Dt=Rt&&Ct.process,Mt=function(){try{var e=Ft&&Ft.require&&Ft.require("util").types;return e||Dt&&Dt.binding&&Dt.binding("util")}catch(e){}}(),Lt=Mt&&Mt.isArrayBuffer,zt=Mt&&Mt.isDate,Ut=Mt&&Mt.isMap,qt=Mt&&Mt.isRegExp,Kt=Mt&&Mt.isSet,Wt=Mt&&Mt.isTypedArray;function Jt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Vt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Yt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ht(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function $t(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Zt(e,t){return!!(null==e?0:e.length)&&sn(e,t,0)>-1}function Qt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function en(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function tn(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function nn(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var on=dn("length");function an(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function un(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function sn(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):un(e,ln,n)}function cn(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function ln(e){return e!=e}function fn(e,t){var n=null==e?0:e.length;return n?vn(e,t)/n:R}function dn(e){return function(t){return null==t?i:t[e]}}function hn(e){return function(t){return null==e?i:e[t]}}function pn(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function vn(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function yn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function _n(e){return function(t){return e(t)}}function mn(e,t){return Xt(t,function(t){return e[t]})}function gn(e,t){return e.has(t)}function bn(e,t){for(var n=-1,r=e.length;++n<r&&sn(t,e[n],0)>-1;);return n}function kn(e,t){for(var n=e.length;n--&&sn(t,e[n],0)>-1;);return n}var wn=hn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),xn=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function On(e){return"\\"+Tt[e]}function En(e){return wt.test(e)}function Sn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function An(e,t){return function(n){return e(t(n))}}function Tn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==f||(e[n]=f,i[o++]=n)}return i}function Nn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function jn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Cn(e){return En(e)?function(e){var t=bt.lastIndex=0;for(;bt.test(e);)++t;return t}(e):on(e)}function Pn(e){return En(e)?function(e){return e.match(bt)||[]}(e):function(e){return e.split("")}(e)}var In=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Bn=function e(t){var n=(t=null==t?It:Bn.defaults(It.Object(),t,Bn.pick(It,Ot))).Array,r=t.Date,o=t.Error,Qe=t.Function,Xe=t.Math,et=t.Object,tt=t.RegExp,nt=t.String,rt=t.TypeError,ot=n.prototype,it=Qe.prototype,at=et.prototype,ut=t["__core-js_shared__"],st=it.toString,ct=at.hasOwnProperty,lt=0,ft=function(){var e=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),dt=at.toString,ht=st.call(et),pt=It._,vt=tt("^"+st.call(ct).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=Rt?t.Buffer:i,_t=t.Symbol,bt=t.Uint8Array,wt=yt?yt.allocUnsafe:i,Tt=An(et.getPrototypeOf,et),Ct=et.create,Pt=at.propertyIsEnumerable,Bt=ot.splice,Ft=_t?_t.isConcatSpreadable:i,Dt=_t?_t.iterator:i,Mt=_t?_t.toStringTag:i,on=function(){try{var e=Mi(et,"defineProperty");return e({},"",{}),e}catch(e){}}(),hn=t.clearTimeout!==It.clearTimeout&&t.clearTimeout,Fn=r&&r.now!==It.Date.now&&r.now,Rn=t.setTimeout!==It.setTimeout&&t.setTimeout,Dn=Xe.ceil,Mn=Xe.floor,Ln=et.getOwnPropertySymbols,zn=yt?yt.isBuffer:i,Un=t.isFinite,qn=ot.join,Kn=An(et.keys,et),Wn=Xe.max,Jn=Xe.min,Vn=r.now,Gn=t.parseInt,Yn=Xe.random,Hn=ot.reverse,$n=Mi(t,"DataView"),Zn=Mi(t,"Map"),Qn=Mi(t,"Promise"),Xn=Mi(t,"Set"),er=Mi(t,"WeakMap"),tr=Mi(et,"create"),nr=er&&new er,rr={},or=la($n),ir=la(Zn),ar=la(Qn),ur=la(Xn),sr=la(er),cr=_t?_t.prototype:i,lr=cr?cr.valueOf:i,fr=cr?cr.toString:i;function dr(e){if(Au(e)&&!yu(e)&&!(e instanceof yr)){if(e instanceof vr)return e;if(ct.call(e,"__wrapped__"))return fa(e)}return new vr(e)}var hr=function(){function e(){}return function(t){if(!Su(t))return{};if(Ct)return Ct(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function pr(){}function vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function yr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function _r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function gr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function br(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new gr;++t<n;)this.add(e[t])}function kr(e){var t=this.__data__=new mr(e);this.size=t.size}function wr(e,t){var n=yu(e),r=!n&&vu(e),o=!n&&!r&&bu(e),i=!n&&!r&&!o&&Fu(e),a=n||r||o||i,u=a?yn(e.length,nt):[],s=u.length;for(var c in e)!t&&!ct.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ji(c,s))||u.push(c);return u}function xr(e){var t=e.length;return t?e[ko(0,t-1)]:i}function Or(e,t){return ua(ni(e),Ir(t,0,e.length))}function Er(e){return ua(ni(e))}function Sr(e,t,n){(n===i||du(e[t],n))&&(n!==i||t in e)||Cr(e,t,n)}function Ar(e,t,n){var r=e[t];ct.call(e,t)&&du(r,n)&&(n!==i||t in e)||Cr(e,t,n)}function Tr(e,t){for(var n=e.length;n--;)if(du(e[n][0],t))return n;return-1}function Nr(e,t,n,r){return Mr(e,function(e,o,i){t(r,e,n(e),i)}),r}function jr(e,t){return e&&ri(t,rs(t),e)}function Cr(e,t,n){"__proto__"==t&&on?on(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Pr(e,t){for(var r=-1,o=t.length,a=n(o),u=null==e;++r<o;)a[r]=u?i:Qu(e,t[r]);return a}function Ir(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Br(e,t,n,r,o,a){var u,s=t&d,c=t&h,l=t&p;if(n&&(u=o?n(e,r,o,a):n(e)),u!==i)return u;if(!Su(e))return e;var f=yu(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return ni(e,u)}else{var v=Ui(e),y=v==Y||v==H;if(bu(e))return $o(e,s);if(v==X||v==U||y&&!o){if(u=c||y?{}:Ki(e),!s)return c?function(e,t){return ri(e,zi(e),t)}(e,function(e,t){return e&&ri(t,os(t),e)}(u,e)):function(e,t){return ri(e,Li(e),t)}(e,jr(u,e))}else{if(!At[v])return o?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case se:return Zo(e);case W:case J:return new r(+e);case ce:return function(e,t){var n=t?Zo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case le:case fe:case de:case he:case pe:case ve:case ye:case _e:case me:return Qo(e,n);case $:return new r;case Z:case re:return new r(e);case te:return function(e){var t=new e.constructor(e.source,Ke.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new r;case oe:return function(e){return lr?et(lr.call(e)):{}}(e)}}(e,v,s)}}a||(a=new kr);var _=a.get(e);if(_)return _;a.set(e,u),Pu(e)?e.forEach(function(r){u.add(Br(r,t,n,r,e,a))}):Tu(e)&&e.forEach(function(r,o){u.set(o,Br(r,t,n,o,e,a))});var m=f?i:(l?c?Ci:ji:c?os:rs)(e);return Gt(m||e,function(r,o){m&&(r=e[o=r]),Ar(u,o,Br(r,t,n,o,e,a))}),u}function Fr(e,t,n){var r=n.length;if(null==e)return!r;for(e=et(e);r--;){var o=n[r],a=t[o],u=e[o];if(u===i&&!(o in e)||!a(u))return!1}return!0}function Rr(e,t,n){if("function"!=typeof e)throw new rt(s);return ra(function(){e.apply(i,n)},t)}function Dr(e,t,n,r){var o=-1,i=Zt,u=!0,s=e.length,c=[],l=t.length;if(!s)return c;n&&(t=Xt(t,_n(n))),r?(i=Qt,u=!1):t.length>=a&&(i=gn,u=!1,t=new br(t));e:for(;++o<s;){var f=e[o],d=null==n?f:n(f);if(f=r||0!==f?f:0,u&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(f)}else i(t,d,r)||c.push(f)}return c}dr.templateSettings={escape:Se,evaluate:Ae,interpolate:Te,variable:"",imports:{_:dr}},dr.prototype=pr.prototype,dr.prototype.constructor=dr,vr.prototype=hr(pr.prototype),vr.prototype.constructor=vr,yr.prototype=hr(pr.prototype),yr.prototype.constructor=yr,_r.prototype.clear=function(){this.__data__=tr?tr(null):{},this.size=0},_r.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_r.prototype.get=function(e){var t=this.__data__;if(tr){var n=t[e];return n===c?i:n}return ct.call(t,e)?t[e]:i},_r.prototype.has=function(e){var t=this.__data__;return tr?t[e]!==i:ct.call(t,e)},_r.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tr&&t===i?c:t,this},mr.prototype.clear=function(){this.__data__=[],this.size=0},mr.prototype.delete=function(e){var t=this.__data__,n=Tr(t,e);return!(n<0||(n==t.length-1?t.pop():Bt.call(t,n,1),--this.size,0))},mr.prototype.get=function(e){var t=this.__data__,n=Tr(t,e);return n<0?i:t[n][1]},mr.prototype.has=function(e){return Tr(this.__data__,e)>-1},mr.prototype.set=function(e,t){var n=this.__data__,r=Tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},gr.prototype.clear=function(){this.size=0,this.__data__={hash:new _r,map:new(Zn||mr),string:new _r}},gr.prototype.delete=function(e){var t=Ri(this,e).delete(e);return this.size-=t?1:0,t},gr.prototype.get=function(e){return Ri(this,e).get(e)},gr.prototype.has=function(e){return Ri(this,e).has(e)},gr.prototype.set=function(e,t){var n=Ri(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},br.prototype.add=br.prototype.push=function(e){return this.__data__.set(e,c),this},br.prototype.has=function(e){return this.__data__.has(e)},kr.prototype.clear=function(){this.__data__=new mr,this.size=0},kr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},kr.prototype.get=function(e){return this.__data__.get(e)},kr.prototype.has=function(e){return this.__data__.has(e)},kr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof mr){var r=n.__data__;if(!Zn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new gr(r)}return n.set(e,t),this.size=n.size,this};var Mr=ai(Vr),Lr=ai(Gr,!0);function zr(e,t){var n=!0;return Mr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Ur(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],u=t(a);if(null!=u&&(s===i?u==u&&!Bu(u):n(u,s)))var s=u,c=a}return c}function qr(e,t){var n=[];return Mr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function Kr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Wi),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?Kr(u,t-1,n,r,o):en(o,u):r||(o[o.length]=u)}return o}var Wr=ui(),Jr=ui(!0);function Vr(e,t){return e&&Wr(e,t,rs)}function Gr(e,t){return e&&Jr(e,t,rs)}function Yr(e,t){return $t(t,function(t){return xu(e[t])})}function Hr(e,t){for(var n=0,r=(t=Vo(t,e)).length;null!=e&&n<r;)e=e[ca(t[n++])];return n&&n==r?e:i}function $r(e,t,n){var r=t(e);return yu(e)?r:en(r,n(e))}function Zr(e){return null==e?e===i?ie:Q:Mt&&Mt in et(e)?function(e){var t=ct.call(e,Mt),n=e[Mt];try{e[Mt]=i;var r=!0}catch(e){}var o=dt.call(e);return r&&(t?e[Mt]=n:delete e[Mt]),o}(e):function(e){return dt.call(e)}(e)}function Qr(e,t){return e>t}function Xr(e,t){return null!=e&&ct.call(e,t)}function eo(e,t){return null!=e&&t in et(e)}function to(e,t,r){for(var o=r?Qt:Zt,a=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var d=e[s];s&&t&&(d=Xt(d,_n(t))),l=Jn(d.length,l),c[s]=!r&&(t||a>=120&&d.length>=120)?new br(s&&d):i}d=e[0];var h=-1,p=c[0];e:for(;++h<a&&f.length<l;){var v=d[h],y=t?t(v):v;if(v=r||0!==v?v:0,!(p?gn(p,y):o(f,y,r))){for(s=u;--s;){var _=c[s];if(!(_?gn(_,y):o(e[s],y,r)))continue e}p&&p.push(y),f.push(v)}}return f}function no(e,t,n){var r=null==(e=ea(e,t=Vo(t,e)))?e:e[ca(wa(t))];return null==r?i:Jt(r,e,n)}function ro(e){return Au(e)&&Zr(e)==U}function oo(e,t,n,r,o){return e===t||(null==e||null==t||!Au(e)&&!Au(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var u=yu(e),s=yu(t),c=u?q:Ui(e),l=s?q:Ui(t),f=(c=c==U?X:c)==X,d=(l=l==U?X:l)==X,h=c==l;if(h&&bu(e)){if(!bu(t))return!1;u=!0,f=!1}if(h&&!f)return a||(a=new kr),u||Fu(e)?Ti(e,t,n,r,o,a):function(e,t,n,r,o,i,a){switch(n){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case se:return!(e.byteLength!=t.byteLength||!i(new bt(e),new bt(t)));case W:case J:case Z:return du(+e,+t);case G:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case $:var u=Sn;case ne:var s=r&v;if(u||(u=Nn),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=y,a.set(e,t);var l=Ti(u(e),u(t),r,o,i,a);return a.delete(e),l;case oe:if(lr)return lr.call(e)==lr.call(t)}return!1}(e,t,c,n,r,o,a);if(!(n&v)){var p=f&&ct.call(e,"__wrapped__"),_=d&&ct.call(t,"__wrapped__");if(p||_){var m=p?e.value():e,g=_?t.value():t;return a||(a=new kr),o(m,g,n,r,a)}}return!!h&&(a||(a=new kr),function(e,t,n,r,o,a){var u=n&v,s=ji(e),c=s.length,l=ji(t).length;if(c!=l&&!u)return!1;for(var f=c;f--;){var d=s[f];if(!(u?d in t:ct.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var y=!0;a.set(e,t),a.set(t,e);for(var _=u;++f<c;){d=s[f];var m=e[d],g=t[d];if(r)var b=u?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(!(b===i?m===g||o(m,g,n,r,a):b)){y=!1;break}_||(_="constructor"==d)}if(y&&!_){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w)&&(y=!1)}return a.delete(e),a.delete(t),y}(e,t,n,r,o,a))}(e,t,n,r,oo,o))}function io(e,t,n,r){var o=n.length,a=o,u=!r;if(null==e)return!a;for(e=et(e);o--;){var s=n[o];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){var c=(s=n[o])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var d=new kr;if(r)var h=r(l,f,c,e,t,d);if(!(h===i?oo(f,l,v|y,r,d):h))return!1}}return!0}function ao(e){return!(!Su(e)||function(e){return!!ft&&ft in e}(e))&&(xu(e)?vt:Ve).test(la(e))}function uo(e){return"function"==typeof e?e:null==e?Ns:"object"==typeof e?yu(e)?po(e[0],e[1]):ho(e):Ms(e)}function so(e){if(!$i(e))return Kn(e);var t=[];for(var n in et(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function co(e){if(!Su(e))return function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t}(e);var t=$i(e),n=[];for(var r in e)("constructor"!=r||!t&&ct.call(e,r))&&n.push(r);return n}function lo(e,t){return e<t}function fo(e,t){var r=-1,o=mu(e)?n(e.length):[];return Mr(e,function(e,n,i){o[++r]=t(e,n,i)}),o}function ho(e){var t=Di(e);return 1==t.length&&t[0][2]?Qi(t[0][0],t[0][1]):function(n){return n===e||io(n,e,t)}}function po(e,t){return Gi(e)&&Zi(t)?Qi(ca(e),t):function(n){var r=Qu(n,e);return r===i&&r===t?Xu(n,e):oo(t,r,v|y)}}function vo(e,t,n,r,o){e!==t&&Wr(t,function(a,u){if(o||(o=new kr),Su(a))!function(e,t,n,r,o,a,u){var s=ta(e,n),c=ta(t,n),l=u.get(c);if(l)Sr(e,n,l);else{var f=a?a(s,c,n+"",e,t,u):i,d=f===i;if(d){var h=yu(c),p=!h&&bu(c),v=!h&&!p&&Fu(c);f=c,h||p||v?yu(s)?f=s:gu(s)?f=ni(s):p?(d=!1,f=$o(c,!0)):v?(d=!1,f=Qo(c,!0)):f=[]:ju(c)||vu(c)?(f=s,vu(s)?f=Ku(s):Su(s)&&!xu(s)||(f=Ki(c))):d=!1}d&&(u.set(c,f),o(f,c,r,a,u),u.delete(c)),Sr(e,n,f)}}(e,t,u,n,vo,r,o);else{var s=r?r(ta(e,u),a,u+"",e,t,o):i;s===i&&(s=a),Sr(e,u,s)}},os)}function yo(e,t){var n=e.length;if(n)return Ji(t+=t<0?n:0,n)?e[t]:i}function _o(e,t,n){var r=-1;return t=Xt(t=t.length?Xt(t,function(e){return yu(e)?function(t){return Hr(t,1===e.length?e[0]:e)}:e}):[Ns],_n(Fi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(fo(e,function(e,n,o){return{criteria:Xt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;++r<a;){var s=Xo(o[r],i[r]);if(s){if(r>=u)return s;var c=n[r];return s*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)})}function mo(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=Hr(e,a);n(u,a)&&So(i,Vo(a,e),u)}return i}function go(e,t,n,r){var o=r?cn:sn,i=-1,a=t.length,u=e;for(e===t&&(t=ni(t)),n&&(u=Xt(e,_n(n)));++i<a;)for(var s=0,c=t[i],l=n?n(c):c;(s=o(u,l,s,r))>-1;)u!==e&&Bt.call(u,s,1),Bt.call(e,s,1);return e}function bo(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ji(o)?Bt.call(e,o,1):Mo(e,o)}}return e}function ko(e,t){return e+Mn(Yn()*(t-e+1))}function wo(e,t){var n="";if(!e||t<1||t>B)return n;do{t%2&&(n+=e),(t=Mn(t/2))&&(e+=e)}while(t);return n}function xo(e,t){return oa(Xi(e,t,Ns),e+"")}function Oo(e){return xr(ds(e))}function Eo(e,t){var n=ds(e);return ua(n,Ir(t,0,n.length))}function So(e,t,n,r){if(!Su(e))return e;for(var o=-1,a=(t=Vo(t,e)).length,u=a-1,s=e;null!=s&&++o<a;){var c=ca(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=Su(f)?f:Ji(t[o+1])?[]:{})}Ar(s,c,l),s=s[c]}return e}var Ao=nr?function(e,t){return nr.set(e,t),e}:Ns,To=on?function(e,t){return on(e,"toString",{configurable:!0,enumerable:!1,value:Ss(t),writable:!0})}:Ns;function No(e){return ua(ds(e))}function jo(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=n(i);++o<i;)a[o]=e[o+t];return a}function Co(e,t){var n;return Mr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function Po(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=L){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!Bu(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Io(e,t,Ns,n)}function Io(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,s=null===t,c=Bu(t),l=t===i;o<a;){var f=Mn((o+a)/2),d=n(e[f]),h=d!==i,p=null===d,v=d==d,y=Bu(d);if(u)var _=r||v;else _=l?v&&(r||h):s?v&&h&&(r||!p):c?v&&h&&!p&&(r||!y):!p&&!y&&(r?d<=t:d<t);_?o=f+1:a=f}return Jn(a,M)}function Bo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!du(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function Fo(e){return"number"==typeof e?e:Bu(e)?R:+e}function Ro(e){if("string"==typeof e)return e;if(yu(e))return Xt(e,Ro)+"";if(Bu(e))return fr?fr.call(e):"";var t=e+"";return"0"==t&&1/e==-I?"-0":t}function Do(e,t,n){var r=-1,o=Zt,i=e.length,u=!0,s=[],c=s;if(n)u=!1,o=Qt;else if(i>=a){var l=t?null:wi(e);if(l)return Nn(l);u=!1,o=gn,c=new br}else c=t?[]:s;e:for(;++r<i;){var f=e[r],d=t?t(f):f;if(f=n||0!==f?f:0,u&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),s.push(f)}else o(c,d,n)||(c!==s&&c.push(d),s.push(f))}return s}function Mo(e,t){return null==(e=ea(e,t=Vo(t,e)))||delete e[ca(wa(t))]}function Lo(e,t,n,r){return So(e,t,n(Hr(e,t)),r)}function zo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?jo(e,r?0:i,r?i+1:o):jo(e,r?i+1:0,r?o:i)}function Uo(e,t){var n=e;return n instanceof yr&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function qo(e,t,r){var o=e.length;if(o<2)return o?Do(e[0]):[];for(var i=-1,a=n(o);++i<o;)for(var u=e[i],s=-1;++s<o;)s!=i&&(a[i]=Dr(a[i]||u,e[s],t,r));return Do(Kr(a,1),t,r)}function Ko(e,t,n){for(var r=-1,o=e.length,a=t.length,u={};++r<o;){var s=r<a?t[r]:i;n(u,e[r],s)}return u}function Wo(e){return gu(e)?e:[]}function Jo(e){return"function"==typeof e?e:Ns}function Vo(e,t){return yu(e)?e:Gi(e,t)?[e]:sa(Wu(e))}var Go=xo;function Yo(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:jo(e,t,n)}var Ho=hn||function(e){return It.clearTimeout(e)};function $o(e,t){if(t)return e.slice();var n=e.length,r=wt?wt(n):new e.constructor(n);return e.copy(r),r}function Zo(e){var t=new e.constructor(e.byteLength);return new bt(t).set(new bt(e)),t}function Qo(e,t){var n=t?Zo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Xo(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=Bu(e),u=t!==i,s=null===t,c=t==t,l=Bu(t);if(!s&&!l&&!a&&e>t||a&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||s&&n&&o||!u&&o||!c)return-1}return 0}function ei(e,t,r,o){for(var i=-1,a=e.length,u=r.length,s=-1,c=t.length,l=Wn(a-u,0),f=n(c+l),d=!o;++s<c;)f[s]=t[s];for(;++i<u;)(d||i<a)&&(f[r[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}function ti(e,t,r,o){for(var i=-1,a=e.length,u=-1,s=r.length,c=-1,l=t.length,f=Wn(a-s,0),d=n(f+l),h=!o;++i<f;)d[i]=e[i];for(var p=i;++c<l;)d[p+c]=t[c];for(;++u<s;)(h||i<a)&&(d[p+r[u]]=e[i++]);return d}function ni(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function ri(e,t,n,r){var o=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),o?Cr(n,s,c):Ar(n,s,c)}return n}function oi(e,t){return function(n,r){var o=yu(n)?Vt:Nr,i=t?t():{};return o(n,e,Fi(r,2),i)}}function ii(e){return xo(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,u=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,u&&Vi(n[0],n[1],u)&&(a=o<3?i:a,o=1),t=et(t);++r<o;){var s=n[r];s&&e(t,s,r,a)}return t})}function ai(e,t){return function(n,r){if(null==n)return n;if(!mu(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=et(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function ui(e){return function(t,n,r){for(var o=-1,i=et(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}function si(e){return function(t){var n=En(t=Wu(t))?Pn(t):i,r=n?n[0]:t.charAt(0),o=n?Yo(n,1).join(""):t.slice(1);return r[e]()+o}}function ci(e){return function(t){return tn(xs(vs(t).replace(mt,"")),e,"")}}function li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=hr(e.prototype),r=e.apply(n,t);return Su(r)?r:n}}function fi(e){return function(t,n,r){var o=et(t);if(!mu(t)){var a=Fi(n,3);t=rs(t),n=function(e){return a(o[e],e,o)}}var u=e(t,n,r);return u>-1?o[a?t[u]:u]:i}}function di(e){return Ni(function(t){var n=t.length,r=n,o=vr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new rt(s);if(o&&!u&&"wrapper"==Ii(a))var u=new vr([],!0)}for(r=u?r:n;++r<n;){var c=Ii(a=t[r]),l="wrapper"==c?Pi(a):i;u=l&&Yi(l[0])&&l[1]==(O|b|w|E)&&!l[4].length&&1==l[9]?u[Ii(l[0])].apply(u,l[3]):1==a.length&&Yi(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&yu(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function hi(e,t,r,o,a,u,s,c,l,f){var d=t&O,h=t&_,p=t&m,v=t&(b|k),y=t&S,g=p?i:li(e);return function _(){for(var m=arguments.length,b=n(m),k=m;k--;)b[k]=arguments[k];if(v)var w=Bi(_),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,w);if(o&&(b=ei(b,o,a,v)),u&&(b=ti(b,u,s,v)),m-=x,v&&m<f){var O=Tn(b,w);return bi(e,t,hi,_.placeholder,r,b,O,c,l,f-m)}var E=h?r:this,S=p?E[e]:e;return m=b.length,c?b=function(e,t){for(var n=e.length,r=Jn(t.length,n),o=ni(e);r--;){var a=t[r];e[r]=Ji(a,n)?o[a]:i}return e}(b,c):y&&m>1&&b.reverse(),d&&l<m&&(b.length=l),this&&this!==It&&this instanceof _&&(S=g||li(S)),S.apply(E,b)}}function pi(e,t){return function(n,r){return function(e,t,n,r){return Vr(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function vi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=Ro(n),r=Ro(r)):(n=Fo(n),r=Fo(r)),o=e(n,r)}return o}}function yi(e){return Ni(function(t){return t=Xt(t,_n(Fi())),xo(function(n){var r=this;return e(t,function(e){return Jt(e,r,n)})})})}function _i(e,t){var n=(t=t===i?" ":Ro(t)).length;if(n<2)return n?wo(t,e):t;var r=wo(t,Dn(e/Cn(t)));return En(t)?Yo(Pn(r),0,e).join(""):r.slice(0,e)}function mi(e){return function(t,r,o){return o&&"number"!=typeof o&&Vi(t,r,o)&&(r=o=i),t=Lu(t),r===i?(r=t,t=0):r=Lu(r),function(e,t,r,o){for(var i=-1,a=Wn(Dn((t-e)/(r||1)),0),u=n(a);a--;)u[o?a:++i]=e,e+=r;return u}(t,r,o=o===i?t<r?1:-1:Lu(o),e)}}function gi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=qu(t),n=qu(n)),e(t,n)}}function bi(e,t,n,r,o,a,u,s,c,l){var f=t&b;t|=f?w:x,(t&=~(f?x:w))&g||(t&=~(_|m));var d=[e,t,o,f?a:i,f?u:i,f?i:a,f?i:u,s,c,l],h=n.apply(i,d);return Yi(e)&&na(h,d),h.placeholder=r,ia(h,e,t)}function ki(e){var t=Xe[e];return function(e,n){if(e=qu(e),(n=null==n?0:Jn(zu(n),292))&&Un(e)){var r=(Wu(e)+"e").split("e");return+((r=(Wu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var wi=Xn&&1/Nn(new Xn([,-0]))[1]==I?function(e){return new Xn(e)}:Bs;function xi(e){return function(t){var n=Ui(t);return n==$?Sn(t):n==ne?jn(t):function(e,t){return Xt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Oi(e,t,r,o,a,u,c,l){var d=t&m;if(!d&&"function"!=typeof e)throw new rt(s);var h=o?o.length:0;if(h||(t&=~(w|x),o=a=i),c=c===i?c:Wn(zu(c),0),l=l===i?l:zu(l),h-=a?a.length:0,t&x){var p=o,v=a;o=a=i}var y=d?i:Pi(e),S=[e,t,r,o,a,p,v,u,c,l];if(y&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<(_|m|O),a=r==O&&n==b||r==O&&n==E&&e[7].length<=t[8]||r==(O|E)&&t[7].length<=t[8]&&n==b;if(!i&&!a)return e;r&_&&(e[2]=t[2],o|=n&_?0:g);var u=t[3];if(u){var s=e[3];e[3]=s?ei(s,u,t[4]):u,e[4]=s?Tn(e[3],f):t[4]}(u=t[5])&&(s=e[5],e[5]=s?ti(s,u,t[6]):u,e[6]=s?Tn(e[5],f):t[6]),(u=t[7])&&(e[7]=u),r&O&&(e[8]=null==e[8]?t[8]:Jn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(S,y),e=S[0],t=S[1],r=S[2],o=S[3],a=S[4],!(l=S[9]=S[9]===i?d?0:e.length:Wn(S[9]-h,0))&&t&(b|k)&&(t&=~(b|k)),t&&t!=_)A=t==b||t==k?function(e,t,r){var o=li(e);return function a(){for(var u=arguments.length,s=n(u),c=u,l=Bi(a);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:Tn(s,l);return(u-=f.length)<r?bi(e,t,hi,a.placeholder,i,s,f,i,i,r-u):Jt(this&&this!==It&&this instanceof a?o:e,this,s)}}(e,t,l):t!=w&&t!=(_|w)||a.length?hi.apply(i,S):function(e,t,r,o){var i=t&_,a=li(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=o.length,f=n(l+s),d=this&&this!==It&&this instanceof t?a:e;++c<l;)f[c]=o[c];for(;s--;)f[c++]=arguments[++u];return Jt(d,i?r:this,f)}}(e,t,r,o);else var A=function(e,t,n){var r=t&_,o=li(e);return function t(){return(this&&this!==It&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return ia((y?Ao:na)(A,S),e,t)}function Ei(e,t,n,r){return e===i||du(e,at[n])&&!ct.call(r,n)?t:e}function Si(e,t,n,r,o,a){return Su(e)&&Su(t)&&(a.set(t,e),vo(e,t,i,Si,a),a.delete(t)),e}function Ai(e){return ju(e)?i:e}function Ti(e,t,n,r,o,a){var u=n&v,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=n&y?new br:i;for(a.set(e,t),a.set(t,e);++d<s;){var _=e[d],m=t[d];if(r)var g=u?r(m,_,d,t,e,a):r(_,m,d,e,t,a);if(g!==i){if(g)continue;h=!1;break}if(p){if(!rn(t,function(e,t){if(!gn(p,t)&&(_===e||o(_,e,n,r,a)))return p.push(t)})){h=!1;break}}else if(_!==m&&!o(_,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Ni(e){return oa(Xi(e,i,_a),e+"")}function ji(e){return $r(e,rs,Li)}function Ci(e){return $r(e,os,zi)}var Pi=nr?function(e){return nr.get(e)}:Bs;function Ii(e){for(var t=e.name+"",n=rr[t],r=ct.call(rr,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Bi(e){return(ct.call(dr,"placeholder")?dr:e).placeholder}function Fi(){var e=dr.iteratee||js;return e=e===js?uo:e,arguments.length?e(arguments[0],arguments[1]):e}function Ri(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Di(e){for(var t=rs(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Zi(o)]}return t}function Mi(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return ao(n)?n:i}var Li=Ln?function(e){return null==e?[]:(e=et(e),$t(Ln(e),function(t){return Pt.call(e,t)}))}:Us,zi=Ln?function(e){for(var t=[];e;)en(t,Li(e)),e=Tt(e);return t}:Us,Ui=Zr;function qi(e,t,n){for(var r=-1,o=(t=Vo(t,e)).length,i=!1;++r<o;){var a=ca(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Eu(o)&&Ji(a,o)&&(yu(e)||vu(e))}function Ki(e){return"function"!=typeof e.constructor||$i(e)?{}:hr(Tt(e))}function Wi(e){return yu(e)||vu(e)||!!(Ft&&e&&e[Ft])}function Ji(e,t){var n=typeof e;return!!(t=null==t?B:t)&&("number"==n||"symbol"!=n&&Ye.test(e))&&e>-1&&e%1==0&&e<t}function Vi(e,t,n){if(!Su(n))return!1;var r=typeof t;return!!("number"==r?mu(n)&&Ji(t,n.length):"string"==r&&t in n)&&du(n[t],e)}function Gi(e,t){if(yu(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bu(e))||je.test(e)||!Ne.test(e)||null!=t&&e in et(t)}function Yi(e){var t=Ii(e),n=dr[t];if("function"!=typeof n||!(t in yr.prototype))return!1;if(e===n)return!0;var r=Pi(n);return!!r&&e===r[0]}($n&&Ui(new $n(new ArrayBuffer(1)))!=ce||Zn&&Ui(new Zn)!=$||Qn&&"[object Promise]"!=Ui(Qn.resolve())||Xn&&Ui(new Xn)!=ne||er&&Ui(new er)!=ae)&&(Ui=function(e){var t=Zr(e),n=t==X?e.constructor:i,r=n?la(n):"";if(r)switch(r){case or:return ce;case ir:return $;case ar:return"[object Promise]";case ur:return ne;case sr:return ae}return t});var Hi=ut?xu:qs;function $i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Zi(e){return e==e&&!Su(e)}function Qi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in et(n))}}function Xi(e,t,r){return t=Wn(t===i?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=Wn(o.length-t,0),u=n(a);++i<a;)u[i]=o[t+i];i=-1;for(var s=n(t+1);++i<t;)s[i]=o[i];return s[t]=r(u),Jt(e,this,s)}}function ea(e,t){return t.length<2?e:Hr(e,jo(t,0,-1))}function ta(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var na=aa(Ao),ra=Rn||function(e,t){return It.setTimeout(e,t)},oa=aa(To);function ia(e,t,n){var r=t+"";return oa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(De,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Gt(z,function(n){var r="_."+n[0];t&n[1]&&!Zt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Me);return t?t[1].split(Le):[]}(r),n)))}function aa(e){var t=0,n=0;return function(){var r=Vn(),o=j-(r-n);if(n=r,o>0){if(++t>=N)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ua(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=ko(n,o),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var sa=function(e){var t=au(e,function(e){return n.size===l&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ce,function(e,n,r,o){t.push(r?o.replace(Ue,"$1"):n||e)}),t});function ca(e){if("string"==typeof e||Bu(e))return e;var t=e+"";return"0"==t&&1/e==-I?"-0":t}function la(e){if(null!=e){try{return st.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function fa(e){if(e instanceof yr)return e.clone();var t=new vr(e.__wrapped__,e.__chain__);return t.__actions__=ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var da=xo(function(e,t){return gu(e)?Dr(e,Kr(t,1,gu,!0)):[]}),ha=xo(function(e,t){var n=wa(t);return gu(n)&&(n=i),gu(e)?Dr(e,Kr(t,1,gu,!0),Fi(n,2)):[]}),pa=xo(function(e,t){var n=wa(t);return gu(n)&&(n=i),gu(e)?Dr(e,Kr(t,1,gu,!0),i,n):[]});function va(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:zu(n);return o<0&&(o=Wn(r+o,0)),un(e,Fi(t,3),o)}function ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=zu(n),o=n<0?Wn(r+o,0):Jn(o,r-1)),un(e,Fi(t,3),o,!0)}function _a(e){return null!=e&&e.length?Kr(e,1):[]}function ma(e){return e&&e.length?e[0]:i}var ga=xo(function(e){var t=Xt(e,Wo);return t.length&&t[0]===e[0]?to(t):[]}),ba=xo(function(e){var t=wa(e),n=Xt(e,Wo);return t===wa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?to(n,Fi(t,2)):[]}),ka=xo(function(e){var t=wa(e),n=Xt(e,Wo);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?to(n,i,t):[]});function wa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var xa=xo(Oa);function Oa(e,t){return e&&e.length&&t&&t.length?go(e,t):e}var Ea=Ni(function(e,t){var n=null==e?0:e.length,r=Pr(e,t);return bo(e,Xt(t,function(e){return Ji(e,n)?+e:e}).sort(Xo)),r});function Sa(e){return null==e?e:Hn.call(e)}var Aa=xo(function(e){return Do(Kr(e,1,gu,!0))}),Ta=xo(function(e){var t=wa(e);return gu(t)&&(t=i),Do(Kr(e,1,gu,!0),Fi(t,2))}),Na=xo(function(e){var t=wa(e);return t="function"==typeof t?t:i,Do(Kr(e,1,gu,!0),i,t)});function ja(e){if(!e||!e.length)return[];var t=0;return e=$t(e,function(e){if(gu(e))return t=Wn(e.length,t),!0}),yn(t,function(t){return Xt(e,dn(t))})}function Ca(e,t){if(!e||!e.length)return[];var n=ja(e);return null==t?n:Xt(n,function(e){return Jt(t,i,e)})}var Pa=xo(function(e,t){return gu(e)?Dr(e,t):[]}),Ia=xo(function(e){return qo($t(e,gu))}),Ba=xo(function(e){var t=wa(e);return gu(t)&&(t=i),qo($t(e,gu),Fi(t,2))}),Fa=xo(function(e){var t=wa(e);return t="function"==typeof t?t:i,qo($t(e,gu),i,t)}),Ra=xo(ja);var Da=xo(function(e){var t=e.length,n=t>1?e[t-1]:i;return Ca(e,n="function"==typeof n?(e.pop(),n):i)});function Ma(e){var t=dr(e);return t.__chain__=!0,t}function La(e,t){return t(e)}var za=Ni(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return Pr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof yr&&Ji(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:La,args:[o],thisArg:i}),new vr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)});var Ua=oi(function(e,t,n){ct.call(e,n)?++e[n]:Cr(e,n,1)});var qa=fi(va),Ka=fi(ya);function Wa(e,t){return(yu(e)?Gt:Mr)(e,Fi(t,3))}function Ja(e,t){return(yu(e)?Yt:Lr)(e,Fi(t,3))}var Va=oi(function(e,t,n){ct.call(e,n)?e[n].push(t):Cr(e,n,[t])});var Ga=xo(function(e,t,r){var o=-1,i="function"==typeof t,a=mu(e)?n(e.length):[];return Mr(e,function(e){a[++o]=i?Jt(t,e,r):no(e,t,r)}),a}),Ya=oi(function(e,t,n){Cr(e,n,t)});function Ha(e,t){return(yu(e)?Xt:fo)(e,Fi(t,3))}var $a=oi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Za=xo(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Vi(e,t[0],t[1])?t=[]:n>2&&Vi(t[0],t[1],t[2])&&(t=[t[0]]),_o(e,Kr(t,1),[])}),Qa=Fn||function(){return It.Date.now()};function Xa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Oi(e,O,i,i,i,i,t)}function eu(e,t){var n;if("function"!=typeof t)throw new rt(s);return e=zu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var tu=xo(function(e,t,n){var r=_;if(n.length){var o=Tn(n,Bi(tu));r|=w}return Oi(e,r,t,n,o)}),nu=xo(function(e,t,n){var r=_|m;if(n.length){var o=Tn(n,Bi(nu));r|=w}return Oi(t,r,e,n,o)});function ru(e,t,n){var r,o,a,u,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new rt(s);function v(t){var n=r,a=o;return r=o=i,f=t,u=e.apply(a,n)}function y(e){var n=e-l;return l===i||n>=t||n<0||h&&e-f>=a}function _(){var e=Qa();if(y(e))return m(e);c=ra(_,function(e){var n=t-(e-l);return h?Jn(n,a-(e-f)):n}(e))}function m(e){return c=i,p&&r?v(e):(r=o=i,u)}function g(){var e=Qa(),n=y(e);if(r=arguments,o=this,l=e,n){if(c===i)return function(e){return f=e,c=ra(_,t),d?v(e):u}(l);if(h)return Ho(c),c=ra(_,t),v(l)}return c===i&&(c=ra(_,t)),u}return t=qu(t)||0,Su(n)&&(d=!!n.leading,a=(h="maxWait"in n)?Wn(qu(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),g.cancel=function(){c!==i&&Ho(c),f=0,r=l=o=c=i},g.flush=function(){return c===i?u:m(Qa())},g}var ou=xo(function(e,t){return Rr(e,1,t)}),iu=xo(function(e,t,n){return Rr(e,qu(t)||0,n)});function au(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(s);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(au.Cache||gr),n}function uu(e){if("function"!=typeof e)throw new rt(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}au.Cache=gr;var su=Go(function(e,t){var n=(t=1==t.length&&yu(t[0])?Xt(t[0],_n(Fi())):Xt(Kr(t,1),_n(Fi()))).length;return xo(function(r){for(var o=-1,i=Jn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Jt(e,this,r)})}),cu=xo(function(e,t){var n=Tn(t,Bi(cu));return Oi(e,w,i,t,n)}),lu=xo(function(e,t){var n=Tn(t,Bi(lu));return Oi(e,x,i,t,n)}),fu=Ni(function(e,t){return Oi(e,E,i,i,i,t)});function du(e,t){return e===t||e!=e&&t!=t}var hu=gi(Qr),pu=gi(function(e,t){return e>=t}),vu=ro(function(){return arguments}())?ro:function(e){return Au(e)&&ct.call(e,"callee")&&!Pt.call(e,"callee")},yu=n.isArray,_u=Lt?_n(Lt):function(e){return Au(e)&&Zr(e)==se};function mu(e){return null!=e&&Eu(e.length)&&!xu(e)}function gu(e){return Au(e)&&mu(e)}var bu=zn||qs,ku=zt?_n(zt):function(e){return Au(e)&&Zr(e)==J};function wu(e){if(!Au(e))return!1;var t=Zr(e);return t==G||t==V||"string"==typeof e.message&&"string"==typeof e.name&&!ju(e)}function xu(e){if(!Su(e))return!1;var t=Zr(e);return t==Y||t==H||t==K||t==ee}function Ou(e){return"number"==typeof e&&e==zu(e)}function Eu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=B}function Su(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Au(e){return null!=e&&"object"==typeof e}var Tu=Ut?_n(Ut):function(e){return Au(e)&&Ui(e)==$};function Nu(e){return"number"==typeof e||Au(e)&&Zr(e)==Z}function ju(e){if(!Au(e)||Zr(e)!=X)return!1;var t=Tt(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&st.call(n)==ht}var Cu=qt?_n(qt):function(e){return Au(e)&&Zr(e)==te};var Pu=Kt?_n(Kt):function(e){return Au(e)&&Ui(e)==ne};function Iu(e){return"string"==typeof e||!yu(e)&&Au(e)&&Zr(e)==re}function Bu(e){return"symbol"==typeof e||Au(e)&&Zr(e)==oe}var Fu=Wt?_n(Wt):function(e){return Au(e)&&Eu(e.length)&&!!St[Zr(e)]};var Ru=gi(lo),Du=gi(function(e,t){return e<=t});function Mu(e){if(!e)return[];if(mu(e))return Iu(e)?Pn(e):ni(e);if(Dt&&e[Dt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Dt]());var t=Ui(e);return(t==$?Sn:t==ne?Nn:ds)(e)}function Lu(e){return e?(e=qu(e))===I||e===-I?(e<0?-1:1)*F:e==e?e:0:0===e?e:0}function zu(e){var t=Lu(e),n=t%1;return t==t?n?t-n:t:0}function Uu(e){return e?Ir(zu(e),0,D):0}function qu(e){if("number"==typeof e)return e;if(Bu(e))return R;if(Su(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Su(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Be,"");var n=Je.test(e);return n||Ge.test(e)?jt(e.slice(2),n?2:8):We.test(e)?R:+e}function Ku(e){return ri(e,os(e))}function Wu(e){return null==e?"":Ro(e)}var Ju=ii(function(e,t){if($i(t)||mu(t))ri(t,rs(t),e);else for(var n in t)ct.call(t,n)&&Ar(e,n,t[n])}),Vu=ii(function(e,t){ri(t,os(t),e)}),Gu=ii(function(e,t,n,r){ri(t,os(t),e,r)}),Yu=ii(function(e,t,n,r){ri(t,rs(t),e,r)}),Hu=Ni(Pr);var $u=xo(function(e,t){e=et(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&Vi(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],u=os(a),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||du(f,at[l])&&!ct.call(e,l))&&(e[l]=a[l])}return e}),Zu=xo(function(e){return e.push(i,Si),Jt(as,i,e)});function Qu(e,t,n){var r=null==e?i:Hr(e,t);return r===i?n:r}function Xu(e,t){return null!=e&&qi(e,t,eo)}var es=pi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=n},Ss(Ns)),ts=pi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]},Fi),ns=xo(no);function rs(e){return mu(e)?wr(e):so(e)}function os(e){return mu(e)?wr(e,!0):co(e)}var is=ii(function(e,t,n){vo(e,t,n)}),as=ii(function(e,t,n,r){vo(e,t,n,r)}),us=Ni(function(e,t){var n={};if(null==e)return n;var r=!1;t=Xt(t,function(t){return t=Vo(t,e),r||(r=t.length>1),t}),ri(e,Ci(e),n),r&&(n=Br(n,d|h|p,Ai));for(var o=t.length;o--;)Mo(n,t[o]);return n});var ss=Ni(function(e,t){return null==e?{}:function(e,t){return mo(e,t,function(t,n){return Xu(e,n)})}(e,t)});function cs(e,t){if(null==e)return{};var n=Xt(Ci(e),function(e){return[e]});return t=Fi(t),mo(e,n,function(e,n){return t(e,n[0])})}var ls=xi(rs),fs=xi(os);function ds(e){return null==e?[]:mn(e,rs(e))}var hs=ci(function(e,t,n){return t=t.toLowerCase(),e+(n?ps(t):t)});function ps(e){return ws(Wu(e).toLowerCase())}function vs(e){return(e=Wu(e))&&e.replace(He,wn).replace(gt,"")}var ys=ci(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),_s=ci(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),ms=si("toLowerCase");var gs=ci(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var bs=ci(function(e,t,n){return e+(n?" ":"")+ws(t)});var ks=ci(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ws=si("toUpperCase");function xs(e,t,n){return e=Wu(e),(t=n?i:t)===i?function(e){return xt.test(e)}(e)?function(e){return e.match(kt)||[]}(e):function(e){return e.match(ze)||[]}(e):e.match(t)||[]}var Os=xo(function(e,t){try{return Jt(e,i,t)}catch(e){return wu(e)?e:new o(e)}}),Es=Ni(function(e,t){return Gt(t,function(t){t=ca(t),Cr(e,t,tu(e[t],e))}),e});function Ss(e){return function(){return e}}var As=di(),Ts=di(!0);function Ns(e){return e}function js(e){return uo("function"==typeof e?e:Br(e,d))}var Cs=xo(function(e,t){return function(n){return no(n,e,t)}}),Ps=xo(function(e,t){return function(n){return no(e,n,t)}});function Is(e,t,n){var r=rs(t),o=Yr(t,r);null!=n||Su(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Yr(t,rs(t)));var i=!(Su(n)&&"chain"in n&&!n.chain),a=xu(e);return Gt(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=ni(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})}),e}function Bs(){}var Fs=yi(Xt),Rs=yi(Ht),Ds=yi(rn);function Ms(e){return Gi(e)?dn(ca(e)):function(e){return function(t){return Hr(t,e)}}(e)}var Ls=mi(),zs=mi(!0);function Us(){return[]}function qs(){return!1}var Ks=vi(function(e,t){return e+t},0),Ws=ki("ceil"),Js=vi(function(e,t){return e/t},1),Vs=ki("floor");var Gs=vi(function(e,t){return e*t},1),Ys=ki("round"),Hs=vi(function(e,t){return e-t},0);return dr.after=function(e,t){if("function"!=typeof t)throw new rt(s);return e=zu(e),function(){if(--e<1)return t.apply(this,arguments)}},dr.ary=Xa,dr.assign=Ju,dr.assignIn=Vu,dr.assignInWith=Gu,dr.assignWith=Yu,dr.at=Hu,dr.before=eu,dr.bind=tu,dr.bindAll=Es,dr.bindKey=nu,dr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return yu(e)?e:[e]},dr.chain=Ma,dr.chunk=function(e,t,r){t=(r?Vi(e,t,r):t===i)?1:Wn(zu(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,u=0,s=n(Dn(o/t));a<o;)s[u++]=jo(e,a,a+=t);return s},dr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},dr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return en(yu(r)?ni(r):[r],Kr(t,1))},dr.cond=function(e){var t=null==e?0:e.length,n=Fi();return e=t?Xt(e,function(e){if("function"!=typeof e[1])throw new rt(s);return[n(e[0]),e[1]]}):[],xo(function(n){for(var r=-1;++r<t;){var o=e[r];if(Jt(o[0],this,n))return Jt(o[1],this,n)}})},dr.conforms=function(e){return function(e){var t=rs(e);return function(n){return Fr(n,e,t)}}(Br(e,d))},dr.constant=Ss,dr.countBy=Ua,dr.create=function(e,t){var n=hr(e);return null==t?n:jr(n,t)},dr.curry=function e(t,n,r){var o=Oi(t,b,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},dr.curryRight=function e(t,n,r){var o=Oi(t,k,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},dr.debounce=ru,dr.defaults=$u,dr.defaultsDeep=Zu,dr.defer=ou,dr.delay=iu,dr.difference=da,dr.differenceBy=ha,dr.differenceWith=pa,dr.drop=function(e,t,n){var r=null==e?0:e.length;return r?jo(e,(t=n||t===i?1:zu(t))<0?0:t,r):[]},dr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?jo(e,0,(t=r-(t=n||t===i?1:zu(t)))<0?0:t):[]},dr.dropRightWhile=function(e,t){return e&&e.length?zo(e,Fi(t,3),!0,!0):[]},dr.dropWhile=function(e,t){return e&&e.length?zo(e,Fi(t,3),!0):[]},dr.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Vi(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=zu(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:zu(r))<0&&(r+=o),r=n>r?0:Uu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},dr.filter=function(e,t){return(yu(e)?$t:qr)(e,Fi(t,3))},dr.flatMap=function(e,t){return Kr(Ha(e,t),1)},dr.flatMapDeep=function(e,t){return Kr(Ha(e,t),I)},dr.flatMapDepth=function(e,t,n){return n=n===i?1:zu(n),Kr(Ha(e,t),n)},dr.flatten=_a,dr.flattenDeep=function(e){return null!=e&&e.length?Kr(e,I):[]},dr.flattenDepth=function(e,t){return null!=e&&e.length?Kr(e,t=t===i?1:zu(t)):[]},dr.flip=function(e){return Oi(e,S)},dr.flow=As,dr.flowRight=Ts,dr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},dr.functions=function(e){return null==e?[]:Yr(e,rs(e))},dr.functionsIn=function(e){return null==e?[]:Yr(e,os(e))},dr.groupBy=Va,dr.initial=function(e){return null!=e&&e.length?jo(e,0,-1):[]},dr.intersection=ga,dr.intersectionBy=ba,dr.intersectionWith=ka,dr.invert=es,dr.invertBy=ts,dr.invokeMap=Ga,dr.iteratee=js,dr.keyBy=Ya,dr.keys=rs,dr.keysIn=os,dr.map=Ha,dr.mapKeys=function(e,t){var n={};return t=Fi(t,3),Vr(e,function(e,r,o){Cr(n,t(e,r,o),e)}),n},dr.mapValues=function(e,t){var n={};return t=Fi(t,3),Vr(e,function(e,r,o){Cr(n,r,t(e,r,o))}),n},dr.matches=function(e){return ho(Br(e,d))},dr.matchesProperty=function(e,t){return po(e,Br(t,d))},dr.memoize=au,dr.merge=is,dr.mergeWith=as,dr.method=Cs,dr.methodOf=Ps,dr.mixin=Is,dr.negate=uu,dr.nthArg=function(e){return e=zu(e),xo(function(t){return yo(t,e)})},dr.omit=us,dr.omitBy=function(e,t){return cs(e,uu(Fi(t)))},dr.once=function(e){return eu(2,e)},dr.orderBy=function(e,t,n,r){return null==e?[]:(yu(t)||(t=null==t?[]:[t]),yu(n=r?i:n)||(n=null==n?[]:[n]),_o(e,t,n))},dr.over=Fs,dr.overArgs=su,dr.overEvery=Rs,dr.overSome=Ds,dr.partial=cu,dr.partialRight=lu,dr.partition=$a,dr.pick=ss,dr.pickBy=cs,dr.property=Ms,dr.propertyOf=function(e){return function(t){return null==e?i:Hr(e,t)}},dr.pull=xa,dr.pullAll=Oa,dr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?go(e,t,Fi(n,2)):e},dr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?go(e,t,i,n):e},dr.pullAt=Ea,dr.range=Ls,dr.rangeRight=zs,dr.rearg=fu,dr.reject=function(e,t){return(yu(e)?$t:qr)(e,uu(Fi(t,3)))},dr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=Fi(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return bo(e,o),n},dr.rest=function(e,t){if("function"!=typeof e)throw new rt(s);return xo(e,t=t===i?t:zu(t))},dr.reverse=Sa,dr.sampleSize=function(e,t,n){return t=(n?Vi(e,t,n):t===i)?1:zu(t),(yu(e)?Or:Eo)(e,t)},dr.set=function(e,t,n){return null==e?e:So(e,t,n)},dr.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:So(e,t,n,r)},dr.shuffle=function(e){return(yu(e)?Er:No)(e)},dr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Vi(e,t,n)?(t=0,n=r):(t=null==t?0:zu(t),n=n===i?r:zu(n)),jo(e,t,n)):[]},dr.sortBy=Za,dr.sortedUniq=function(e){return e&&e.length?Bo(e):[]},dr.sortedUniqBy=function(e,t){return e&&e.length?Bo(e,Fi(t,2)):[]},dr.split=function(e,t,n){return n&&"number"!=typeof n&&Vi(e,t,n)&&(t=n=i),(n=n===i?D:n>>>0)?(e=Wu(e))&&("string"==typeof t||null!=t&&!Cu(t))&&!(t=Ro(t))&&En(e)?Yo(Pn(e),0,n):e.split(t,n):[]},dr.spread=function(e,t){if("function"!=typeof e)throw new rt(s);return t=null==t?0:Wn(zu(t),0),xo(function(n){var r=n[t],o=Yo(n,0,t);return r&&en(o,r),Jt(e,this,o)})},dr.tail=function(e){var t=null==e?0:e.length;return t?jo(e,1,t):[]},dr.take=function(e,t,n){return e&&e.length?jo(e,0,(t=n||t===i?1:zu(t))<0?0:t):[]},dr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?jo(e,(t=r-(t=n||t===i?1:zu(t)))<0?0:t,r):[]},dr.takeRightWhile=function(e,t){return e&&e.length?zo(e,Fi(t,3),!1,!0):[]},dr.takeWhile=function(e,t){return e&&e.length?zo(e,Fi(t,3)):[]},dr.tap=function(e,t){return t(e),e},dr.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new rt(s);return Su(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ru(e,t,{leading:r,maxWait:t,trailing:o})},dr.thru=La,dr.toArray=Mu,dr.toPairs=ls,dr.toPairsIn=fs,dr.toPath=function(e){return yu(e)?Xt(e,ca):Bu(e)?[e]:ni(sa(Wu(e)))},dr.toPlainObject=Ku,dr.transform=function(e,t,n){var r=yu(e),o=r||bu(e)||Fu(e);if(t=Fi(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Su(e)&&xu(i)?hr(Tt(e)):{}}return(o?Gt:Vr)(e,function(e,r,o){return t(n,e,r,o)}),n},dr.unary=function(e){return Xa(e,1)},dr.union=Aa,dr.unionBy=Ta,dr.unionWith=Na,dr.uniq=function(e){return e&&e.length?Do(e):[]},dr.uniqBy=function(e,t){return e&&e.length?Do(e,Fi(t,2)):[]},dr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?Do(e,i,t):[]},dr.unset=function(e,t){return null==e||Mo(e,t)},dr.unzip=ja,dr.unzipWith=Ca,dr.update=function(e,t,n){return null==e?e:Lo(e,t,Jo(n))},dr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Lo(e,t,Jo(n),r)},dr.values=ds,dr.valuesIn=function(e){return null==e?[]:mn(e,os(e))},dr.without=Pa,dr.words=xs,dr.wrap=function(e,t){return cu(Jo(t),e)},dr.xor=Ia,dr.xorBy=Ba,dr.xorWith=Fa,dr.zip=Ra,dr.zipObject=function(e,t){return Ko(e||[],t||[],Ar)},dr.zipObjectDeep=function(e,t){return Ko(e||[],t||[],So)},dr.zipWith=Da,dr.entries=ls,dr.entriesIn=fs,dr.extend=Vu,dr.extendWith=Gu,Is(dr,dr),dr.add=Ks,dr.attempt=Os,dr.camelCase=hs,dr.capitalize=ps,dr.ceil=Ws,dr.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=qu(n))==n?n:0),t!==i&&(t=(t=qu(t))==t?t:0),Ir(qu(e),t,n)},dr.clone=function(e){return Br(e,p)},dr.cloneDeep=function(e){return Br(e,d|p)},dr.cloneDeepWith=function(e,t){return Br(e,d|p,t="function"==typeof t?t:i)},dr.cloneWith=function(e,t){return Br(e,p,t="function"==typeof t?t:i)},dr.conformsTo=function(e,t){return null==t||Fr(e,t,rs(t))},dr.deburr=vs,dr.defaultTo=function(e,t){return null==e||e!=e?t:e},dr.divide=Js,dr.endsWith=function(e,t,n){e=Wu(e),t=Ro(t);var r=e.length,o=n=n===i?r:Ir(zu(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},dr.eq=du,dr.escape=function(e){return(e=Wu(e))&&Ee.test(e)?e.replace(xe,xn):e},dr.escapeRegExp=function(e){return(e=Wu(e))&&Ie.test(e)?e.replace(Pe,"\\$&"):e},dr.every=function(e,t,n){var r=yu(e)?Ht:zr;return n&&Vi(e,t,n)&&(t=i),r(e,Fi(t,3))},dr.find=qa,dr.findIndex=va,dr.findKey=function(e,t){return an(e,Fi(t,3),Vr)},dr.findLast=Ka,dr.findLastIndex=ya,dr.findLastKey=function(e,t){return an(e,Fi(t,3),Gr)},dr.floor=Vs,dr.forEach=Wa,dr.forEachRight=Ja,dr.forIn=function(e,t){return null==e?e:Wr(e,Fi(t,3),os)},dr.forInRight=function(e,t){return null==e?e:Jr(e,Fi(t,3),os)},dr.forOwn=function(e,t){return e&&Vr(e,Fi(t,3))},dr.forOwnRight=function(e,t){return e&&Gr(e,Fi(t,3))},dr.get=Qu,dr.gt=hu,dr.gte=pu,dr.has=function(e,t){return null!=e&&qi(e,t,Xr)},dr.hasIn=Xu,dr.head=ma,dr.identity=Ns,dr.includes=function(e,t,n,r){e=mu(e)?e:ds(e),n=n&&!r?zu(n):0;var o=e.length;return n<0&&(n=Wn(o+n,0)),Iu(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&sn(e,t,n)>-1},dr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:zu(n);return o<0&&(o=Wn(r+o,0)),sn(e,t,o)},dr.inRange=function(e,t,n){return t=Lu(t),n===i?(n=t,t=0):n=Lu(n),function(e,t,n){return e>=Jn(t,n)&&e<Wn(t,n)}(e=qu(e),t,n)},dr.invoke=ns,dr.isArguments=vu,dr.isArray=yu,dr.isArrayBuffer=_u,dr.isArrayLike=mu,dr.isArrayLikeObject=gu,dr.isBoolean=function(e){return!0===e||!1===e||Au(e)&&Zr(e)==W},dr.isBuffer=bu,dr.isDate=ku,dr.isElement=function(e){return Au(e)&&1===e.nodeType&&!ju(e)},dr.isEmpty=function(e){if(null==e)return!0;if(mu(e)&&(yu(e)||"string"==typeof e||"function"==typeof e.splice||bu(e)||Fu(e)||vu(e)))return!e.length;var t=Ui(e);if(t==$||t==ne)return!e.size;if($i(e))return!so(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},dr.isEqual=function(e,t){return oo(e,t)},dr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?oo(e,t,i,n):!!r},dr.isError=wu,dr.isFinite=function(e){return"number"==typeof e&&Un(e)},dr.isFunction=xu,dr.isInteger=Ou,dr.isLength=Eu,dr.isMap=Tu,dr.isMatch=function(e,t){return e===t||io(e,t,Di(t))},dr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,io(e,t,Di(t),n)},dr.isNaN=function(e){return Nu(e)&&e!=+e},dr.isNative=function(e){if(Hi(e))throw new o(u);return ao(e)},dr.isNil=function(e){return null==e},dr.isNull=function(e){return null===e},dr.isNumber=Nu,dr.isObject=Su,dr.isObjectLike=Au,dr.isPlainObject=ju,dr.isRegExp=Cu,dr.isSafeInteger=function(e){return Ou(e)&&e>=-B&&e<=B},dr.isSet=Pu,dr.isString=Iu,dr.isSymbol=Bu,dr.isTypedArray=Fu,dr.isUndefined=function(e){return e===i},dr.isWeakMap=function(e){return Au(e)&&Ui(e)==ae},dr.isWeakSet=function(e){return Au(e)&&Zr(e)==ue},dr.join=function(e,t){return null==e?"":qn.call(e,t)},dr.kebabCase=ys,dr.last=wa,dr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=zu(n))<0?Wn(r+o,0):Jn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):un(e,ln,o,!0)},dr.lowerCase=_s,dr.lowerFirst=ms,dr.lt=Ru,dr.lte=Du,dr.max=function(e){return e&&e.length?Ur(e,Ns,Qr):i},dr.maxBy=function(e,t){return e&&e.length?Ur(e,Fi(t,2),Qr):i},dr.mean=function(e){return fn(e,Ns)},dr.meanBy=function(e,t){return fn(e,Fi(t,2))},dr.min=function(e){return e&&e.length?Ur(e,Ns,lo):i},dr.minBy=function(e,t){return e&&e.length?Ur(e,Fi(t,2),lo):i},dr.stubArray=Us,dr.stubFalse=qs,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=Gs,dr.nth=function(e,t){return e&&e.length?yo(e,zu(t)):i},dr.noConflict=function(){return It._===this&&(It._=pt),this},dr.noop=Bs,dr.now=Qa,dr.pad=function(e,t,n){e=Wu(e);var r=(t=zu(t))?Cn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return _i(Mn(o),n)+e+_i(Dn(o),n)},dr.padEnd=function(e,t,n){e=Wu(e);var r=(t=zu(t))?Cn(e):0;return t&&r<t?e+_i(t-r,n):e},dr.padStart=function(e,t,n){e=Wu(e);var r=(t=zu(t))?Cn(e):0;return t&&r<t?_i(t-r,n)+e:e},dr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Gn(Wu(e).replace(Fe,""),t||0)},dr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Vi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Lu(e),t===i?(t=e,e=0):t=Lu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Yn();return Jn(e+o*(t-e+Nt("1e-"+((o+"").length-1))),t)}return ko(e,t)},dr.reduce=function(e,t,n){var r=yu(e)?tn:pn,o=arguments.length<3;return r(e,Fi(t,4),n,o,Mr)},dr.reduceRight=function(e,t,n){var r=yu(e)?nn:pn,o=arguments.length<3;return r(e,Fi(t,4),n,o,Lr)},dr.repeat=function(e,t,n){return t=(n?Vi(e,t,n):t===i)?1:zu(t),wo(Wu(e),t)},dr.replace=function(){var e=arguments,t=Wu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},dr.result=function(e,t,n){var r=-1,o=(t=Vo(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[ca(t[r])];a===i&&(r=o,a=n),e=xu(a)?a.call(e):a}return e},dr.round=Ys,dr.runInContext=e,dr.sample=function(e){return(yu(e)?xr:Oo)(e)},dr.size=function(e){if(null==e)return 0;if(mu(e))return Iu(e)?Cn(e):e.length;var t=Ui(e);return t==$||t==ne?e.size:so(e).length},dr.snakeCase=gs,dr.some=function(e,t,n){var r=yu(e)?rn:Co;return n&&Vi(e,t,n)&&(t=i),r(e,Fi(t,3))},dr.sortedIndex=function(e,t){return Po(e,t)},dr.sortedIndexBy=function(e,t,n){return Io(e,t,Fi(n,2))},dr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Po(e,t);if(r<n&&du(e[r],t))return r}return-1},dr.sortedLastIndex=function(e,t){return Po(e,t,!0)},dr.sortedLastIndexBy=function(e,t,n){return Io(e,t,Fi(n,2),!0)},dr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Po(e,t,!0)-1;if(du(e[n],t))return n}return-1},dr.startCase=bs,dr.startsWith=function(e,t,n){return e=Wu(e),n=null==n?0:Ir(zu(n),0,e.length),t=Ro(t),e.slice(n,n+t.length)==t},dr.subtract=Hs,dr.sum=function(e){return e&&e.length?vn(e,Ns):0},dr.sumBy=function(e,t){return e&&e.length?vn(e,Fi(t,2)):0},dr.template=function(e,t,n){var r=dr.templateSettings;n&&Vi(e,t,n)&&(t=i),e=Wu(e),t=Gu({},t,r,Ei);var o,a,u=Gu({},t.imports,r.imports,Ei),s=rs(u),c=mn(u,s),l=0,f=t.interpolate||$e,d="__p += '",h=tt((t.escape||$e).source+"|"+f.source+"|"+(f===Te?qe:$e).source+"|"+(t.evaluate||$e).source+"|$","g"),p="//# sourceURL="+(ct.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Et+"]")+"\n";e.replace(h,function(t,n,r,i,u,s){return r||(r=i),d+=e.slice(l,s).replace(Ze,On),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t}),d+="';\n";var v=ct.call(t,"variable")&&t.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(ge,""):d).replace(be,"$1").replace(ke,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Os(function(){return Qe(s,p+"return "+d).apply(i,c)});if(y.source=d,wu(y))throw y;return y},dr.times=function(e,t){if((e=zu(e))<1||e>B)return[];var n=D,r=Jn(e,D);t=Fi(t),e-=D;for(var o=yn(r,t);++n<e;)t(n);return o},dr.toFinite=Lu,dr.toInteger=zu,dr.toLength=Uu,dr.toLower=function(e){return Wu(e).toLowerCase()},dr.toNumber=qu,dr.toSafeInteger=function(e){return e?Ir(zu(e),-B,B):0===e?e:0},dr.toString=Wu,dr.toUpper=function(e){return Wu(e).toUpperCase()},dr.trim=function(e,t,n){if((e=Wu(e))&&(n||t===i))return e.replace(Be,"");if(!e||!(t=Ro(t)))return e;var r=Pn(e),o=Pn(t);return Yo(r,bn(r,o),kn(r,o)+1).join("")},dr.trimEnd=function(e,t,n){if((e=Wu(e))&&(n||t===i))return e.replace(Re,"");if(!e||!(t=Ro(t)))return e;var r=Pn(e);return Yo(r,0,kn(r,Pn(t))+1).join("")},dr.trimStart=function(e,t,n){if((e=Wu(e))&&(n||t===i))return e.replace(Fe,"");if(!e||!(t=Ro(t)))return e;var r=Pn(e);return Yo(r,bn(r,Pn(t))).join("")},dr.truncate=function(e,t){var n=A,r=T;if(Su(t)){var o="separator"in t?t.separator:o;n="length"in t?zu(t.length):n,r="omission"in t?Ro(t.omission):r}var a=(e=Wu(e)).length;if(En(e)){var u=Pn(e);a=u.length}if(n>=a)return e;var s=n-Cn(r);if(s<1)return r;var c=u?Yo(u,0,s).join(""):e.slice(0,s);if(o===i)return c+r;if(u&&(s+=c.length-s),Cu(o)){if(e.slice(s).search(o)){var l,f=c;for(o.global||(o=tt(o.source,Wu(Ke.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;c=c.slice(0,d===i?s:d)}}else if(e.indexOf(Ro(o),s)!=s){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},dr.unescape=function(e){return(e=Wu(e))&&Oe.test(e)?e.replace(we,In):e},dr.uniqueId=function(e){var t=++lt;return Wu(e)+t},dr.upperCase=ks,dr.upperFirst=ws,dr.each=Wa,dr.eachRight=Ja,dr.first=ma,Is(dr,function(){var e={};return Vr(dr,function(t,n){ct.call(dr.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),dr.VERSION="4.17.19",Gt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){dr[e].placeholder=dr}),Gt(["drop","take"],function(e,t){yr.prototype[e]=function(n){n=n===i?1:Wn(zu(n),0);var r=this.__filtered__&&!t?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Jn(n,r.__takeCount__):r.__views__.push({size:Jn(n,D),type:e+(r.__dir__<0?"Right":"")}),r},yr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Gt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==C||3==n;yr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Fi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Gt(["head","last"],function(e,t){var n="take"+(t?"Right":"");yr.prototype[e]=function(){return this[n](1).value()[0]}}),Gt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");yr.prototype[e]=function(){return this.__filtered__?new yr(this):this[n](1)}}),yr.prototype.compact=function(){return this.filter(Ns)},yr.prototype.find=function(e){return this.filter(e).head()},yr.prototype.findLast=function(e){return this.reverse().find(e)},yr.prototype.invokeMap=xo(function(e,t){return"function"==typeof e?new yr(this):this.map(function(n){return no(n,e,t)})}),yr.prototype.reject=function(e){return this.filter(uu(Fi(e)))},yr.prototype.slice=function(e,t){e=zu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new yr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=zu(t))<0?n.dropRight(-t):n.take(t-e)),n)},yr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yr.prototype.toArray=function(){return this.take(D)},Vr(yr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=dr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(dr.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof yr,c=u[0],l=s||yu(t),f=function(e){var t=o.apply(dr,en([e],u));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=s&&!h;if(!a&&l){t=v?t:new yr(this);var y=e.apply(t,u);return y.__actions__.push({func:La,args:[f],thisArg:i}),new vr(y,d)}return p&&v?e.apply(this,u):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})}),Gt(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);dr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(yu(o)?o:[],e)}return this[n](function(n){return t.apply(yu(n)?n:[],e)})}}),Vr(yr.prototype,function(e,t){var n=dr[t];if(n){var r=n.name+"";ct.call(rr,r)||(rr[r]=[]),rr[r].push({name:t,func:n})}}),rr[hi(i,m).name]=[{name:"wrapper",func:i}],yr.prototype.clone=function(){var e=new yr(this.__wrapped__);return e.__actions__=ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ni(this.__views__),e},yr.prototype.reverse=function(){if(this.__filtered__){var e=new yr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=yu(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Jn(t,e+a);break;case"takeRight":e=Wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,d=0,h=Jn(s,this.__takeCount__);if(!n||!r&&o==s&&h==s)return Uo(e,this.__actions__);var p=[];e:for(;s--&&d<h;){for(var v=-1,y=e[c+=t];++v<f;){var _=l[v],m=_.iteratee,g=_.type,b=m(y);if(g==P)y=b;else if(!b){if(g==C)continue e;break e}}p[d++]=y}return p},dr.prototype.at=za,dr.prototype.chain=function(){return Ma(this)},dr.prototype.commit=function(){return new vr(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===i&&(this.__values__=Mu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},dr.prototype.plant=function(e){for(var t,n=this;n instanceof pr;){var r=fa(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},dr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yr){var t=e;return this.__actions__.length&&(t=new yr(this)),(t=t.reverse()).__actions__.push({func:La,args:[Sa],thisArg:i}),new vr(t,this.__chain__)}return this.thru(Sa)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return Uo(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,Dt&&(dr.prototype[Dt]=function(){return this}),dr}();It._=Bn,(o=function(){return Bn}.call(t,n,t,r))===i||(r.exports=o)}).call(this)}).call(this,n(25),n(22)(e))},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(123),o=n(126);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";var r=n(0),o="<<anonymous>>",i={listOf:function(e){return c(e,"List",r.List.isList)},mapOf:function(e,t){return l(e,t,"Map",r.Map.isMap)},orderedMapOf:function(e,t){return l(e,t,"OrderedMap",r.OrderedMap.isOrderedMap)},setOf:function(e){return c(e,"Set",r.Set.isSet)},orderedSetOf:function(e){return c(e,"OrderedSet",r.OrderedSet.isOrderedSet)},stackOf:function(e){return c(e,"Stack",r.Stack.isStack)},iterableOf:function(e){return c(e,"Iterable",r.Iterable.isIterable)},recordOf:function(e){return u(function(t,n,o,i,u){for(var s=arguments.length,c=Array(s>5?s-5:0),l=5;l<s;l++)c[l-5]=arguments[l];var f=t[n];if(!(f instanceof r.Record)){var d=a(f),h=i;return new Error("Invalid "+h+" `"+u+"` of type `"+d+"` supplied to `"+o+"`, expected an Immutable.js Record.")}for(var p in e){var v=e[p];if(v){var y=f.toObject(),_=v.apply(void 0,[y,p,o,i,u+"."+p].concat(c));if(_)return _}}})},shape:d,contains:d,mapContains:function(e){return f(e,"Map",r.Map.isMap)},list:s("List",r.List.isList),map:s("Map",r.Map.isMap),orderedMap:s("OrderedMap",r.OrderedMap.isOrderedMap),set:s("Set",r.Set.isSet),orderedSet:s("OrderedSet",r.OrderedSet.isOrderedSet),stack:s("Stack",r.Stack.isStack),seq:s("Seq",r.Seq.isSeq),record:s("Record",function(e){return e instanceof r.Record}),iterable:s("Iterable",r.Iterable.isIterable)};function a(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof r.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function u(e){function t(t,n,r,i,a,u){for(var s=arguments.length,c=Array(s>6?s-6:0),l=6;l<s;l++)c[l-6]=arguments[l];return u=u||r,i=i||o,null!=n[r]?e.apply(void 0,[n,r,i,a,u].concat(c)):t?new Error("Required "+a+" `"+u+"` was not specified in `"+i+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function s(e,t){return u(function(n,r,o,i,u){var s=n[r];if(!t(s)){var c=a(s);return new Error("Invalid "+i+" `"+u+"` of type `"+c+"` supplied to `"+o+"`, expected `"+e+"`.")}return null})}function c(e,t,n){return u(function(r,o,i,u,s){for(var c=arguments.length,l=Array(c>5?c-5:0),f=5;f<c;f++)l[f-5]=arguments[f];var d=r[o];if(!n(d)){var h=u,p=a(d);return new Error("Invalid "+h+" `"+s+"` of type `"+p+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+s+"`, expected a function.");for(var v=d.toArray(),y=0,_=v.length;y<_;y++){var m=e.apply(void 0,[v,y,i,u,s+"["+y+"]"].concat(l));if(m instanceof Error)return m}})}function l(e,t,n,r){return u(function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return c(e,n,r).apply(void 0,i)||t&&function(e){return u(function(t,n,r,o,i){for(var a=arguments.length,u=Array(a>5?a-5:0),s=5;s<a;s++)u[s-5]=arguments[s];var c=t[n];if("function"!=typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+r+"` for propType `"+i+"`, expected a function.");for(var l=c.keySeq().toArray(),f=0,d=l.length;f<d;f++){var h=e.apply(void 0,[l,f,r,o,i+" -> key("+l[f]+")"].concat(u));if(h instanceof Error)return h}})}(t).apply(void 0,i)})}function f(e){var t=void 0===arguments[1]?"Iterable":arguments[1],n=void 0===arguments[2]?r.Iterable.isIterable:arguments[2];return u(function(r,o,i,u,s){for(var c=arguments.length,l=Array(c>5?c-5:0),f=5;f<c;f++)l[f-5]=arguments[f];var d=r[o];if(!n(d)){var h=a(d);return new Error("Invalid "+u+" `"+s+"` of type `"+h+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}var p=d.toObject();for(var v in e){var y=e[v];if(y){var _=y.apply(void 0,[p,v,i,u,s+"."+v].concat(l));if(_)return _}}})}function d(e){return f(e)}e.exports=i},function(e,t,n){var r=n(23),o=n(106),i=n(107),a="[object Null]",u="[object Undefined]",s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?u:a:s&&s in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(15),o=n(116),i=n(117),a=n(141);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(12).Symbol;e.exports=r},function(e,t,n){var r=n(44),o=n(71);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var u=-1,s=t.length;++u<s;){var c=t[u],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?o(n,c,l):r(n,c,l)}return n}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),i=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,u=0,s=[],c=n(94);function l(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(y(o.parts[a],t))}else{var u=[];for(a=0;a<o.parts.length;a++)u.push(y(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:u}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],u={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}function d(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=s[s.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),s.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(e.insertAt.before,n);n.insertBefore(t,o)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=s.indexOf(e);t>=0&&s.splice(t,1)}function p(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return v(t,e.attrs),d(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var s=u++;n=a||(a=p(t)),r=m.bind(null,n,s,!1),o=m.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return l(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i];(u=r[a.id]).refs--,o.push(u)}e&&l(f(e,t),t);for(i=0;i<o.length;i++){var u;if(0===(u=o[i]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete r[u.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function m(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}void 0!==e&&e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(20),o=n(17),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t,n){var r=n(18)(Object,"create");e.exports=r},function(e,t,n){var r=n(131),o=n(132),i=n(133),a=n(134),u=n(135);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(39);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(137);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(30),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function u(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return s(e,t)}),o=function(e){return r.some(function(t){return c(t,e)})};return null==n?o:o(n)}function s(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var u in r)o[r[u]]=!1;var s=!0,c=!1,d=void 0;try{for(var h,p=i[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value,y=v.endsWith("?");y&&(v=v.slice(0,-1));var _=f(v),m=r[_];1!==a&&m||(n?o.key=_:o.which=l(v)),m&&(o[m]=!y||null)}}catch(e){c=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw d}}return o}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function l(e){return e=f(e),i[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=o[e]||e}t.default=u,t.isHotkey=u,t.isCodeHotkey=function(e,t){return u(e,t)},t.isKeyHotkey=function(e,t){return u(e,{byKey:!0},t)},t.parseHotkey=s,t.compareHotkey=c,t.toKeyCode=l,t.toKeyName=f},function(e,t){e.exports=BotpressUI},function(e,t,n){var r=n(99);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(27)(r,o);r.locals&&(e.exports=r.locals)},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(63),o=n(41);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=BlueprintJsSelect},function(e,t,n){var r=n(18)(n(12),"Map");e.exports=r},function(e,t,n){var r=n(71),o=n(39),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(147),o=n(17),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(74),o=n(171),i=n(40);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(64),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=u}).call(this,n(22)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(179),o=n(78),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=u},function(e,t,n){var r=n(76)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(182),o=n(43),i=n(183),a=n(184),u=n(185),s=n(20),c=n(69),l=c(r),f=c(o),d=c(i),h=c(a),p=c(u),v=s;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var r=n(188);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=function(e,t){if(!e)throw new Error("Invariant failed: "+(t||""))},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},c=0;t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c++,n=e.placeholder,r=e.when,l=e.style,f=void 0===l?{}:l;return i("string"==typeof n,"You must pass `SlateReactPlaceholder` an `options.placeholder` string."),i("string"==typeof r||"function"==typeof r,"You must pass `SlateReactPlaceholder` an `options.when` query."),{decorateNode:function(e,n,o){if(!n.query(r,e))return o();var i=o(),a=e.texts(),c=u(a,1)[0],l=e.texts({direction:"backward"}),f=u(l,1)[0],d=u(c,2),h=d[0],p=d[1],v=u(f,2),y=v[0],_=v[1],m={type:"placeholder",data:{key:t},anchor:{key:h.key,offset:0,path:p},focus:{key:y.key,offset:y.text.length,path:_}};return[].concat(s(i),[m])},renderDecoration:function(e,r,i){var u=e.children,s=e.decoration;if("placeholder"===s.type&&s.data.get("key")===t){var c=a({pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333",verticalAlign:"text-top"},f);return o.a.createElement("span",null,o.a.createElement("span",{contentEditable:!1,style:c},n),u)}return i()}}}},function(e,t,n){(function(e,r){var o;/*! https://mths.be/esrever v0.2.0 by @mathias */!function(i){var a="object"==typeof t&&t,u=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);u.global!==u&&u.window;var s=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,l=function(e){for(var t="",n=(e=e.replace(s,function(e,t,n){return l(n)+t}).replace(c,"$2$1")).length;n--;)t+=e.charAt(n);return t},f={version:"0.2.0",reverse:l};void 0===(o=function(){return f}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(22)(e),n(25))},function(e,t,n){var r=n(70),o=n(158),i=n(199),a=n(21),u=n(24),s=n(203),c=n(73),l=n(81),f=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=a(t,e),c||(c=t.length>1),t}),u(e,l(e),n),c&&(n=o(n,7,s));for(var f=t.length;f--;)i(n,t[f]);return n});e.exports=f},function(e,t,n){"use strict";t.atob=self.atob.bind(self),t.btoa=self.btoa.bind(self)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeApi=function(e){return{fetchContexts:function(){return e.axios.get("/mod/nlu/contexts").then(function(e){return e.data})},fetchIntents:function(){return r(void 0,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,e.axios.get("/mod/nlu/intents")];case 1:return[2,t.sent().data.filter(function(e){return!e.name.startsWith("__qna__")})]}})})},fetchIntent:function(t){return e.axios.get("/mod/nlu/intents/"+t).then(function(e){return e.data})},createIntent:function(t){return e.axios.post("/mod/nlu/intents",t)},updateIntent:function(t,n){return e.axios.post("/mod/nlu/intents/"+t,n)},deleteIntent:function(t){return e.axios.post("/mod/nlu/intents/"+t+"/delete")},syncIntentTopics:function(t){return e.axios.post("/mod/nlu/sync/intents/topics",{intentNames:t})},fetchEntities:function(){return e.axios.get("/mod/nlu/entities").then(function(e){return e.data})},fetchEntity:function(t){return e.axios.get("/mod/nlu/entities/"+t).then(function(e){return e.data})},createEntity:function(t){return e.axios.post("/mod/nlu/entities/",t)},updateEntity:function(t,n){return e.axios.post("/mod/nlu/entities/"+t,n)},deleteEntity:function(t){return e.axios.post("/mod/nlu/entities/"+t+"/delete")},isAutoTrainOn:function(){return e.axios.get("/mod/nlu/autoTrain").then(function(e){return e.data.isOn})},setAutoTrain:function(t){return e.axios.post("/mod/nlu/autoTrain",{autoTrain:t})},isTraining:function(){return e.axios.get("/mod/nlu/train").then(function(e){return e.data.isTraining})},train:function(){return e.axios.post("/mod/nlu/train")},cancelTraining:function(){return e.axios.post("/mod/nlu/train/delete")}}}},function(e,t,n){var r=n(93);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(27)(r,o);r.locals&&(e.exports=r.locals)},function(e,t){e.exports=BotpressUtils},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(28)),s=a(n(1)),c=i(n(222)),l=i(n(11)),f=n(66),d=n(206),h=i(n(207)),p=n(208);t.IntentEditor=function(e){var t,n=s.useState(),i=n[0],a=n[1];if(s.useEffect(function(){e.api.fetchIntent(e.intent).then(a)},[e.intent]),!i)return null;var v=function(t){a(t),e.api.createIntent(t)},y=i&&i.utterances[e.contentLang]||[];return s.default.createElement("div",{className:u.default(l.default.intentEditor,(t={},t[l.default.liteIntentEditor]=e.liteEditor,t))},s.default.createElement("div",null,s.default.createElement("div",{className:l.default.header},!e.liteEditor&&s.default.createElement(d.ContextSelector,{contexts:i.contexts,saveContexts:function(e){return v(r(r({},i),{contexts:e}))},api:e.api}),s.default.createElement(h.default,{intent:i,liteEditor:e.liteEditor,contentLang:e.contentLang,axios:e.axios})),s.default.createElement(p.UtterancesEditor,{intentName:i.name,utterances:y,onChange:function(t){var n,o=r(r({},i),{utterances:r(r({},i.utterances),(n={},n[e.contentLang]=t,n))});v(o)},slots:i.slots})),e.showSlotPanel&&s.default.createElement(c.default,{slots:i.slots,api:e.api,axios:e.axios,onSlotsChanged:function(t,n){var a,u=n.operation,s=n.name,c=n.oldName,l=o(i.utterances[e.contentLang]);"deleted"===u?l=f.removeSlotFromUtterances(l,s):"modified"===u&&(l=f.renameSlotInUtterances(l,c,s));var d=r(r({},i),{utterances:r(r({},i.utterances),(a={},a[e.contentLang]=l,a)),slots:t});v(d)}}))}},function(e,t,n){var r=n(20),o=n(13),i="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",s="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==u||t==i||t==s}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(25))},function(e,t,n){var r=n(13),o=n(30),i=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):u.test(e)?i:+e}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(16)),a=n(3),u=n(205);t.SLOT_MARK="slotName";var s=function(e,t,n){return void 0===n&&(n=void 0),{object:"text",text:e.slice(t,n),marks:[]}};t.textNodesFromUtterance=function(e,n){void 0===n&&(n=0);var o=u.parseUtterance(e),a=o.utterance,c=o.parsedSlots;return i.default.chain(c).flatMap(function(e,r,o){var u=i.default.get(o,r-1+".cleanPosition.end",0),c=e.cleanPosition.start;return[s(a,u,c),function(e,n){return{object:"text",text:e.value,marks:[t.makeSlotMark(e.name,n)]}}(e,n)]}).thru(function(e){var t=i.default.get(i.default.last(c),"cleanPosition.end",0);return r(e,[s(a,t)])}).filter(function(e){return e.text}).value()},t.utterancesToValue=function(e,n){void 0===n&&(n=void 0);var o=e[0]||"",i=e.length>1?e.slice(1):[""],u={object:"value",document:{object:"document",nodes:r([{object:"block",type:"title",data:{},nodes:t.textNodesFromUtterance(o,0)}],i.map(function(e,n){return{object:"block",type:"paragraph",data:{},nodes:t.textNodesFromUtterance(e,n+1)}}))}};return n&&(u.selection=n),a.Value.fromJS(u)},t.valueToUtterances=function(e){return e.getIn(["document","nodes"]).map(function(e){return e.nodes.reduce(function(n,r,o){var i=r.get("text");return r.marks.size>0?n+"["+i+"]("+r.marks.first().data.get(t.SLOT_MARK)+")":(o+1>=e.nodes.size&&(i=i.trimEnd()),""+n+i)},"")}).filter(i.default.identity).toJS()},t.removeSlotFromUtterances=function(e,t){var n=new RegExp("\\[([^\\[\\]\\(\\)]+?)\\]\\("+t+"\\)","gi");return e.map(function(e){return e.replace(n,"$1")})},t.renameSlotInUtterances=function(e,t,n){var r=new RegExp("\\[([^\\(\\)\\[\\]]+?)\\]\\("+t+"\\)","gi");return e.map(function(e){return e.replace(r,"[$1]("+n+")")})},t.makeSlotMark=function(e,n){var r;return{object:"mark",type:"slot",data:(r={},r[t.SLOT_MARK]=e,r.utteranceIdx=n,r)}}},function(e,t,n){var r=n(21),o=n(35);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(120),o=n(136),i=n(138),a=n(139),u=n(140);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(72);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(18),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(148),o=n(151),i=n(153);e.exports=function(e){return i(o(e,void 0,r),e+"")}},function(e,t,n){var r=n(167),o=n(45),i=n(15),a=n(75),u=n(29),s=n(169),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&s(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var y in e)!t&&!c.call(e,y)||h&&("length"==y||f&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||p.push(y);return p}},function(e,t,n){(function(e){var r=n(12),o=n(168),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;e.exports=s}).call(this,n(22)(e))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(74),o=n(174),i=n(40);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(46),o=n(52),i=n(51),a=n(78),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=u},function(e,t,n){var r=n(46),o=n(15);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t,n){var r=n(80),o=n(79),i=n(77);e.exports=function(e){return r(e,i,o)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=n(6),s=i(n(1)),c=function(e){return e.replace(/\s|\t|\n/g,"-").toLowerCase().replace(/[^a-z0-9-_.]/g,"")};t.default=function(e){var t=s.useState(""),n=t[0],i=t[1];s.useEffect(function(){e.originalName?i(e.originalName):i("")},[e.isOpen]);var l=function(t){return r(void 0,void 0,void 0,function(){return o(this,function(r){return t.preventDefault(),e.onSubmit(c(n),n),f(),[2]})})},f=function(){i(""),e.toggle()},d=!!(e.intents||[]).find(function(e){return e.name===c(n)});return s.default.createElement(a.Dialog,{isOpen:e.isOpen,onClose:f,transitionDuration:0,icon:"add",title:s.default.createElement("span",{style:{textTransform:"capitalize"}},e.title)},s.default.createElement("form",{onSubmit:l},s.default.createElement("div",{className:a.Classes.DIALOG_BODY},s.default.createElement(a.FormGroup,{label:u.lang.tr("name")},s.default.createElement(a.InputGroup,{id:"input-intent-name",tabIndex:1,placeholder:u.lang.tr("module.nlu.intents.namePlaceholder"),required:!0,value:n,onChange:function(e){return i(e.currentTarget.value)},autoFocus:!0})),d&&s.default.createElement(a.Callout,{intent:a.Intent.WARNING},u.lang.tr("module.nlu.intents.nameDupe"))),s.default.createElement("div",{className:a.Classes.DIALOG_FOOTER},s.default.createElement("div",{className:a.Classes.DIALOG_FOOTER_ACTIONS},s.default.createElement(a.Button,{type:"submit",id:"btn-submit",text:"Submit",intent:a.Intent.PRIMARY,onClick:l,disabled:!n||d})))))}},function(e,t,n){var r=n(218);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(27)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(104),o=n(105),i=n(108),a=parseFloat,u=Math.min,s=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&o(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=i(e),void 0===t?(t=e,e=0):t=i(t)),e>t){var c=e;e=t,t=c}if(n||e%1||t%1){var l=s();return u(e+l*(t-e+a("1e-"+((l+"").length-1))),t)}return r(e,t)}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=n(42),s=n(6),c=o(n(1)),l=i(n(11));t.EntitySelector=function(e){var t=c.useState([]),n=t[0],o=t[1];c.useEffect(function(){e.api.fetchEntities().then(o)},[]);var i=function(t,n){e.onChange(r(e.entities.slice(0,n),e.entities.slice(n+1)))};return c.default.createElement(u.MultiSelect,{resetOnSelect:!0,placeholder:s.lang.tr("module.nlu.entities.selectPlaceholder"),items:n,itemRenderer:function(t,n){var r=n.handleClick,o=n.modifiers;return c.default.createElement(a.MenuItem,{text:t.type+"."+t.name,key:""+t.name+t.type,onClick:r,active:o.active,icon:e.entities.find(function(e){return e===t.name})?"tick":"blank"})},itemPredicate:function(e,t){return!e||t.type.includes(e)||t.name.includes(e)},tagRenderer:function(e){return e},onItemSelect:function(t){var n=e.entities.indexOf(t.name);-1!==n?i(0,n):function(t){e.onChange(r(e.entities,[t.name]))}(t)},tagInputProps:{tagProps:{minimal:!0},onRemove:i,leftIcon:"caret-down"},popoverProps:{usePortal:!1,minimal:!0,position:a.Position.BOTTOM_LEFT,boundary:"window",targetClassName:l.default.entitySelect,popoverClassName:l.default.entitySelectPopover},selectedItems:e.entities})}},function(e,t,n){var r=self.crypto||self.msCrypto;e.exports=function(e){e=e||21;for(var t="",n=r.getRandomValues(new Uint8Array(e));0<e--;)t+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[e]];return t}},function(e,t,n){"use strict";var r,o;r=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*[A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿]"),o=new RegExp("^[^A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]"),e.exports=function(e){return e=e.toString(),o.test(e)?"rtl":r.test(e)?"ltr":"neutral"}},function(e,t){e.exports=function(e){var t=e.anchorNode,n=e.anchorOffset,r=e.focusNode,o=e.focusOffset,i=t.compareDocumentPosition(r);return!(4===i||0===i&&n<o)}},function(e,t,n){var r=n(213),o=n(13),i="Expected a function";e.exports=function(e,t,n){var a=!0,u=!0;if("function"!=typeof e)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,u="trailing"in n?!!n.trailing:u),r(e,t,{leading:a,maxWait:t,trailing:u})}},function(e,t,n){e.exports=n(91)},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=n(6),s=n(37),c=o(n(16)),l=i(n(1)),f=n(59),d=o(n(92)),h=o(n(97)),p=n(102),v=n(62),y=n(217),_=o(n(83));t.default=function(e){var t=f.makeApi(e.bp),n=l.useState(),o=n[0],i=n[1],m=l.useState([]),g=m[0],b=m[1],k=l.useState([]),w=k[0],x=k[1],O=function(){return t.fetchIntents().then(b).then(function(e){return i(void 0)}).then(function(e){return i(o)})},E=function(){return t.fetchEntities().then(x)};l.useEffect(function(){0===g.length&&O(),0===w.length&&E(),A()},[window.location.href]);var S=function(e){i(e);var t=new URL(window.location.href);e&&(t.searchParams.set("type",e.type),t.searchParams.set("id",e.name)),window.history.pushState(window.history.state,"",t.toString())},A=function(){var e=function(){var e=new URL(window.location.href),t=e.searchParams.get("type"),n=e.searchParams.get("id");if(t&&n)return{type:t,name:n}}();T(e,o)||i(e)},T=function(e,t){return e===t||e&&t&&e.name===t.name&&e.type===t.type},N=l.default.createElement(y.IntentSidePanelSection,{api:t,contentLang:e.contentLang,intents:g,currentItem:o,setCurrentItem:S,reloadIntents:O}),j=w.filter(function(e){return"system"!==e.type}),C=l.default.createElement(p.EntitySidePanelSection,{api:t,entities:j,currentItem:o,setCurrentItem:S,reloadEntities:E,reloadIntents:O});return l.default.createElement(s.Container,null,l.default.createElement(s.SidePanel,null,l.default.createElement(a.Tabs,{id:"nlu-tabs",className:_.default.headerTabs,defaultSelectedTabId:"intents",large:!1},l.default.createElement(a.Tab,{id:"intents",panel:N},l.default.createElement("span",null,u.lang.tr("module.nlu.intents.title")," "),l.default.createElement(a.Tag,{large:!1,round:!0,minimal:!0},g.length)),l.default.createElement(a.Tab,{id:"entities",panel:C},l.default.createElement("span",null,u.lang.tr("module.nlu.entities.title"))," ",l.default.createElement(a.Tag,{large:!1,round:!0,minimal:!0},j.length)))),l.default.createElement("div",{className:_.default.container},l.default.createElement("div",{className:_.default.trainingControlContainer},l.default.createElement(d.default,{api:t,eventBus:e.bp.events})),!(o&&("intent"===o.type?g.find(function(e){return e.name===o.name}):w.find(function(e){return e.name===o.name})))&&l.default.createElement(s.SplashScreen,{icon:l.default.createElement(a.Icon,{iconSize:80,icon:"translate",style:{marginBottom:"3em"}}),title:u.lang.tr("module.nlu.title"),description:u.lang.tr("module.nlu.description")}),!!g.length&&o&&"intent"===o.type&&l.default.createElement(v.IntentEditor,{intent:o.name,api:t,contentLang:e.contentLang,showSlotPanel:!0,axios:e.bp.axios}),o&&"entity"===o.type&&l.default.createElement(h.default,{entities:w,entity:w.find(function(e){return e.name===o.name}),updateEntity:c.default.debounce(function(e,n){t.updateEntity(e,n);var o=w.findIndex(function(e){return e.name===n.name});x(r(w.slice(0,o),[n],w.slice(o+1)))},2500)})))};var m=n(219);t.LiteEditor=m.LiteEditor},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(60)),a=r(n(95)),u=r(n(96));t.default=function(e){var t=e.api,n=e.eventBus;return o.default.createElement("div",{className:i.default.trainingControl},o.default.createElement(a.default,{api:t}),o.default.createElement(u.default,{api:t,eventBus:n}))}},function(e,t,n){(t=e.exports=n(26)(!1)).push([e.i,".nlu__style__trainingControl___2SmLy {\n  padding: 5px;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center; }\n\n.nlu__style__autoTrainToggle___3zWvS {\n  margin: 0;\n  margin-right: 20px; }\n",""]),t.locals={trainingControl:"nlu__style__trainingControl___2SmLy",autoTrainToggle:"nlu__style__autoTrainToggle___3zWvS"}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),s=n(6),c=i(n(1)),l=a(n(60));t.default=function(e){var t=e.api,n=c.useState(!1),i=n[0],a=n[1],f=c.useState(!0),d=f[0],h=f[1];c.useEffect(function(){r(void 0,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return h(!0),[4,t.isAutoTrainOn()];case 1:return e=n.sent(),a(e),h(!1),[2]}})})},[]);return c.default.createElement(u.Switch,{label:s.lang.tr("module.nlu.autoTrain"),checked:i,disabled:d,className:l.default.autoTrainToggle,onClick:function(){return r(void 0,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,t.setAutoTrain(!i)];case 1:return e.sent(),a(!i),[2]}})})}})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=n(6),s=i(n(1));t.default=function(e){var t=e.api,n=e.eventBus,i=s.useState(!0),c=i[0],l=i[1],f=s.useState(!1),d=f[0],h=f[1];s.useEffect(function(){r(void 0,void 0,void 0,function(){var e;return o(this,function(n){switch(n.label){case 0:return l(!0),[4,t.isTraining()];case 1:return e=n.sent(),h(e),l(!1),[2]}})})},[]),s.useEffect(function(){n.on("statusbar.event",function(e){"nlu"===e.type&&"Training complete"===e.message&&h(!1)})},[]);return s.default.createElement(a.Button,{loading:c,onClick:function(){return r(void 0,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return d?[4,t.cancelTraining()]:[3,2];case 1:return e.sent(),h(!1),[3,4];case 2:return h(!0),[4,t.train()];case 3:e.sent(),e.label=4;case 4:return[2]}})})}},d?u.lang.tr("module.nlu.cancelTraining"):u.lang.tr("module.nlu.trainNow"))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=o(n(1)),u=n(98),s=n(101);t.default=function(e){var t=e.entity;return t?a.default.createElement(a.Fragment,null,a.default.createElement(i.H1,null,t.name),"list"===t.type&&a.default.createElement(u.ListEntityEditor,r({},e)),"pattern"===t.type&&a.default.createElement(s.PatternEntityEditor,r({},e))):null}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),s=n(6),c=n(61),l=i(n(16)),f=a(n(1)),d=i(n(38)),h=n(100),p=1,v=.8,y=.65;function _(e,t){var n=t.type,o=t.data;if("setStateFromEntity"===n){var i=o.entity;return{fuzzy:i.fuzzy,occurrences:i.occurrences}}return"setFuzzy"===n?r(r({},e),{fuzzy:o.fuzzy}):"setOccurrences"===n?r(r({},e),{occurrences:o.occurrences}):e}t.ListEntityEditor=function(e){var t=f.default.useReducer(_,{fuzzy:e.entity.fuzzy,occurrences:e.entity.occurrences}),n=t[0],i=t[1],a=f.useState(""),m=a[0],g=a[1];f.useEffect(function(){i({type:"setStateFromEntity",data:{entity:e.entity}})},[e.entity.name]),f.useEffect(function(){var t=r(r({},e.entity),n);l.default.isEqual(t,e.entity)||e.updateEntity(b(t.name),t)},[n]);var b=function(e){return e.trim().toLowerCase().replace(/[\t\s]/g,"-")},k=function(){return 0===m.trim().length},w=function(t){return!e.entities.filter(function(e){return"list"===e.type}).some(function(e){return e.occurrences.some(function(e){var n=e.name,r=e.synonyms;return o([n],r).includes(t)})})},x=function(){if(!k()){if(!w(m))return c.toastFailure("Occurrences duplication is not allowed");i({type:"setOccurrences",data:{occurrences:o(n.occurrences,[{name:m,synonyms:[]}])}}),g("")}};return f.default.createElement("div",{className:d.default.entityEditorBody},f.default.createElement("div",{className:d.default.dataPane},f.default.createElement(u.FormGroup,{label:f.default.createElement("span",null,f.default.createElement(u.Tooltip,{content:s.lang.tr("module.nlu.entities.occurrenceTooltip"),position:u.Position.LEFT,popoverClassName:d.default.configPopover},f.default.createElement("span",null,s.lang.tr("module.nlu.entities.newOccurrence")," ",f.default.createElement(u.Icon,{icon:"help",color:u.Colors.GRAY3})))),labelFor:"occurrence"},f.default.createElement(u.InputGroup,{rightElement:f.default.createElement(u.Button,{icon:"add",minimal:!0,onClick:x,disabled:k()}),type:"text",id:"occurrence",placeholder:s.lang.tr("module.nlu.entities.occurrencePlaceholder"),value:m,onKeyDown:function(e){return 13===e.keyCode&&x()},onChange:function(e){return g(e.target.value)}})),n.occurrences.length>0&&f.default.createElement(u.FormGroup,{label:s.lang.tr("module.nlu.entities.occurrenceLabel")},f.default.createElement("div",{className:d.default.occurrencesList},n.occurrences.map(function(e,t){return f.default.createElement(h.Occurrence,{key:e.name,occurrence:e,remove:function(e){var t=o(n.occurrences.slice(0,e),n.occurrences.slice(e+1));i({type:"setOccurrences",data:{occurrences:t}})}.bind(null,t),onChange:function(e,t){var r=l.default.last(t.synonyms);if(!w(r))return c.toastFailure("Synonyms duplication is not allowed");var a=o(n.occurrences.slice(0,e),[t],n.occurrences.slice(e+1));i({type:"setOccurrences",data:{occurrences:a}})}.bind(null,t)})})))),f.default.createElement("div",{className:d.default.configPane},f.default.createElement(u.FormGroup,{label:f.default.createElement(u.Tooltip,{content:s.lang.tr("module.nlu.entities.fuzzyTooltip"),position:u.Position.LEFT,popoverClassName:d.default.configPopover},f.default.createElement("span",null,s.lang.tr("module.nlu.entities.fuzzyLabel")," ",f.default.createElement(u.Icon,{icon:"help",color:u.Colors.GRAY3})))}),f.default.createElement(u.RadioGroup,{onChange:function(e){i({type:"setFuzzy",data:{fuzzy:parseFloat(e.target.value)}})},selectedValue:n.fuzzy,inline:!0},f.default.createElement(u.Radio,{label:s.lang.tr("module.nlu.entities.strict"),value:p}),f.default.createElement(u.Radio,{label:s.lang.tr("module.nlu.entities.medium"),value:v}),f.default.createElement(u.Radio,{label:s.lang.tr("module.nlu.entities.loose"),value:y}))))}},function(e,t,n){(t=e.exports=n(26)(!1)).push([e.i,".nlu__style__entityEditorBody___3cfZT {\n  display: flex; }\n  .nlu__style__entityEditorBody___3cfZT > div {\n    padding: 10px; }\n  .nlu__style__entityEditorBody___3cfZT .nlu__style__dataPane___3wdOG {\n    flex-grow: 1; }\n  .nlu__style__entityEditorBody___3cfZT .nlu__style__regexInputDash___2cN4z {\n    height: 30px;\n    display: flex;\n    align-items: center;\n    color: #e1e8ed !important;\n    margin: 0;\n    padding: 0 10px; }\n  .nlu__style__entityEditorBody___3cfZT .nlu__style__configPane____vDIr {\n    width: 40%;\n    background-color: #fbfbfb; }\n\n.nlu__style__validationTag___1BZL_ {\n  float: right; }\n\n.nlu__style__configPopover___29v-o {\n  max-width: 250px; }\n\n.nlu__style__occurrence___128xe {\n  margin-bottom: 10px; }\n  .nlu__style__occurrence___128xe .nlu__style__occurrenceName___1LqYs {\n    display: flex;\n    align-items: center;\n    align-self: stretch;\n    margin-right: 5px; }\n\n.nlu__style__occurrencesList___xYR0O {\n  max-height: 70vh;\n  overflow-y: auto;\n  padding: 2px; }\n",""]),t.locals={entityEditorBody:"nlu__style__entityEditorBody___3cfZT",dataPane:"nlu__style__dataPane___3wdOG",regexInputDash:"nlu__style__regexInputDash___2cN4z",configPane:"nlu__style__configPane____vDIr",validationTag:"nlu__style__validationTag___1BZL_",configPopover:"nlu__style__configPopover___29v-o",occurrence:"nlu__style__occurrence___128xe",occurrenceName:"nlu__style__occurrenceName___1LqYs",occurrencesList:"nlu__style__occurrencesList___xYR0O"}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=n(6),u=o(n(1)),s=o(n(38));t.Occurrence=function(e){return u.default.createElement(i.TagInput,{className:s.default.occurrence,leftIcon:u.default.createElement("div",{className:s.default.occurrenceName},u.default.createElement(i.Tag,{minimal:!0,intent:i.Intent.PRIMARY},u.default.createElement("strong",null,e.occurrence.name))),placeholder:a.lang.tr("module.nlu.entities.synonymPlaceholder"),rightElement:u.default.createElement(i.Button,{icon:"delete",minimal:!0,onClick:e.remove}),onChange:function(t){return e.onChange(r(r({},e.occurrence),{synonyms:t}))},values:e.occurrence.synonyms,tagProps:{minimal:!0}})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=n(6),s=o(n(16)),c=i(n(1)),l=o(n(38));t.PatternEntityEditor=function(e){var t=c.useState(e.entity.matchCase),n=t[0],o=t[1],i=c.useState(e.entity.sensitive),f=i[0],d=i[1],h=c.useState(e.entity.pattern),p=h[0],v=h[1],y=c.useState(!0),_=y[0],m=y[1],g=c.useState((e.entity.examples||[]).join("\n")),b=g[0],k=g[1],w=c.useState(!0),x=w[0],O=w[1],E=s.default.debounce(function(){var e=p;e.startsWith("^")||(e="^"+e),e.endsWith("$")||(e+="$");var t=new RegExp(e,n?"":"i"),r=b.split("\n").filter(function(e){return""!==e}).map(function(e){return t.test(e)}).every(Boolean);O(r)},750),S=s.default.debounce(function(t){s.default.isEqual(e.entity,t)||e.updateEntity(function(e){return e.trim().toLowerCase().replace(/[\t\s]/g,"-")}(t.name),t)},100);return c.useEffect(function(){try{new RegExp(p),m(!0);var t=r(r({},e.entity),{pattern:p,sensitive:f,matchCase:n,examples:b.trim().split("\n")});E(),S(t)}catch(e){m(!1)}},[p,n,f,b]),c.default.createElement("div",{className:l.default.entityEditorBody},c.default.createElement("div",{className:l.default.dataPane},c.default.createElement(a.FormGroup,{label:u.lang.tr("module.nlu.entities.patternLabel"),labelFor:"pattern",labelInfo:_?null:c.default.createElement(a.Tag,{intent:"danger",minimal:!0,className:l.default.validationTag},u.lang.tr("module.nlu.entities.patternInvalid"))},c.default.createElement(a.InputGroup,{leftIcon:c.default.createElement(a.Icon,{iconSize:20,className:l.default.regexInputDash,icon:"slash"}),rightElement:c.default.createElement(a.Icon,{iconSize:20,className:l.default.regexInputDash,icon:"slash"}),type:"text",id:"pattern",placeholder:u.lang.tr("module.nlu.entities.patternPlaceholder"),value:p,intent:_?"none":"danger",onChange:function(e){return v(e.target.value)}})),c.default.createElement(a.FormGroup,{label:u.lang.tr("module.nlu.entities.examplesLabel"),labelFor:"examples",labelInfo:b&&_&&c.default.createElement(a.Tag,{intent:x?"success":"danger",minimal:!0,className:l.default.validationTag},x?u.lang.tr("module.nlu.entities.matchingSuccess"):u.lang.tr("module.nlu.entities.matchingError"))},c.default.createElement(a.TextArea,{id:"examples",fill:!0,rows:6,growVertically:!0,placeholder:u.lang.tr("module.nlu.entities.examplesPlaceholder"),value:b,intent:x?"none":"danger",onChange:function(e){return k(e.target.value)}}))),c.default.createElement("div",{className:l.default.configPane},c.default.createElement(a.Label,null,u.lang.tr("options")),c.default.createElement(a.Checkbox,{checked:n,onChange:function(e){return o(e.target.checked)}},c.default.createElement("span",null,u.lang.tr("module.nlu.entities.matchCaseLabel"))," ",c.default.createElement(a.Tooltip,{content:u.lang.tr("module.nlu.entities.matchCaseTooltip"),position:a.Position.RIGHT,popoverClassName:l.default.configPopover},c.default.createElement(a.Icon,{icon:"help",color:a.Colors.GRAY3}))),c.default.createElement(a.Checkbox,{checked:f,onChange:function(e){return d(e.target.checked)}},c.default.createElement("span",null,u.lang.tr("module.nlu.entities.sensitiveLabel"))," ",c.default.createElement(a.Tooltip,{content:u.lang.tr("module.nlu.entities.sensitiveTooltip"),position:a.Position.RIGHT,popoverClassName:l.default.configPopover},c.default.createElement(a.Icon,{icon:"help",color:a.Colors.GRAY3})))))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=n(6),s=n(37),c=i(n(1)),l=n(103);t.EntitySidePanelSection=function(e){var t=c.useState(""),n=t[0],i=t[1],f=c.useState(!1),d=f[0],h=f[1],p=c.useState(),v=p[0],y=p[1],_=c.useState("create"),m=_[0],g=_[1],b=e.entities.filter(function(e){return!n||e.name.includes(n)}).map(function(t){return{key:t.name,label:t.name,value:t.name,selected:e.currentItem&&e.currentItem.name===t.name,contextMenu:[{label:u.lang.tr("rename"),icon:"edit",onClick:function(){return function(e){y(e),g("rename"),h(!0)}(t)}},{label:u.lang.tr("duplicate"),icon:"duplicate",onClick:function(){return function(e){y(e),g("duplicate"),h(!0)}(t)}},{label:u.lang.tr("delete"),icon:"delete",onClick:function(){return function(t){return r(void 0,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,u.confirmDialog(u.lang.tr("module.nlu.entities.deleteMessage",{entityName:t.name}),{acceptLabel:u.lang.tr("delete")})];case 1:return n.sent()?(e.currentItem&&e.currentItem.name===t.name&&e.setCurrentItem(void 0),[4,e.api.deleteEntity(t.name)]):[3,5];case 2:return n.sent(),[4,e.reloadEntities()];case 3:return n.sent(),[4,e.reloadIntents()];case 4:n.sent(),n.label=5;case 5:return[2]}})})}(t)}}]}});return c.default.createElement("div",null,c.default.createElement(a.Button,{className:a.Classes.MINIMAL,icon:"new-object",text:u.lang.tr("module.nlu.entities.new"),onClick:function(){g("create"),h(!0)}}),c.default.createElement(s.SearchBar,{id:"entities-filter",icon:"filter",placeholder:u.lang.tr("module.nlu.entities.filterPlaceholder"),onChange:i,showButton:!1}),c.default.createElement(s.ItemList,{items:b,onElementClicked:function(t){var n=t.value;return e.setCurrentItem({type:"entity",name:n})}}),c.default.createElement(l.EntityNameModal,{action:m,originalEntity:v,entityIDs:e.entities.map(function(e){return e.id}),api:e.api,onEntityModified:function(t){e.setCurrentItem({type:"entity",name:t.name}),e.reloadEntities()},isOpen:d,closeModal:function(){return h(!1)}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),c=n(6),l=a(n(16)),f=u(n(1)),d=[{label:c.lang.tr("list"),value:"list"},{label:c.lang.tr("pattern"),value:"pattern"}];t.EntityNameModal=function(e){var t=f.useState(""),n=t[0],a=t[1],u=f.useState(d[0].value),h=u[0],p=u[1],v=f.useState(),y=v[0],_=v[1];f.useEffect(function(){_(n.trim().length>0&&void 0!==h)},[n,h]),f.useEffect(function(){"rename"===e.action?a(e.originalEntity.name):a("")},[e.isOpen]);var m=function(){return o(void 0,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return t={id:b(n),name:n.trim(),type:h,occurrences:[]},[4,e.api.createEntity(t)];case 1:return r.sent(),e.onEntityModified(t),[2]}})})},g=function(){return o(void 0,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return(t=l.default.cloneDeep(e.originalEntity)).name=n.trim(),t.id=b(n),[4,e.api.updateEntity(b(e.originalEntity.name),t)];case 1:return r.sent(),e.onEntityModified(t),[2]}})})},b=function(e){return e.trim().toLowerCase().replace(/[\t\s]/g,"-")},k=function(){return o(void 0,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return(t=l.default.cloneDeep(e.originalEntity)).name=n.trim(),t.id=b(n),[4,e.api.createEntity(t)];case 1:return r.sent(),e.onEntityModified(t),[2]}})})},w="rename"===e.action&&e.originalEntity.name===n,x=!w&&l.default.some(e.entityIDs,function(e){return e===b(n)}),O={icon:"add",title:c.lang.tr("create")},E=c.lang.tr("create");return"duplicate"===e.action?(O={icon:"duplicate",title:c.lang.tr("module.nlu.entities.duplicate")},E=c.lang.tr("duplicate")):"rename"===e.action&&(O={icon:"edit",title:c.lang.tr("module.nlu.entities.rename")},E=c.lang.tr("rename")),f.default.createElement(s.Dialog,r({isOpen:e.isOpen,onClose:e.closeModal,transitionDuration:0},O),f.default.createElement("form",{onSubmit:function(t){return o(void 0,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return t.preventDefault(),"create"!==e.action?[3,2]:[4,m()];case 1:return n.sent(),[3,6];case 2:return"duplicate"!==e.action?[3,4]:[4,k()];case 3:return n.sent(),[3,6];case 4:return"rename"!==e.action?[3,6]:[4,g()];case 5:n.sent(),n.label=6;case 6:return e.closeModal(),[2]}})})}},f.default.createElement("div",{className:s.Classes.DIALOG_BODY},f.default.createElement(s.FormGroup,{label:c.lang.tr("name")},f.default.createElement("input",{required:!0,name:"name",type:"text",tabIndex:1,className:s.Classes.INPUT+" "+s.Classes.FILL,dir:"auto",placeholder:c.lang.tr("module.nlu.entities.namePlaceholder"),value:n,onChange:function(e){return a(e.target.value)},autoFocus:!0})),"create"===e.action&&f.default.createElement(s.FormGroup,{label:"Type"},f.default.createElement(s.HTMLSelect,{tabIndex:2,fill:!0,options:d,onChange:function(e){return p(e.target.value)},value:h})),x&&f.default.createElement(s.Callout,{title:c.lang.tr("module.nlu.entities.nameConflictTitle"),intent:s.Intent.DANGER},c.lang.tr("module.nlu.entities.nameConflictMessage"))),f.default.createElement("div",{className:s.Classes.DIALOG_FOOTER},f.default.createElement("div",{className:s.Classes.DIALOG_FOOTER_ACTIONS},f.default.createElement(s.Button,{id:"entity-submit",type:"submit",tabIndex:3,intent:s.Intent.PRIMARY,text:E,disabled:!y||w||x})))))}},function(e,t){var n=Math.floor,r=Math.random;e.exports=function(e,t){return e+n(r()*(t-e+1))}},function(e,t,n){var r=n(39),o=n(40),i=n(29),a=n(13);e.exports=function(e,t,n){if(!a(n))return!1;var u=typeof t;return!!("number"==u?o(n)&&i(t,n.length):"string"==u&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(23),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[u]=n:delete e[u]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(65),o=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},function(e,t,n){(t=e.exports=n(26)(!1)).push([e.i,".nlu__style__ctxSelect___3PY-W > :first-child {\n  min-width: 250px;\n  max-width: 350px; }\n\n.nlu__style__intentEditor___d_-ND {\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 1;\n  min-height: 1px; }\n  .nlu__style__intentEditor___d_-ND > div:first-child {\n    overflow: auto;\n    flex-grow: 1; }\n  .nlu__style__intentEditor___d_-ND:not(.nlu__style__liteIntentEditor___16zKT) > div:first-child {\n    padding: 10px; }\n\n.nlu__style__header___1y3Qd {\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0; }\n  .nlu__style__header___1y3Qd .nlu__style__hint___Iomzn {\n    color: #738694; }\n    .nlu__style__header___1y3Qd .nlu__style__hint___Iomzn:not(.nlu__style__lightEditorHint___2SS9y) {\n      max-width: 50%; }\n\n.nlu__style__editor-body___2wAEk {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: stretch; }\n\n.nlu__style__utterances___2eDt0 {\n  flex: 1;\n  min-width: 300px; }\n\n.nlu__style__entities-list___2fRMR {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start; }\n\np.nlu__style__utterance___XYfdF {\n  margin: 0;\n  font-size: 16px;\n  line-height: 25px;\n  z-index: 0;\n  display: flex; }\n  p.nlu__style__utterance___XYfdF.nlu__style__title___2kQkA {\n    font-weight: bold;\n    line-height: 40px;\n    font-size: 25px; }\n  p.nlu__style__utterance___XYfdF.nlu__style__active___1dnMg {\n    background-color: #f6f6f6; }\n  p.nlu__style__utterance___XYfdF.nlu__style__wrong___22Xmt {\n    color: red; }\n  p.nlu__style__utterance___XYfdF .nlu__style__index___1GADK {\n    width: 20px;\n    margin-right: 5px;\n    opacity: 0.5;\n    text-align: center; }\n    p.nlu__style__utterance___XYfdF .nlu__style__index___1GADK.nlu__style__count___1XwKB {\n      width: inherit;\n      background: lightgrey;\n      padding: 0 5px;\n      border-radius: 5px; }\n\n.nlu__style__slotMenu___2QCk2 {\n  position: absolute;\n  display: block;\n  z-index: 1000;\n  background-color: #fefefe;\n  padding: 10px;\n  border: solid 1px #ccc;\n  border-radius: 5px;\n  box-shadow: 0px 3px 8px -2px rgba(0, 0, 0, 0.2); }\n  .nlu__style__slotMenu___2QCk2 p:first-child {\n    font-weight: bold; }\n\n.nlu__style__slotMenuItem___n3doG {\n  margin: 0 5px 5px 0; }\n\n.nlu__style__slotMark___BtQCK {\n  cursor: pointer; }\n  .nlu__style__slotMark___BtQCK:hover {\n    font-weight: bold; }\n\n/* ---------- */\n/* SLOTS COLORING*/\n/* ---------- */\n.nlu__style__label-colors-0___1y_ZP {\n  background-color: #6e60a0;\n  color: white; }\n  .nlu__style__label-colors-0___1y_ZP:hover {\n    background-color: #686181; }\n\n.nlu__style__label-colors-1___2S0zr {\n  background-color: #6699cc;\n  color: white; }\n  .nlu__style__label-colors-1___2S0zr:hover {\n    background-color: #4080bf; }\n\n.nlu__style__label-colors-2___17-TU {\n  background-color: #a23e48;\n  color: white; }\n  .nlu__style__label-colors-2___17-TU:hover {\n    background-color: #7d3038; }\n\n.nlu__style__label-colors-3___1xu8g {\n  background-color: #fff275;\n  color: black; }\n  .nlu__style__label-colors-3___1xu8g:hover {\n    background-color: #ffed42; }\n\n.nlu__style__label-colors-4___2GgoB {\n  background-color: teal;\n  color: white; }\n  .nlu__style__label-colors-4___2GgoB:hover {\n    background-color: #009d9d; }\n\n.nlu__style__label-colors-5___1W_al {\n  background-color: #ff8c42;\n  color: white; }\n  .nlu__style__label-colors-5___1W_al:hover {\n    background-color: #ff6d0f; }\n\n.nlu__style__label-colors-6___2tosu {\n  background-color: #b9617e;\n  color: white; }\n  .nlu__style__label-colors-6___2tosu:hover {\n    background-color: #aa5773; }\n\n.nlu__style__label-colors-7___2eaTq {\n  background-color: #d3a248;\n  color: white; }\n  .nlu__style__label-colors-7___2eaTq:hover {\n    background-color: #a87e2f; }\n\n.nlu__style__label-colors-8___1AA7q {\n  background-color: #86bbd8;\n  color: black; }\n  .nlu__style__label-colors-8___1AA7q:hover {\n    background-color: #5fa5cc; }\n\n/* ---------- */\n/* SLOTS COLORING*/\n/* ---------- */\n.nlu__style__slotSidePanel___3fS8u {\n  max-width: 300px;\n  border-left: solid 1px #eee;\n  flex-grow: 0.2;\n  overflow: auto; }\n\n.nlu__style__centerContainer___S57wz {\n  position: relative;\n  height: calc(100vh - 200px);\n  width: 100%; }\n\n.nlu__style__link___1FcRj {\n  cursor: pointer; }\n\n.nlu__style__centerElement___1I-w8 {\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 70%;\n  max-width: 400px;\n  transform: translate(-50%, -50%); }\n  .nlu__style__centerElement___1I-w8 button {\n    margin-top: 20px; }\n\nh1 .nlu__style__selectionText___13mW2,\nh2 .nlu__style__selectionText___13mW2,\nh3 .nlu__style__selectionText___13mW2,\nh4 .nlu__style__selectionText___13mW2 {\n  color: blue;\n  font-style: italic; }\n\n.nlu__style__buttonTip___35euS {\n  text-align: center;\n  margin-top: 7px;\n  font-size: 80%;\n  color: #888; }\n\n.nlu__style__entityNameInput___14Q5N {\n  height: 36px;\n  padding: 7px;\n  font-size: 16px;\n  width: 100%; }\n\n.nlu__style__slotsContainer___3Qz_b {\n  width: 100%;\n  padding: 10px;\n  margin-top: 20px; }\n  .nlu__style__slotsContainer___3Qz_b ul {\n    list-style: none;\n    padding: 0; }\n  .nlu__style__slotsContainer___3Qz_b li {\n    padding: 5px; }\n  .nlu__style__slotsContainer___3Qz_b h3 > button {\n    float: right; }\n\n.nlu__style__entityLabel___20YkC {\n  height: 40px;\n  cursor: pointer;\n  padding: 10px;\n  font-size: 16px;\n  border-radius: 2px; }\n\n.nlu__style__shortcutLabel___27Ipp {\n  height: 40px;\n  padding: 10px;\n  font-size: 12px;\n  color: white;\n  border-left: 4px solid white; }\n  .nlu__style__shortcutLabel___27Ipp.nlu__style__active___1dnMg {\n    border-left: 4px solid black;\n    color: black; }\n\n.nlu__style__entityItem___1ZQuW a {\n  display: none;\n  margin-left: 10px;\n  color: #888;\n  text-decoration: underline; }\n\n.nlu__style__entityItem___1ZQuW:hover {\n  background: #eee; }\n  .nlu__style__entityItem___1ZQuW:hover a {\n    display: initial; }\n\n.nlu__style__entitySelect___EFSaU {\n  width: 100%; }\n\n.nlu__style__entitySelectPopover___DXhEg {\n  max-height: 250px;\n  overflow: scroll; }\n",""]),t.locals={ctxSelect:"nlu__style__ctxSelect___3PY-W",intentEditor:"nlu__style__intentEditor___d_-ND",liteIntentEditor:"nlu__style__liteIntentEditor___16zKT",header:"nlu__style__header___1y3Qd",hint:"nlu__style__hint___Iomzn",lightEditorHint:"nlu__style__lightEditorHint___2SS9y","editor-body":"nlu__style__editor-body___2wAEk",utterances:"nlu__style__utterances___2eDt0","entities-list":"nlu__style__entities-list___2fRMR",utterance:"nlu__style__utterance___XYfdF",title:"nlu__style__title___2kQkA",active:"nlu__style__active___1dnMg",wrong:"nlu__style__wrong___22Xmt",index:"nlu__style__index___1GADK",count:"nlu__style__count___1XwKB",slotMenu:"nlu__style__slotMenu___2QCk2",slotMenuItem:"nlu__style__slotMenuItem___n3doG",slotMark:"nlu__style__slotMark___BtQCK","label-colors-0":"nlu__style__label-colors-0___1y_ZP","label-colors-1":"nlu__style__label-colors-1___2S0zr","label-colors-2":"nlu__style__label-colors-2___17-TU","label-colors-3":"nlu__style__label-colors-3___1xu8g","label-colors-4":"nlu__style__label-colors-4___2GgoB","label-colors-5":"nlu__style__label-colors-5___1W_al","label-colors-6":"nlu__style__label-colors-6___2tosu","label-colors-7":"nlu__style__label-colors-7___2eaTq","label-colors-8":"nlu__style__label-colors-8___1AA7q",slotSidePanel:"nlu__style__slotSidePanel___3fS8u",centerContainer:"nlu__style__centerContainer___S57wz",link:"nlu__style__link___1FcRj",centerElement:"nlu__style__centerElement___1I-w8",selectionText:"nlu__style__selectionText___13mW2",buttonTip:"nlu__style__buttonTip___35euS",entityNameInput:"nlu__style__entityNameInput___14Q5N",slotsContainer:"nlu__style__slotsContainer___3Qz_b",entityLabel:"nlu__style__entityLabel___20YkC",shortcutLabel:"nlu__style__shortcutLabel___27Ipp",entityItem:"nlu__style__entityItem___1ZQuW",entitySelect:"nlu__style__entitySelect___EFSaU",entitySelectPopover:"nlu__style__entitySelectPopover___DXhEg"}},function(e,t,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=a,u=Number(new Date),s=u-(n||u);i.diff=s,i.prev=n,i.curr=u,n=u,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;c++;var o=r.formatters[n];if("function"==typeof o){var a=t[c];e=o.call(i,a),t.splice(c,1),c--}return e}),r.formatArgs.call(i,t),(i.log||r.log).apply(i,t)}}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(113),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,u=365.25*i;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*u;case"weeks":case"week":case"w":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return s(e,t,i,"day");if(t>=o)return s(e,t,o,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(115),o=n(144);e.exports=function(e,t){return r(e,t,function(t,n){return o(e,n)})}},function(e,t,n){var r=n(67),o=n(143),i=n(21);e.exports=function(e,t,n){for(var a=-1,u=t.length,s={};++a<u;){var c=t[a],l=r(e,c);n(l,c)&&o(s,i(c,e),l)}return s}},function(e,t,n){var r=n(15),o=n(30),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(118)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=i},function(e,t,n){var r=n(119),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(68),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(121),o=n(32),i=n(43);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(122),o=n(127),i=n(128),a=n(129),u=n(130);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(31);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(63),o=n(124),i=n(13),a=n(69),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:u).test(a(e))}},function(e,t,n){var r=n(125),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(12)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(31),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(31),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(31),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(33),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(33);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(33);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(33);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(34);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(34);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(34);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(34);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(142);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(23),o=n(70),i=n(15),a=n(30),u=1/0,s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-u?"-0":n}},function(e,t,n){var r=n(44),o=n(21),i=n(29),a=n(13),u=n(35);e.exports=function(e,t,n,s){if(!a(e))return e;for(var c=-1,l=(t=o(t,e)).length,f=l-1,d=e;null!=d&&++c<l;){var h=u(t[c]),p=n;if(c!=f){var v=d[h];void 0===(p=s?s(v,h,d):void 0)&&(p=a(v)?v:i(t[c+1])?[]:{})}r(d,h,p),d=d[h]}return e}},function(e,t,n){var r=n(145),o=n(146);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(21),o=n(45),i=n(15),a=n(29),u=n(41),s=n(35);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=s(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&u(l)&&a(d,l)&&(i(e)||o(e))}},function(e,t,n){var r=n(20),o=n(17),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(149);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(46),o=n(150);e.exports=function e(t,n,i,a,u){var s=-1,c=t.length;for(i||(i=o),u||(u=[]);++s<c;){var l=t[s];n>0&&i(l)?n>1?e(l,n-1,i,a,u):r(u,l):a||(u[u.length]=l)}return u}},function(e,t,n){var r=n(23),o=n(45),i=n(15),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(152),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,u=o(i.length-t,0),s=Array(u);++a<u;)s[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(s),r(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(154),o=n(157)(r);e.exports=o},function(e,t,n){var r=n(155),o=n(72),i=n(156),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){e.exports=function(e){return e}},function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),u=r-(a-i);if(i=a,u>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(159),o=n(165),i=n(44),a=n(166),u=n(173),s=n(176),c=n(177),l=n(178),f=n(180),d=n(181),h=n(81),p=n(53),v=n(186),y=n(187),_=n(193),m=n(15),g=n(75),b=n(195),k=n(13),w=n(197),x=n(47),O=1,E=2,S=4,A="[object Arguments]",T="[object Function]",N="[object GeneratorFunction]",j="[object Object]",C={};C[A]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[j]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[T]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,P,I,B,F){var R,D=n&O,M=n&E,L=n&S;if(P&&(R=B?P(t,I,B,F):P(t)),void 0!==R)return R;if(!k(t))return t;var z=m(t);if(z){if(R=v(t),!D)return c(t,R)}else{var U=p(t),q=U==T||U==N;if(g(t))return s(t,D);if(U==j||U==A||q&&!B){if(R=M||q?{}:_(t),!D)return M?f(t,u(R,t)):l(t,a(R,t))}else{if(!C[U])return B?t:{};R=y(t,U,D)}}F||(F=new r);var K=F.get(t);if(K)return K;F.set(t,R),w(t)?t.forEach(function(r){R.add(e(r,n,P,r,t,F))}):b(t)&&t.forEach(function(r,o){R.set(o,e(r,n,P,o,t,F))});var W=L?M?h:d:M?keysIn:x,J=z?void 0:W(t);return o(J||t,function(r,o){J&&(r=t[o=r]),i(R,o,e(r,n,P,o,t,F))}),R}},function(e,t,n){var r=n(32),o=n(160),i=n(161),a=n(162),u=n(163),s=n(164);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(32);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(32),o=n(43),i=n(68),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var u=n.__data__;if(!o||u.length<a-1)return u.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(u)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(24),o=n(47);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(170),o=n(48),i=n(49),a=i&&i.isTypedArray,u=a?o(a):r;e.exports=u},function(e,t,n){var r=n(20),o=n(41),i=n(17),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(50),o=n(172),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(76)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(24),o=n(77);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(13),o=n(50),i=n(175),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var u in e)("constructor"!=u||!t&&a.call(e,u))&&n.push(u);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(12),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(22)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(24),o=n(51);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(24),o=n(79);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(80),o=n(51),i=n(47);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(18)(n(12),"DataView");e.exports=r},function(e,t,n){var r=n(18)(n(12),"Promise");e.exports=r},function(e,t,n){var r=n(18)(n(12),"Set");e.exports=r},function(e,t,n){var r=n(18)(n(12),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(54),o=n(189),i=n(190),a=n(191),u=n(192),s="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",d="[object RegExp]",h="[object Set]",p="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",m="[object Float32Array]",g="[object Float64Array]",b="[object Int8Array]",k="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",O="[object Uint8ClampedArray]",E="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(e,t,n){var A=e.constructor;switch(t){case y:return r(e);case s:case c:return new A(+e);case _:return o(e,n);case m:case g:case b:case k:case w:case x:case O:case E:case S:return u(e,n);case l:return new A;case f:case p:return new A(e);case d:return i(e);case h:return new A;case v:return a(e)}}},function(e,t,n){var r=n(12).Uint8Array;e.exports=r},function(e,t,n){var r=n(54);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(23),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(54);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(194),o=n(52),i=n(50);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(13),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(196),o=n(48),i=n(49),a=i&&i.isMap,u=a?o(a):r;e.exports=u},function(e,t,n){var r=n(53),o=n(17),i="[object Map]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(198),o=n(48),i=n(49),a=i&&i.isSet,u=a?o(a):r;e.exports=u},function(e,t,n){var r=n(53),o=n(17),i="[object Set]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(21),o=n(200),i=n(201),a=n(35);e.exports=function(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[a(o(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(67),o=n(202);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(204);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(20),o=n(52),i=n(17),a="[object Object]",u=Function.prototype,s=Object.prototype,c=u.toString,l=s.hasOwnProperty,f=c.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=/\[(.+?)\]\(([\w_\. :-]+)\)/gi;t.extractSlots=function(e){for(var t,n=[];null!==(t=o.exec(e));)n.push(t);return n},t.parseUtterance=function(e){var n=0,o=t.extractSlots(e).reduce(function(t,o){var i=o[0],a=o[1],u=o[2],s=o.index,c=e.slice(n,s),l="",f=a.length-a.trimLeft().length,d=a.length-a.trimRight().length;f&&(c+=" ".repeat(f),a=a.trimLeft()),d&&(l+=" ".repeat(d),a=a.trimRight());var h=t.utterance+c+a+l,p={name:u,value:a,rawPosition:{start:s,end:n=s+i.length},cleanPosition:{start:h.length-a.length-d-f,end:h.length-f-d}};return{utterance:h,parsedSlots:r(t.parsedSlots,[p]),parts:r(t.parts,[{text:c},{text:a,slot:p},{text:l}]).filter(function(e){return e.text.length})}},{utterance:"",parsedSlots:[],parts:[]});return n<e.length&&(o.utterance+=e.slice(n),o.parts=r(o.parts,[{text:e.slice(n)}])),o}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=n(42),s=n(6),c=o(n(1)),l=i(n(11));t.ContextSelector=function(e){var t=c.useState([]),n=t[0],o=t[1];c.useEffect(function(){e.api.fetchContexts().then(o)},[]);var i=function(t,n){e.saveContexts(r(e.contexts.slice(0,n),e.contexts.slice(n+1)))};return c.default.createElement("div",null,c.default.createElement("div",null,c.default.createElement("label",{htmlFor:"selectContext"},"Contexts")," ",c.default.createElement(a.Tooltip,{content:s.lang.tr("module.nlu.intents.contextSelectorTooltip"),position:a.Position.RIGHT},c.default.createElement(a.Icon,{color:a.Colors.GRAY2,icon:"info-sign"}))),c.default.createElement(u.MultiSelect,{className:l.default.ctxSelect,placeholder:s.lang.tr("module.nlu.intents.contextSelectorPlaceholder"),items:n,itemRenderer:function(t,n){var r=n.handleClick,o=n.modifiers;return c.default.createElement(a.MenuItem,{text:t,key:t,onClick:r,active:o.active,icon:-1!==e.contexts.indexOf(t)?"tick":"blank"})},itemPredicate:function(e,t){return!e||t.includes(e)},onItemSelect:function(t){var a=e.contexts.indexOf(t);-1!==a?i(0,a):function(t){-1===n.indexOf(t)&&o(r(n,[t])),e.saveContexts(r(e.contexts,[t]))}(t)},tagRenderer:function(e){return e},tagInputProps:{tagProps:{minimal:!0},onRemove:i},popoverProps:{minimal:!0,fill:!0},selectedItems:e.contexts,createNewItemRenderer:function(e,t,n){return c.default.createElement(a.MenuItem,{icon:"plus",text:s.lang.tr("module.nlu.intents.contextSelectorCreateMissing"),active:t,onClick:n,shouldDismissPopover:!1})},createNewItemFromQuery:function(e){return e}}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),s=n(6),c=i(n(28)),l=a(n(1)),f=i(n(11));t.default=function(e){var t,n=e.intent.utterances[e.contentLang]||[],i=(e.intent.slots||[]).length,a=l.useState(),d=a[0],h=a[1];if(l.useEffect(function(){(function(e){return r(void 0,void 0,void 0,function(){return o(this,function(t){return[2,e.get("/mod/nlu/ml-recommendations").then(function(e){return e.data})]})})})(e.axios).then(h)},[e.intent.utterances,e.intent.slots]),!d)return null;var p,v=Math.max(Math.pow(2*i,2),d.goodUtterancesForML);if(n.length||(p=l.default.createElement("span",null,s.lang.tr("module.nlu.intents.hintIgnored"))),n.length&&n.length<d.minUtterancesForML){var y=d.minUtterancesForML-n.length;p=l.default.createElement("span",null,s.lang.tr("module.nlu.intents.hintExactMatch",{nb:y,exactOnly:l.default.createElement("strong",null,s.lang.tr("module.nlu.intents.exactOnly"))}))}n.length>=d.minUtterancesForML&&n.length<v&&(y=v-n.length,p=l.default.createElement("span",null,s.lang.tr("module.nlu.intents.hintResilient",{nb:y})));return p?l.default.createElement("p",{className:c.default(f.default.hint,(t={},t[f.default.lightEditorHint]=e.liteEditor,t))},!n.length&&l.default.createElement(u.Icon,{icon:"warning-sign"}),!!n.length&&l.default.createElement(u.Icon,{icon:"symbol-diamond"}),p):null}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=n(6),s=i(n(28)),c=i(n(16)),l=i(n(1)),f=n(3),d=n(221),h=i(n(55)),p=n(215),v=i(n(11)),y=n(66),_=[h.default({placeholder:u.lang.tr("module.nlu.intents.summaryPlaceholder"),when:function(e,t){return""===t.text.trim()&&"title"===t.type}}),h.default({placeholder:u.lang.tr("module.nlu.intents.utterancePlaceholder"),when:function(e,t){return""===t.text.trim()&&"paragraph"===t.type}})],m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selection:{utterance:-1,block:-1,from:-1,to:-1},value:y.utterancesToValue([]),showSlotMenu:!1},t.utteranceKeys=[],t.init=function(e){var n=y.utterancesToValue(e);t.setState({value:n})},t.onKeyDown=function(e,n,r){var o;if("Enter"===e.key&&((o=n.value.get("document").getActiveMarksAtRange(n.value.selection)).size&&(n=n.moveToEndOfText().moveForward()).value.selection.anchor.path.get(0)===t.props.utterances.length-1))return e.preventDefault(),void n.insertBlock("paragraph");if("Backspace"===e.key&&(o=n.value.get("document").getActiveMarksAtRange(n.value.selection)).size)return e.preventDefault(),n.moveEndToEndOfText().moveStartToStartOfText(),void o.forEach(function(e){return n.removeMark(e)});var i=t.state.selection.from!==t.state.selection.to,a=parseInt(e.key);return i&&a<t.props.slots.length?(e.preventDefault(),void t.tag(n,t.props.slots[a])):"Escape"!==e.key&&"Esc"!==e.key||!i?r():void t.hideSlotPopover()},t.onBlur=function(e,n,r){var o=y.valueToUtterances(n.value);return c.default.isEqual(t.props.utterances,o)||t.dispatchChanges(n.value),r()},t.renderEditor=function(e,n,r){var o=r();return t.utteranceKeys=n.value.getIn(["document","nodes"]).map(function(e){return e.key}).toJS(),l.default.createElement("div",{className:v.default["editor-body"]},l.default.createElement(p.TagSlotPopover,{slots:t.props.slots,show:t.state.showSlotMenu,onSlotClicked:t.tag.bind(t,n)}),l.default.createElement("div",{className:v.default.utterances},o))},t.tag=function(e,n){var r=t.state.selection,o=r.utterance,i=r.block,a=t.state.selection,u=a.from,s=a.to,c=e.value.getIn(["document","nodes",o,"nodes",i]),l=c.text.substring(u,s);if(!((u+=l.length-l.trimStart().length)>=(s-=l.length-l.trimEnd().length))){var d=f.Range.fromJS({anchor:{path:[o,i],offset:u},focus:{path:[o,i],offset:Math.min(c.text.length,s)}}),h=y.makeSlotMark(n.name,o),p=e.value.get("document").getActiveMarksAtRange(d);p.size?p.forEach(function(t){return e.select(d).replaceMark(t,h)}):e.select(d).addMark(h)}},t.dispatchChanges=c.default.debounce(function(e){t.props.onChange(y.valueToUtterances(e))},2500),t.dispatchNeeded=function(e){return e.map(function(e){return e.get("type")}).filter(function(e){return["insert_text","remove_text","add_mark","remove_mark","split_node"].includes(e)}).size},t.onChange=function(e){var n=e.value,r=e.operations,i={};r.filter(function(e){return"set_selection"===e.get("type")}).size&&(i=t.onSelectionChanged(n)),t.setState(o({value:n},i)),t.dispatchNeeded(r)&&t.dispatchChanges(n)},t.renderMark=function(e,n,r){switch(e.mark.type){case"slot":var o=e.mark.data.toJS(),i=t.props.slots.find(function(e){return e.name===o.slotName}).color,u=s.default(v.default.slotMark,v.default["label-colors-"+i]);return l.default.createElement(a.Tag,{large:0===o.utteranceIdx,className:u,round:!0,onClick:function(){return n.moveToRangeOfNode(e.node).removeMark(e.mark)}},e.children);default:return r()}},t.renderBlock=function(e,n,r){var i,a=e.attributes,u=e.children,c=e.node,f=t.utteranceKeys.indexOf(c.key),d=c.text.trim().length<=0,h=f<t.utteranceKeys.length-1&&d,p=s.default(v.default.utterance,((i={})[v.default.title]="title"===c.type&&0===f,i[v.default.active]=e.isFocused,i[v.default.wrong]=h,i));switch(c.type){case"title":case"paragraph":return l.default.createElement("p",o({className:p},a),l.default.createElement("span",{contentEditable:!1,className:v.default.index},f+1),u);default:return r()}},t.showSlotPopover=c.default.debounce(function(){t.setState({showSlotMenu:!0})},150),t.hideSlotPopover=function(e){void 0===e&&(e=function(){}),t.showSlotPopover.cancel(),t.state.showSlotMenu&&t.setState({showSlotMenu:!1},e)},t.somethingIsSelected=function(e){return e.anchor&&e.anchor.path&&e.focus&&e.focus.path&&e.anchor.path[0]===e.focus.path[0]&&e.anchor.path[1]===e.focus.path[1]},t.onSelectionChanged=function(e){var n=e.get("selection").toJS(),r=-1,o=-1,i=-1,a=-1;return t.somethingIsSelected(n)?(i=n.anchor.path[0],a=n.anchor.path[1],(r=Math.min(n.anchor.offset,n.focus.offset))!==(o=Math.max(n.anchor.offset,n.focus.offset))?n.isFocused?t.showSlotPopover():setTimeout(t.hideSlotPopover,200):r==o&&t.state.showSlotMenu&&t.hideSlotPopover()):t.hideSlotPopover(),{selection:{utterance:i,block:a,from:r,to:o}}},t}return r(t,e),t.prototype.componentDidMount=function(){this.init(this.props.utterances)},t.prototype.componentDidUpdate=function(e){if(e.intentName!==this.props.intentName)this.init(this.props.utterances);else if(!c.default.isEqual(this.props.utterances,e.utterances)){var t=y.utterancesToValue(this.props.utterances,this.state.value.get("selection"));this.setState({value:t})}},t.prototype.render=function(){return l.default.createElement(d.Editor,{value:this.state.value,plugins:_,renderMark:this.renderMark,renderEditor:this.renderEditor,renderBlock:this.renderBlock,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur})},t}(l.default.Component);t.UtterancesEditor=m},function(e,t,n){"use strict";var r=n(210);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function e(t){if(r(t))return t;if(r(t.ownerDocument))return t.ownerDocument;if(r(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)};var n=9;function r(e){return e&&e.nodeType===n}},function(e,t){e.exports=!!document.attachEvent&&window!==document.parentWindow},function(e,t,n){var r=n(13),o=n(214),i=n(65),a="Expected a function",u=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,f,d,h,p,v=0,y=!1,_=!1,m=!0;if("function"!=typeof e)throw new TypeError(a);function g(t){var n=c,r=l;return c=l=void 0,v=t,d=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||_&&e-v>=f}function k(){var e=o();if(b(e))return w(e);h=setTimeout(k,function(e){var n=t-(e-p);return _?s(n,f-(e-v)):n}(e))}function w(e){return h=void 0,m&&c?g(e):(c=l=void 0,d)}function x(){var e=o(),n=b(e);if(c=arguments,l=this,p=e,n){if(void 0===h)return function(e){return v=e,h=setTimeout(k,t),y?g(e):d}(p);if(_)return clearTimeout(h),h=setTimeout(k,t),g(p)}return void 0===h&&(h=setTimeout(k,t)),d}return t=i(t)||0,r(n)&&(y=!!n.leading,f=(_="maxWait"in n)?u(i(n.maxWait)||0,t):f,m="trailing"in n?!!n.trailing:m),x.cancel=function(){void 0!==h&&clearTimeout(h),v=0,c=p=l=h=void 0},x.flush=function(){return void 0===h?d:w(o())},x}},function(e,t,n){var r=n(12);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=n(6),a=r(n(28)),u=r(n(1)),s=r(n(216)),c=r(n(11));t.TagSlotPopover=function(e){if(!e.show||!window.getSelection().rangeCount)return null;var t=window.getSelection().getRangeAt(0).getBoundingClientRect(),n=t.top-100-25*Math.ceil(e.slots.length/3),r=t.left-150+t.width/2;return s.default.createPortal(u.default.createElement("div",{id:"slot-menu",className:c.default.slotMenu,style:{top:n,left:r,width:300}},0===e.slots.length&&u.default.createElement(u.default.Fragment,null,u.default.createElement("p",null,i.lang.tr("module.nlu.slots.noSlotsToTag"))),e.slots.length>0&&u.default.createElement(u.default.Fragment,null,u.default.createElement("p",null,i.lang.tr("module.nlu.slots.tagSelectionLabel")),u.default.createElement("p",null,i.lang.tr("module.nlu.slots.tagSelectionMessage")),u.default.createElement("div",null,e.slots.map(function(t,n){return u.default.createElement(o.Tag,{key:t.name,className:a.default(c.default["label-colors-"+t.color],c.default.slotMenuItem,c.default.slotMark),round:!0,onClick:function(){return e.onSlotClicked(t)}},u.default.createElement("strong",null,n," | "),t.name)})))),document.body)}},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),c=n(6),l=n(37),f=n(61),d=a(n(1)),h=u(n(82));t.IntentSidePanelSection=function(e){var t=d.useState(!1),n=t[0],a=t[1],u=d.useState(""),p=u[0],v=u[1],y=d.useState("create"),_=y[0],m=y[1],g=d.useState(""),b=g[0],k=g[1],w=function(e,t){v(e),m(t),a(!0)},x=function(t,n){return o(void 0,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:r={name:t,utterances:(o={},o[e.contentLang]=[n],o)},i.label=1;case 1:return i.trys.push([1,4,,5]),[4,e.api.createIntent(r)];case 2:return i.sent(),[4,e.reloadIntents()];case 3:return i.sent(),e.setCurrentItem({name:t,type:"intent"}),[3,5];case 4:return i.sent(),f.toastFailure(c.lang.tr("module.nlu.intents.actionErrorMessage",{action:"create"})),[3,5];case 5:return[2]}})})},O=function(t,n){return o(void 0,void 0,void 0,function(){var o;return i(this,function(i){switch(i.label){case 0:if(!(o=e.intents.find(function(e){return e.name===t})))return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,e.api.updateIntent(t,r(r({},o),{name:n}))];case 2:return i.sent(),[4,e.reloadIntents()];case 3:return i.sent(),e.setCurrentItem({name:n,type:"intent"}),[3,5];case 4:return i.sent(),f.toastFailure(c.lang.tr("module.nlu.intents.actionErrorMessage",{action:"rename"})),[3,5];case 5:return[2]}})})},E=function(t,n){return o(void 0,void 0,void 0,function(){var o;return i(this,function(i){switch(i.label){case 0:if(!(o=e.intents.find(function(e){return e.name===t})))return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,e.api.createIntent(r(r({},o),{name:n}))];case 2:return i.sent(),[4,e.reloadIntents()];case 3:return i.sent(),e.setCurrentItem({name:n,type:"intent"}),[3,5];case 4:return i.sent(),f.toastFailure(c.lang.tr("module.nlu.intents.actionErrorMessage",{action:"duplicate"})),[3,5];case 5:return[2]}})})},S=e.intents.filter(function(e){return!b||e.name.includes(b)}).map(function(t){return{key:t.name,label:t.name,value:t.name,selected:e.currentItem&&e.currentItem.name===t.name,contextMenu:[{label:c.lang.tr("rename"),icon:"edit",onClick:function(){return w(t.name,"rename")}},{label:c.lang.tr("duplicate"),icon:"duplicate",onClick:function(){return w(t.name,"duplicate")}},{label:c.lang.tr("delete"),icon:"delete",onClick:function(){return function(t){return o(void 0,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,c.confirmDialog(c.lang.tr("module.nlu.intents.deleteConfirmMessage",{intentName:t}),{acceptLabel:c.lang.tr("delete")})];case 1:if(!n.sent())return[3,6];e.currentItem&&e.currentItem.name===t&&e.setCurrentItem(void 0),n.label=2;case 2:return n.trys.push([2,5,,6]),[4,e.api.deleteIntent(t)];case 3:return n.sent(),[4,e.reloadIntents()];case 4:return n.sent(),[3,6];case 5:return n.sent(),f.toastFailure(c.lang.tr("module.nlu.intents.actionErrorMessage",{action:"delete"})),[3,6];case 6:return[2]}})})}(t.name)}}]}});return d.default.createElement("div",null,d.default.createElement(s.Button,{id:"btn-add-intent",className:s.Classes.MINIMAL,icon:"new-object",text:c.lang.tr("module.nlu.intents.new"),onClick:function(){return w("","create")}}),d.default.createElement(l.SearchBar,{id:"intents-filter",icon:"filter",placeholder:c.lang.tr("module.nlu.intents.filterPlaceholder"),onChange:k,showButton:!1}),d.default.createElement(l.ItemList,{items:S,onElementClicked:function(t){var n=t.value;return e.setCurrentItem({type:"intent",name:n})}}),d.default.createElement(h.default,{isOpen:n,toggle:function(){return a(!n)},onSubmit:function(e,t){return o(void 0,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return"create"!==_?[3,2]:[4,x(e,t)];case 1:return n.sent(),[3,6];case 2:return"rename"!==_?[3,4]:[4,O(p,e)];case 3:return n.sent(),[3,6];case 4:return"duplicate"!==_?[3,6]:[4,E(p,e)];case 5:n.sent(),n.label=6;case 6:return[2]}})})},title:_+" intent",originalName:p,intents:e.intents}))}},function(e,t,n){(t=e.exports=n(26)(!1)).push([e.i,".nlu__style__container___WuyWl {\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 24px);\n  width: 100%;\n  padding: 10px 15px; }\n\n.nlu__style__headerTabs___2pv2n .bp3-tab-list {\n  background: #fefefe;\n  border-bottom: 1px solid #eee; }\n\n.nlu__style__headerTabs___2pv2n .bp3-tab-indicator-wrapper {\n  background: rgba(0, 0, 0, 0.05); }\n\n.nlu__style__headerTabs___2pv2n .bp3-tab-panel {\n  margin-top: 5px; }\n\n.nlu__style__headerTabs___2pv2n .bp3-tab {\n  padding: 2px 8px;\n  border-right: 1px solid #eee; }\n\n.nlu__style__headerTabs___2pv2n .bp3-tab-list > *:not(:last-child) {\n  margin-right: 0; }\n\n.nlu__style__workspace___1E292 {\n  width: 100%;\n  height: calc(100vh - 24px);\n  position: relative; }\n\n.nlu__style__workspace___1E292 > div {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%; }\n\n.nlu__style__main___2tbJA {\n  flex: 1 1 auto;\n  display: flex;\n  height: 100%; }\n\n.nlu__style__navigationBar___3dyh6 {\n  position: relative;\n  flex: 0 0 auto;\n  display: flex;\n  flex-direction: column;\n  width: 240px;\n  height: 100%;\n  background-color: #fcfcfc;\n  border-right: 1px solid #e5e5e5; }\n  .nlu__style__navigationBar___3dyh6 .nlu__style__filter___3KfS2 {\n    width: 100%;\n    padding: 7px; }\n    .nlu__style__navigationBar___3dyh6 .nlu__style__filter___3KfS2 input {\n      width: 100%;\n      padding: 5px;\n      font-size: 14px; }\n    .nlu__style__navigationBar___3dyh6 .nlu__style__filter___3KfS2 .nlu__style__checkboxContainer___1CA2m {\n      display: flex; }\n  .nlu__style__navigationBar___3dyh6 .nlu__style__list___3QvWb {\n    flex-grow: 2;\n    position: relative;\n    overflow-y: auto;\n    padding: 7px;\n    height: 100%; }\n    .nlu__style__navigationBar___3dyh6 .nlu__style__list___3QvWb ul {\n      list-style: none;\n      padding: 0; }\n      .nlu__style__navigationBar___3dyh6 .nlu__style__list___3QvWb ul li {\n        padding: 3px 7px;\n        cursor: pointer; }\n        .nlu__style__navigationBar___3dyh6 .nlu__style__list___3QvWb ul li:hover {\n          background: #e9e9e9; }\n          .nlu__style__navigationBar___3dyh6 .nlu__style__list___3QvWb ul li:hover .nlu__style__deleteIntent___2n0ZF {\n            display: inherit; }\n        .nlu__style__navigationBar___3dyh6 .nlu__style__list___3QvWb ul li.nlu__style__active___2Lf13 {\n          font-weight: bold; }\n  .nlu__style__navigationBar___3dyh6 .nlu__style__create___3r-So {\n    padding: 10px 15px; }\n  .nlu__style__navigationBar___3dyh6 .nlu__style__sync___3SGdt {\n    padding: 10px 15px;\n    text-align: center; }\n    .nlu__style__navigationBar___3dyh6 .nlu__style__sync___3SGdt div {\n      font-weight: bold;\n      line-height: 20px; }\n      .nlu__style__navigationBar___3dyh6 .nlu__style__sync___3SGdt div.nlu__style__out___fEKyZ {\n        color: #ff3653;\n        -webkit-animation: nlu__style__flash___3YE0b linear 1s infinite;\n        animation: nlu__style__flash___3YE0b linear 1s infinite; }\n\n@-webkit-keyframes nlu__style__flash___3YE0b {\n  0% {\n    opacity: 1; }\n  50% {\n    opacity: 0.1; }\n  100% {\n    opacity: 1; } }\n\n@keyframes nlu__style__flash___3YE0b {\n  0% {\n    opacity: 1; }\n  50% {\n    opacity: 0.1; }\n  100% {\n    opacity: 1; } }\n      .nlu__style__navigationBar___3dyh6 .nlu__style__sync___3SGdt div.nlu__style__in___2wU3P {\n        color: #00d129; }\n\n.nlu__style__deleteEntity___2GVVR {\n  float: right;\n  display: none;\n  margin-top: 3px; }\n\n.nlu__style__entityText___2wMUl {\n  width: calc(100% - 14px); }\n\n.nlu__style__entity___3emg9 {\n  display: flex; }\n\n.nlu__style__entity___3emg9:hover {\n  background-color: #ececec; }\n  .nlu__style__entity___3emg9:hover .nlu__style__deleteEntity___2GVVR {\n    display: inherit; }\n  .nlu__style__entity___3emg9:hover .nlu__style__synonym___3DgPz {\n    display: inline-block; }\n\n.nlu__style__synonym___3DgPz {\n  width: 30%;\n  display: none; }\n\n.nlu__style__chooseContainer___2Zx0a {\n  padding: 10px 0; }\n\n.nlu__style__trainingControlContainer___KG9oZ {\n  display: flex;\n  flex-direction: row-reverse;\n  border-bottom: 1px solid #eee;\n  padding-right: 5vw; }\n",""]),t.locals={container:"nlu__style__container___WuyWl",headerTabs:"nlu__style__headerTabs___2pv2n",workspace:"nlu__style__workspace___1E292",main:"nlu__style__main___2tbJA",navigationBar:"nlu__style__navigationBar___3dyh6",filter:"nlu__style__filter___3KfS2",checkboxContainer:"nlu__style__checkboxContainer___1CA2m",list:"nlu__style__list___3QvWb",deleteIntent:"nlu__style__deleteIntent___2n0ZF",active:"nlu__style__active___2Lf13",create:"nlu__style__create___3r-So",sync:"nlu__style__sync___3SGdt",out:"nlu__style__out___fEKyZ",flash:"nlu__style__flash___3YE0b",in:"nlu__style__in___2wU3P",deleteEntity:"nlu__style__deleteEntity___2GVVR",entityText:"nlu__style__entityText___2wMUl",entity:"nlu__style__entity___3emg9",synonym:"nlu__style__synonym___3DgPz",chooseContainer:"nlu__style__chooseContainer___2Zx0a",trainingControlContainer:"nlu__style__trainingControlContainer___KG9oZ"}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),c=n(6),l=a(n(1)),f=n(59),d=u(n(83)),h=n(62),p=u(n(220)),v=u(n(82));t.sanitizeName=function(e){return e.toLowerCase().replace(/\s|\t|\n/g,"-").replace(/[^a-z0-9-_.]/g,"")},t.LiteEditor=function(e){var t=l.useState([]),n=t[0],a=t[1],u=l.useState(e.params.intentName),y=u[0],_=u[1],m=l.useState(!1),g=m[0],b=m[1],k=l.useState([]),w=k[0],x=k[1];l.useEffect(function(){e.forceSave&&w.length&&O.syncIntentTopics()},[e.forceSave]);var O=f.makeApi(e.bp);l.useEffect(function(){E()},[]),l.useEffect(function(){x([])},[g]);var E=function(){return r(void 0,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=a,[4,O.fetchIntents()];case 1:return e.apply(void 0,[t.sent()]),[2]}})})},S=function(){return b(!g)};return l.default.createElement("div",null,l.default.createElement(v.default,{isOpen:g,toggle:S,intents:n,onSubmit:function(t,n){return r(void 0,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:return r={name:t,contexts:[e.topicName||"global"],utterances:(i={},i[e.contentLang]=[n],i)},e.updateParams({intentName:t}),[4,O.createIntent(r)];case 1:return o.sent(),[4,E()];case 2:return o.sent(),_(t),[2]}})})},title:c.lang.tr("module.nlu.intents.createLabel")}),y&&l.default.createElement(h.IntentEditor,{liteEditor:!0,intent:y,api:O,contentLang:e.contentLang,axios:e.bp.axios}),l.default.createElement("div",{className:d.default.chooseContainer},l.default.createElement(s.ControlGroup,null,l.default.createElement(s.FormGroup,{label:c.lang.tr("module.nlu.intents.chooseContainerLabel")},l.default.createElement(s.Button,{text:c.lang.tr("module.nlu.intents.createLabel"),onClick:S}),l.default.createElement(p.default,{intents:n,currentIntent:y,onChange:function(t){return r(void 0,void 0,void 0,function(){return o(this,function(n){return t&&(x(i(w,[y])),_(t.name),e.updateParams({intentName:t.name})),[2]})})}})))))}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=n(42),u=n(6),s=o(n(1)),c=a.Select.ofType(),l={name:u.lang.tr("module.nlu.intents.selectIntentLabel")},f=function(e,t){return(t.name.toLowerCase()+" ").indexOf(e.toLowerCase())>-1},d=function(e,t){var n=t.handleClick,r=t.modifiers;return r.matchesPredicate?s.default.createElement(i.MenuItem,{className:i.Classes.SMALL,active:r.active,disabled:r.disabled,key:e.name,onClick:n,text:e.name}):null};t.default=function(e){var t=s.useState(),n=t[0],o=t[1];s.useEffect(function(){e.intents&&e.currentIntent&&o(e.intents.find(function(t){return t.name===e.currentIntent}))},[e.intents]);var a=function(t){t!==l&&t!==n&&(o(t),e.onChange&&e.onChange(t))};return s.default.createElement(c,{items:r([l],e.intents),itemPredicate:f,itemRenderer:d,activeItem:n,popoverProps:{minimal:!0},noResults:s.default.createElement(i.MenuItem,{disabled:!0,text:u.lang.tr("module.nlu.intents.selectIntentNoResults")}),onItemSelect:function(e){return a(e)},onActiveItemChange:function(e){return a(e)}},s.default.createElement(i.Button,{id:"select-intent",text:n&&n.name||l.name,rightIcon:"double-caret-vertical"}))}},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(4),a=n.n(i),u=n(3);function s(e,t){function n(n,r,o,i,a){var u=r[o];return null!=u||n?null==u&&n?new Error("The "+a+" `"+o+"` is marked as required in `"+i+"`, but it was not supplied."):t(u)?null:new Error("Invalid "+a+" `"+o+"` supplied to `"+i+"`, expected a Slate `"+e+"` but received: "+u):null}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!1].concat(t))}return r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!0].concat(t))},r}var c={block:s("Block",function(e){return u.Block.isBlock(e)}),blocks:s("List<Block>",function(e){return u.Block.isBlockList(e)}),change:s("Change",function(e){return u.Change.isChange(e)}),data:s("Data",function(e){return u.Data.isData(e)}),document:s("Document",function(e){return u.Document.isDocument(e)}),inline:s("Inline",function(e){return u.Inline.isInline(e)}),inlines:s("Inline",function(e){return u.Inline.isInlineList(e)}),leaf:s("Leaf",function(e){return u.Leaf.isLeaf(e)}),leaves:s("List<Leaf>",function(e){return u.Leaf.isLeafList(e)}),mark:s("Mark",function(e){return u.Mark.isMark(e)}),marks:s("Set<Mark>",function(e){return u.Mark.isMarkSet(e)}),node:s("Node",function(e){return u.Node.isNode(e)}),nodes:s("List<Node>",function(e){return u.Node.isNodeList(e)}),range:s("Range",function(e){return u.Range.isRange(e)}),ranges:s("List<Range>",function(e){return u.Range.isRangeList(e)}),selection:s("Selection",function(e){return u.Selection.isSelection(e)}),value:s("Value",function(e){return u.Value.isValue(e)}),text:s("Text",function(e){return u.Text.isText(e)}),texts:s("List<Text>",function(e){return u.Text.isTextList(e)})},l=n(19),f=n.n(l),d=n(10),h=n.n(d),p=n(2),v=n(7),y=n.n(v),_=n(88),m=n.n(_),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b="object"===("undefined"==typeof window?"undefined":g(window))&&"object"===("undefined"==typeof document?"undefined":g(document))&&9===document.nodeType,k=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=void 0;if(b){var x=!0,O=!1,E=void 0;try{for(var S,A=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(x=(S=A.next()).done);x=!0){var T=S.value,N=k(T,2),j=N[0];if(N[1].test(window.navigator.userAgent)){w=j;break}}}catch(e){O=!0,E=e}finally{try{!x&&A.return&&A.return()}finally{if(O)throw E}}}var C=void 0;if(b){var P=!0,I=!1,B=void 0;try{for(var F,R=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(P=(F=R.next()).done);P=!0){var D=F.value,M=k(D,2),L=M[0];if(M[1].test(window.navigator.userAgent)){C=L;break}}}catch(e){I=!0,B=e}finally{try{!P&&R.return&&R.return()}finally{if(I)throw B}}}var z=[];if(b){var U=!0,q=!1,K=void 0;try{for(var W,J=[["inputeventslevel1",function(e){return"inputType"in(e.InputEvent?new e.InputEvent("input"):{})}],["inputeventslevel2",function(e){var t=e.document.createElement("div");return t.contentEditable=!0,"onbeforeinput"in t}]][Symbol.iterator]();!(U=(W=J.next()).done);U=!0){var V=W.value,G=k(V,2),Y=G[0];(0,G[1])(window)&&z.push(Y)}}catch(e){q=!0,K=e}finally{try{!U&&J.return&&J.return()}finally{if(q)throw K}}}var H=[[/^9([.]0|)/,28],[/^8[.]1/,27],[/^8([.]0|)/,26],[/^7[.]1/,25],[/^7([.]0|)/,24],[/^6([.]0|)/,23],[/^5[.]1/,22],[/^5([.]0|)/,21],[/^4[.]4/,20]];var $="firefox"===w,Z="safari"===w,Q="ie"===w,X="edge"===w,ee="android"===C,te="ios"===C,ne="macos"===C,re=function(){if("android"!==C)return null;var e=window.navigator.userAgent.match(/Android\s([0-9\.]+)/);if(null==e)return null;var t=e[1],n=!0,r=!1,o=void 0;try{for(var i,a=H[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=k(u,2),c=s[0],l=s[1];if(t.match(c))return l}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}(),oe=(z.includes("inputeventslevel1"),z.includes("inputeventslevel2")||ee&&(28===re||null===re)),ie=n(89),ae=n.n(ie),ue=n(0),se=n(9),ce=n(14),le=n.n(ce),fe=n(58);function de(e){var t=JSON.stringify(e);return Object(fe.btoa)(encodeURIComponent(t))}function he(e){var t=decodeURIComponent(Object(fe.atob)(e));return JSON.parse(t)}var pe={deserialize:function(e,t){var n=he(e);return u.Value.fromJSON(n,t)},deserializeNode:function(e,t){var n=he(e);return u.Node.fromJSON(n,t)},serialize:function(e,t){return de(e.toJSON(t))},serializeNode:function(e,t){return de(e.toJSON(t))}},ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ye(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delimiter,n=void 0===t?"\n":t;return"document"===e.object||"block"===e.object&&u.Block.isBlockList(e.nodes)?e.nodes.map(ye).join(n):e.text}var _e={deserialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultBlock,r=void 0===n?"line":n,o=t.defaultMarks,i=void 0===o?[]:o,a=t.delimiter,s=void 0===a?"\n":a,c=t.toJSON,l=void 0!==c&&c;ue.Set.isSet(i)&&(i=i.toArray()),r=u.Node.createProperties(r),i=i.map(u.Mark.createProperties);var f={object:"value",document:{object:"document",data:{},nodes:e.split(s).map(function(e){return ve({},r,{object:"block",data:{},nodes:[{object:"text",text:e,marks:i}]})})}};return l?f:u.Value.fromJSON(f)},serialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ye(e.document,t)}},me=n(36),ge={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},be={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ke={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},we={},xe=te||ne,Oe=!xe;[].concat(Object.keys(ge)).concat(Object.keys(be)).concat(Object.keys(ke)).forEach(function(e){var t="is"+e[0].toUpperCase()+e.slice(1);if(!we[t]){var n=ge[e],r=be[e],o=ke[e],i=n&&Object(me.isKeyHotkey)(n),a=r&&Object(me.isKeyHotkey)(r),u=o&&Object(me.isKeyHotkey)(o);we[t]=function(e){return!(!i||!i(e))||(!!(xe&&a&&a(e))||!!(Oe&&u&&u(e)))}}});var Ee=we,Se=n(55),Ae=function(e,t){return e===t};var Te=function(e,t){var n;void 0===t&&(t=Ae);var r,o=[],i=!1,a=function(e,n){return t(e,o[n],n)};return function(){for(var t=arguments.length,u=new Array(t),s=0;s<t;s++)u[s]=arguments[s];return i&&n===this&&u.length===o.length&&u.every(a)?r:(r=e.apply(this,u),i=!0,n=this,o=u,r)}};n.d(t,"Editor",function(){return tn}),n.d(t,"cloneFragment",function(){return Pt}),n.d(t,"findDOMNode",function(){return Tt}),n.d(t,"findDOMPoint",function(){return nn}),n.d(t,"findDOMRange",function(){return rn}),n.d(t,"findNode",function(){return on}),n.d(t,"findPath",function(){return an}),n.d(t,"findPoint",function(){return ft}),n.d(t,"findRange",function(){return ht}),n.d(t,"getEventRange",function(){return un}),n.d(t,"getEventTransfer",function(){return Lt}),n.d(t,"setEventTransfer",function(){return qt}),n.d(t,"ReactPlugin",function(){return Xt});var Ne=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onPaste","onSelect"],je={EDITOR:"data-slate-editor",FRAGMENT:"data-slate-fragment",KEY:"data-key",LEAF:"data-slate-leaf",LENGTH:"data-slate-length",OBJECT:"data-slate-object",OFFSET_KEY:"data-offset-key",SPACER:"data-slate-spacer",STRING:"data-slate-string",TEXT:"data-slate-object",VOID:"data-slate-void",ZERO_WIDTH:"data-slate-zero-width"},Ce={BLOCK:"["+je.OBJECT+'="block"]',EDITOR:"["+je.EDITOR+"]",INLINE:"["+je.OBJECT+'="inline"]',KEY:"["+je.KEY+"]",LEAF:"["+je.LEAF+"]",OBJECT:"["+je.OBJECT+"]",STRING:"["+je.STRING+"]",TEXT:"["+je.OBJECT+'="text"]',VOID:"["+je.VOID+"]",ZERO_WIDTH:"["+je.ZERO_WIDTH+"]"},Pe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Be=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},De=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Me=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Le=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},ze=/^([\w-]+)(?::(\d+))?$/;var Ue={parse:function(e){var t=ze.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=Me(t,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(e){return e.key+":"+e.index}},qe=function(e){var t=e.text,n=void 0===t?"":t,r=e.isTrailing,i=void 0!==r&&r;return o.a.createElement("span",Be({},je.STRING,!0),n,i?"\n":null)},Ke=function(e){var t,n=e.length,r=void 0===n?0:n,i=e.isLineBreak,a=void 0!==i&&i;return o.a.createElement("span",(Be(t={},je.ZERO_WIDTH,a?"n":"z"),Be(t,je.LENGTH,r),t),"\ufeff",a?o.a.createElement("br",null):null)},We=function(e){var t,n=e.marks,r=e.annotations,i=e.decorations,a=e.node,u=e.index,s=e.offset,c=e.text,l=e.editor,f=e.parent,d=e.block,h=e.leaves,p=Ue.stringify({key:a.key,index:u}),v=void 0;if(l.query("isVoid",f))v=o.a.createElement(Ke,{length:f.text.length});else if(""===c&&"block"===f.object&&""===f.text&&f.nodes.last()===a)v=o.a.createElement(Ke,{isLineBreak:!0});else if(""===c)v=o.a.createElement(Ke,null);else{var y=d.getLastText(),_=c.charAt(c.length-1),m=a===y,g=u===h.size-1;v=m&&g&&"\n"===_?o.a.createElement(qe,{isTrailing:!0,text:c}):o.a.createElement(qe,{text:c})}var b={editor:l,marks:n,annotations:r,decorations:i,node:a,offset:s,text:c},k=!0,w=!1,x=void 0;try{for(var O,E=n[Symbol.iterator]();!(k=(O=E.next()).done);k=!0){var S=O.value;(M=l.run("renderMark",Fe({},b,{mark:S,children:v,attributes:Be({},je.OBJECT,"mark")})))&&(v=M)}}catch(e){w=!0,x=e}finally{try{!k&&E.return&&E.return()}finally{if(w)throw x}}var A=!0,T=!1,N=void 0;try{for(var j,C=i[Symbol.iterator]();!(A=(j=C.next()).done);A=!0){var P=j.value;(M=l.run("renderDecoration",Fe({},b,{decoration:P,children:v,attributes:Be({},je.OBJECT,"decoration")})))&&(v=M)}}catch(e){T=!0,N=e}finally{try{!A&&C.return&&C.return()}finally{if(T)throw N}}var I=!0,B=!1,F=void 0;try{for(var R,D=r[Symbol.iterator]();!(I=(R=D.next()).done);I=!0){var M,L=R.value;(M=l.run("renderAnnotation",Fe({},b,{annotation:L,children:v,attributes:Be({},je.OBJECT,"annotation")})))&&(v=M)}}catch(e){B=!0,F=e}finally{try{!I&&D.return&&D.return()}finally{if(B)throw F}}var z=(Be(t={},je.LEAF,!0),Be(t,je.OFFSET_KEY,p),t);return o.a.createElement("span",z,v)};We.propTypes={annotations:f.a.list.isRequired,block:c.block.isRequired,decorations:f.a.list.isRequired,editor:a.a.object.isRequired,index:a.a.number.isRequired,leaves:a.a.object.isRequired,marks:c.marks.isRequired,node:c.node.isRequired,offset:a.a.number.isRequired,parent:c.node.isRequired,text:a.a.string.isRequired};var Je=o.a.memo(We,function(e,t){return t.block===e.block&&t.index===e.index&&t.marks===e.marks&&t.parent===e.parent&&t.text===e.text&&t.annotations.equals(e.annotations)&&t.decorations.equals(e.decorations)}),Ve=o.a.forwardRef(function(e,t){var n,r=e.annotations,i=e.block,a=e.decorations,u=e.node,s=e.parent,c=e.editor,l=e.style,f=u.key,d=u.getLeaves(r,a),h=0;return o.a.createElement("span",Fe({ref:t,style:l},(Be(n={},je.OBJECT,u.object),Be(n,je.KEY,f),n)),d.map(function(e,t){var n=e.text,r=h;return h+=n.length,o.a.createElement(Je,{key:u.key+"-"+t,block:i,editor:c,index:t,annotations:e.annotations,decorations:e.decorations,marks:e.marks,node:u,offset:r,parent:s,leaves:d,text:n})}))});Ve.propTypes={annotations:f.a.map.isRequired,block:c.block,decorations:f.a.list.isRequired,editor:a.a.object.isRequired,node:c.node.isRequired,parent:c.node.isRequired,style:a.a.object};var Ge=o.a.memo(Ve,function(e,t){return t.node===e.node&&"block"===t.parent.object&&e.parent.nodes.last()===e.node&&t.parent.nodes.last()!==t.node&&t.annotations.equals(e.annotations)&&t.decorations.equals(e.decorations)}),Ye=h()("slate:void"),He=function(e){function t(){var e,n,r;Pe(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),$e.call(r),De(r,n)}return Re(t,e),Ie(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.node,i=t.readOnly,a="block"===r.object?"div":"span",u=Be({},je.SPACER,!0),s=o.a.createElement(a,Fe({style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},u),this.renderText()),c=o.a.createElement(a,{contentEditable:!!i&&null},n);this.debug("render",{props:t});var l=(Be(e={},je.VOID,!0),Be(e,je.KEY,r.key),e);return o.a.createElement(a,Fe({contentEditable:!(!i&&"block"!==r.object)&&null},l),i?null:s,c)}}]),t}(o.a.Component);He.propTypes={block:c.block,children:a.a.any.isRequired,editor:a.a.object.isRequired,node:c.node.isRequired,parent:c.node.isRequired,readOnly:a.a.bool.isRequired};var $e=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key+" ("+i.type+")";Ye.apply(void 0,[t,""+a].concat(r))},this.renderText=function(){var t=e.props,n=t.annotations,r=t.block,i=t.decorations,a=t.node,u=t.readOnly,s=t.editor,c=t.textRef,l=a.getFirstText();return o.a.createElement(Ge,{ref:c,annotations:n,block:"block"===a.object?a:r,decorations:i,editor:s,key:l.key,node:l,parent:a,readOnly:u})}},Ze=h()("slate:node"),Qe=function(e){function t(){var e,n,r;Pe(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Xe.call(r),De(r,n)}return Re(t,e),Ie(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(Object(p.a)(!1,'As of slate-react@0.22 the `shouldNodeComponentUpdate` middleware is deprecated. You can pass specific values down the tree using React\'s built-in "context" construct instead.'),n)return!0;Object(p.a)(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!==o.readOnly||(r.node!==o.node||(!!(!r.selection&&o.selection||r.selection&&!o.selection||r.selection&&o.selection&&!r.selection.equals(o.selection))||(!r.annotations.equals(o.annotations)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var e,n=this;this.debug("render",this);var r=this.props,i=r.annotations,a=r.block,u=r.decorations,s=r.editor,c=r.node,l=r.parent,f=r.readOnly,d=r.selection,h=c.getDecorations(s),p=c.nodes.toArray().map(function(e,r){var l="text"===e.object?Ge:t,p=d&&et(c,r,d),v=h.map(function(e){return et(c,r,e)}).filter(function(e){return e}).concat(u),y=i.map(function(e){return et(c,r,e)}).filter(function(e){return e});return o.a.createElement(l,{block:"block"===c.object?c:a,editor:s,annotations:y,decorations:v,selection:p,key:e.key,node:e,parent:c,readOnly:f,ref:function(e){e?n.tmp.nodeRefs[r]=e:delete n.tmp.nodeRefs[r]}})}),v=(Be(e={},je.OBJECT,c.object),Be(e,je.KEY,c.key),Be(e,"ref",this.ref),e);c.isLeafBlock()&&("rtl"===c.getTextDirection()&&(v.dir="rtl"));var y=void 0;"block"===c.object?y="renderBlock":"document"===c.object?y="renderDocument":"inline"===c.object&&(y="renderInline");var _=s.run(y,{attributes:v,children:p,editor:s,isFocused:!!d&&d.isFocused,isSelected:!!d,node:c,parent:l,readOnly:f});return s.isVoid(c)?o.a.createElement(He,Fe({},this.props,{textRef:function(e){e?n.tmp.nodeRefs[0]=e:delete n.tmp.nodeRefs[0]}}),_):_}}]),t}(o.a.Component);Qe.propTypes={annotations:f.a.map.isRequired,block:c.block,decorations:f.a.list.isRequired,editor:a.a.object.isRequired,node:c.node.isRequired,parent:c.node,readOnly:a.a.bool.isRequired,selection:c.selection};var Xe=function(){var e=this;this.tmp={nodeRefs:{}},this.ref=o.a.createRef(),this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key,u=i.type;Ze.apply(void 0,[t,a+" ("+u+")"].concat(r))}};function et(e,t,n){if(n.isUnset)return null;var r=e.nodes.get(t),o=n,i=o.start,a=o.end,s=i.path,c=a.path,l=s.first(),f=c.first();if(l===t)i=i.setPath(s.rest());else if(l<t&&t<=f)if("text"===r.object)i=i.moveTo(u.PathUtils.create([t]),0);else{var d=r.texts(),h=Me(d,1)[0],p=Me(h,2)[1];i=i.moveTo(p,0)}else i=null;if(f===t)a=a.setPath(c.rest());else if(l<=t&&t<f)if("text"===r.object)a=a.moveTo(u.PathUtils.create([t]),r.text.length);else{var v=r.texts({direction:"backward"}),y=Me(v,1)[0],_=Me(y,2),m=_[0],g=_[1];a=a.moveTo(g,m.text.length)}else a=null;return i&&a?n=(n=n.setStart(i)).setEnd(a):null}var tt=["auto","overlay","scroll"],nt=te&&!!window.navigator.userAgent.match(/os 11_/i);function rt(e){if(!nt&&e.anchorNode){var t=y()(e.anchorNode),n=function(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(tt.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n===t.document.body||n===t.document.documentElement,o=m()(e),i=e.getRangeAt(0).cloneRange();i.collapse(o);var a=i.getBoundingClientRect();Z&&i.collapsed&&0===a.top&&0===a.height&&(0===i.startOffset?i.setEnd(i.endContainer,1):i.setStart(i.startContainer,i.startOffset-1),0===(a=i.getBoundingClientRect()).top&&0===a.height&&i.getClientRects().length&&(a=i.getClientRects()[0]));var u=void 0,s=void 0,c=void 0,l=void 0,f=0,d=0,h=0,p=0,v=0,_=0,g=0,b=0;if(r){u=t.innerWidth,s=t.innerHeight,c=t.pageYOffset,l=t.pageXOffset}else{var k=n.offsetWidth,w=n.offsetHeight,x=n.scrollTop,O=n.scrollLeft,E=t.getComputedStyle(n),S=E.borderTopWidth,A=E.borderBottomWidth,T=E.borderLeftWidth,N=E.borderRightWidth,j=E.paddingTop,C=E.paddingBottom,P=E.paddingLeft,I=E.paddingRight,B=n.getBoundingClientRect();u=k,s=w,f=B.top+parseInt(S,10),d=B.left+parseInt(T,10),h=parseInt(S,10)+parseInt(A,10),p=parseInt(T,10)+parseInt(N,10),v=parseInt(j,10),_=parseInt(C,10),g=parseInt(P,10),b=parseInt(I,10),c=x,l=O}var F=a.top+c-f,R=a.left+l-d,D=l,M=c;R<l?D=R-g:R+a.width+p>l+u&&(D=R+p+b-u),F<c?M=F-v:F+a.height+h>c+s&&(M=F+h+_+a.height-s),r?t.scrollTo(D,M):(n.scrollTop=M,n.scrollLeft=D)}}function ot(e){if(Q){var t=window.document.body.createTextRange();t.collapse(),t.select()}else e.removeAllRanges()}var it=/Permission denied to access property "nodeType"/,at=h()("slate:content");at.update=h()("slate:update");var ut=function(e){function t(){var e,n,r;Pe(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.tmp={isUpdatingSelection:!1,nodeRef:o.a.createRef(),nodeRefs:{}},r.ref=o.a.createRef(),r.setRef=function(e){r.ref.current=e,r.props.editor.el=e},r.handlers=Ne.reduce(function(e,t){return e[t]=function(e){return r.onEvent(t,e)},e},{}),r.updateSelection=function(){var e=r.props.editor,t=e.value.selection,n=t.isBackward,o=y()(r.ref.current),i=o.getSelection(),a=o.document.activeElement;if(at.enabled&&at.update("updateSelection",{selection:t.toJSON()}),i){var u=i.rangeCount,s=i.anchorNode,c=!1;if(t.isBlurred&&a===r.ref.current&&(r.ref.current.blur(),c=!0),t.isUnset&&u&&r.isInEditor(s)&&(ot(i),c=!0),t.isFocused&&a!==r.ref.current&&(r.ref.current.focus({preventScroll:!0}),c=!0),t.isFocused&&t.isSet){var l=!!u&&i.getRangeAt(0),f=e.findDOMRange(t);if(!f)return void Object(p.a)(!1,"Unable to find a native DOM range from the current selection.");var d=f.startContainer,h=f.startOffset,v=f.endContainer,_=f.endOffset;if(l&&(d===l.startContainer&&h===l.startOffset&&v===l.endContainer&&_===l.endOffset||d===l.endContainer&&h===l.endOffset&&v===l.startContainer&&_===l.startOffset))return;c=!0,r.tmp.isUpdatingSelection=!0,ot(i),i.setBaseAndExtent?n?i.setBaseAndExtent(f.endContainer,f.endOffset,f.startContainer,f.startOffset):i.setBaseAndExtent(f.startContainer,f.startOffset,f.endContainer,f.endOffset):i.addRange(f),rt(i),setTimeout(function(){$&&r.ref.current&&r.ref.current.focus(),r.tmp.isUpdatingSelection=!1})}c&&at.enabled&&(at("updateSelection",{selection:t,native:i,activeElement:a}),at.update("updateSelection-applied",{selection:t}))}},r.isInEditor=function(e){var t=void 0;try{if(8===e.nodeType)return!1;t=3===e.nodeType?e.parentNode:e}catch(e){if($&&it.test(e.message))return!1;throw e}return t.isContentEditable&&(t===r.ref.current||t.closest(Ce.EDITOR)===r.ref.current)},r.onNativeSelectionChange=ae()(function(e){r.props.readOnly||y()(e.target).document.activeElement===r.ref.current&&r.props.onEvent("onSelect",e)},100),De(r,n)}return Re(t,e),Ie(t,[{key:"componentDidCatch",value:function(e,t){at("componentDidCatch",{error:e,info:t}),this.setState({})}},{key:"componentDidMount",value:function(){y()(this.ref.current).document.addEventListener("selectionchange",this.onNativeSelectionChange),oe&&this.ref.current.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection(),this.props.onEvent("onComponentDidMount")}},{key:"componentWillUnmount",value:function(){var e=y()(this.ref.current);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),oe&&this.ref.current.removeEventListener("beforeinput",this.handlers.onBeforeInput),this.props.onEvent("onComponentWillUnmount")}},{key:"componentDidUpdate",value:function(){at.update("componentDidUpdate"),this.updateSelection(),this.props.onEvent("onComponentDidUpdate")}},{key:"onEvent",value:function(e,t){if(at("onEvent",e),!this.tmp.isUpdatingSelection||"onSelect"!==e&&"onBlur"!==e&&"onFocus"!==e){if(!ee&&"onSelect"===e){var n=this.props.editor,r=n.value.selection,o=y()(t.target).getSelection(),i=n.findRange(o);if(i&&i.equals(r.toRange()))return void this.updateSelection()}if("onDragEnd"===e||"onDragEnter"===e||"onDragExit"===e||"onDragLeave"===e||"onDragOver"===e||"onDragStart"===e||"onDrop"===e)if(t.target.closest(Ce.EDITOR)!==this.ref.current)return;("onBeforeInput"!==e&&"onBlur"!==e&&"onCompositionEnd"!==e&&"onCompositionStart"!==e&&"onCopy"!==e&&"onCut"!==e&&"onFocus"!==e&&"onInput"!==e&&"onKeyDown"!==e&&"onKeyUp"!==e&&"onPaste"!==e&&"onSelect"!==e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function(){var e,t=this.props,n=this.handlers,r=t.id,i=t.className,a=t.readOnly,u=t.editor,s=t.tabIndex,c=t.role,l=t.tagName,f=t.spellCheck,d=u.value,h=l,p=d.document,v=d.selection,y=Fe({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},a?{}:{WebkitUserModify:"read-write-plaintext-only"},t.style);at("render",{props:t}),this.props.onEvent("onRender");var _=(Be(e={},je.EDITOR,!0),Be(e,je.KEY,p.key),e);return o.a.createElement(h,Fe({key:this.props.contentKey},n,_,{ref:this.setRef,contentEditable:!a||null,suppressContentEditableWarning:!0,id:r,className:i,autoCorrect:t.autoCorrect?"on":"off",spellCheck:f,style:y,role:a?null:c||"textbox",tabIndex:s,"data-gramm":!1}),o.a.createElement(Qe,{annotations:d.annotations,block:null,decorations:Object(ue.List)(),editor:u,node:p,parent:null,readOnly:a,selection:v,ref:this.tmp.nodeRef}))}}]),t}(o.a.Component);ut.propTypes={autoCorrect:a.a.bool.isRequired,className:a.a.string,contentKey:a.a.number,editor:a.a.object.isRequired,id:a.a.string,readOnly:a.a.bool.isRequired,role:a.a.string,spellCheck:a.a.bool.isRequired,style:a.a.object,tabIndex:a.a.number,tagName:a.a.string},ut.defaultProps={style:{},tagName:"div"};var st=[].concat(Le(Ne),["commands","decorateNode","queries","renderAnnotation","renderBlock","renderDecoration","renderDocument","renderEditor","renderInline","renderMark","schema"]);function ct(){return{queries:{findDOMNode:function(e,t){t=u.PathUtils.create(t);var n=e.tmp.contentRef.current;return n?t.size?function e(t,n){if(!t)return null;if(!n.size)return t.ref?t.ref.current||null:t||null;var r=n.first(),o=n.rest();return e(t.tmp.nodeRefs[r],o)}(n.tmp.nodeRef.current,t):n.ref.current||null:null},findDOMPoint:function(e,t){var n=e.findDOMNode(t.path),r=0;if(!n)return null;var o=Array.from(n.querySelectorAll(Ce.STRING+", "+Ce.ZERO_WIDTH)),i=!0,a=!1,u=void 0;try{for(var s,c=o[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,f=l.childNodes[0],d=f.textContent.length,h=d;l.hasAttribute(je.LENGTH)&&(h=parseInt(l.getAttribute(je.LENGTH),10));var p=r+h;if(t.offset<=p)return{node:f,offset:Math.min(d,Math.max(0,t.offset-r))};r=p}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}return null},findDOMRange:function(e,t){var n=t.anchor,r=t.focus,o=t.isBackward,i=t.isCollapsed,a=e.findDOMPoint(n),u=i?a:e.findDOMPoint(r);if(!a||!u)return null;var s=y()(a.node).document.createRange(),c=o?u:a,l=o?a:u;return s.setStart(c.node,c.offset),s.setEnd(l.node,l.offset),s},findEventRange:function(e,t){t.nativeEvent&&(t=t.nativeEvent);var n=t,r=n.clientX,o=n.clientY,i=n.target;if(null==r||null==o)return null;var a=e.value.document,u=e.findPath(t.target);if(!u)return null;var s=a.getNode(u);if(e.isVoid(s)){var c=i.getBoundingClientRect(),l="inline"===s.object?r-c.left<c.left+c.width-r:o-c.top<c.top+c.height-o,f=a.createRange(),d=l?"moveToEndOfNode":"moveToStartOfNode",h=a[l?"getPreviousText":"getNextText"](u);return h?f[d](h):null}var p=y()(i),v=void 0;if(p.document.caretRangeFromPoint)v=p.document.caretRangeFromPoint(r,o);else if(p.document.caretPositionFromPoint){var _=p.document.caretPositionFromPoint(r,o);(v=p.document.createRange()).setStart(_.offsetNode,_.offset),v.setEnd(_.offsetNode,_.offset)}else if(p.document.body.createTextRange){v=p.document.body.createTextRange();try{v.moveToPoint(r,o)}catch(e){return null}}return e.findRange(v)},findNode:function(e,t){var n=e.findPath(t);return n?e.value.document.getNode(n):null},findPath:function(e,t){var n=e.tmp.contentRef.current,r=t;if(r.hasAttribute(je.KEY)||(r=r.closest(Ce.KEY)),!r||!r.getAttribute(je.KEY))return null;if(r===n.ref.current)return u.PathUtils.create([]);var o=function e(t,n){if(r===t)return n;if(!t.ref)return null;if(r===t.ref.current)return n;if(!t.tmp)return null;var o=t.tmp.nodeRefs,i=Object.keys(o),a=!0,u=!1,s=void 0;try{for(var c,l=i[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=o[f],h=parseInt(f,10),p=e(d,[].concat(Le(n),[h]));if(p)return p}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return null}(n.tmp.nodeRef.current,[]);return o?u.PathUtils.create(o):null},findPoint:function(e,t,n){var r=function(e,t){if(1===e.nodeType&&e.childNodes.length){var n=t===e.childNodes.length,r=n?"backward":"forward",o=n?t-1:t;for(e=lt(e,o,r);1===e.nodeType&&e.childNodes.length;){var i=n?e.childNodes.length-1:0;e=lt(e,i,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(t,n),o=r.node,i=r.offset,a=y()(t),u=o.parentNode,s=u.closest(Ce.LEAF),c=void 0,l=void 0,f=void 0;if(s){c=s.closest(Ce.TEXT);var d=a.document.createRange();d.setStart(c,0),d.setEnd(o,i);var h=d.cloneContents(),p=h.querySelectorAll(Ce.ZERO_WIDTH);Array.from(p).forEach(function(e){e.parentNode.removeChild(e)}),l=h.textContent.length,f=c}else{var v=u.closest(Ce.VOID);if(!v)return null;if(!(s=v.querySelector(Ce.LEAF)))return null;c=s.closest(Ce.TEXT),l=(f=s).textContent.length}l===f.textContent.length&&u.hasAttribute(je.ZERO_WIDTH)&&l--;var _=e.findPath(c);return _?e.value.document.createPoint({path:_,offset:l}):null},findRange:function(e,t){var n=t.anchorNode||t.startContainer;if(!n)return null;var r=y()(n);(t instanceof r.Range||r.StaticRange&&t instanceof r.StaticRange)&&(t={anchorNode:t.startContainer,anchorOffset:t.startOffset,focusNode:t.endContainer,focusOffset:t.endOffset});var o=t,i=o.anchorNode,a=o.anchorOffset,u=o.focusNode,s=o.focusOffset,c=o.isCollapsed,l=e.value,f=e.findPoint(i,a),d=c?f:e.findPoint(u,s);return f&&d?l.document.createRange({anchor:f,focus:d}):null},findSelection:function(e,t){var n=e.value,r=n.document;if(!t.rangeCount)return null;var o=e.findRange(t);if(!o)return null;var i=o,a=i.anchor,s=i.focus,c=r.getNode(a.path),l=r.getNode(s.path),f=r.getClosestInline(a.path),d=r.getClosestInline(s.path),h=r.getClosestBlock(s.path),p=r.getClosestBlock(a.path);if(p&&!e.isVoid(p)&&0===a.offset&&h&&e.isVoid(h)&&0!==s.offset&&(o=o.setFocus(s.setOffset(0))),f&&!e.isVoid(f)&&a.offset===c.text.length){var v=r.getClosestBlock(a.path),y=r.getDepth(v.key),_=u.PathUtils.drop(a.path,y),m=v.texts({path:_}),g=Me(m,1)[0];if(g){var b=Me(g,2)[1],k=a.path.slice(0,y).concat(b);o=o.moveAnchorTo(k,0)}}if(d&&!e.isVoid(d)&&s.offset===l.text.length){var w=r.getClosestBlock(s.path),x=r.getDepth(w.key),O=u.PathUtils.drop(s.path,x),E=w.texts({path:O}),S=Me(E,1)[0];if(S){var A=Me(S,2)[1],T=s.path.slice(0,x).concat(A);o=o.moveFocusTo(T,0)}}var N=r.createSelection(o);return N=(N=N.setIsFocused(!0)).set("marks",n.selection.marks)}}}}function lt(e,t,n){for(var r=e.childNodes,o=r[t],i=t,a=!1,u=!1;(8===o.nodeType||1===o.nodeType&&0===o.childNodes.length||1===o.nodeType&&"false"===o.getAttribute("contenteditable"))&&(!a||!u);)i>=r.length?(a=!0,i=t-1,n="backward"):i<0?(u=!0,i=t+1,n="forward"):(o=r[i],"forward"===n&&i++,"backward"===n&&i--);return o||null}function ft(e,t,n){Object(p.a)(!1,"As of slate-react@0.22 the `findPoint(node, offset)` helper is deprecated in favor of `editor.findPoint(node, offset)`."),Object(se.a)(!u.Value.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var r=function(e,t){if(1===e.nodeType&&e.childNodes.length){var n=t===e.childNodes.length,r=n?"backward":"forward",o=n?t-1:t;for(e=dt(e,o,r);1===e.nodeType&&e.childNodes.length;){var i=n?e.childNodes.length-1:0;e=dt(e,i,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,t),o=r.node,i=r.offset,a=y()(e),s=o.parentNode,c=s.closest(Ce.LEAF),l=void 0,f=void 0;if(c){var d=a.document.createRange(),h=c.closest(Ce.TEXT);d.setStart(h,0),d.setEnd(o,i),f=h,l=d.cloneContents().textContent.length}else{var v=s.closest(Ce.VOID);if(!v)return null;if(!(c=v.querySelector(Ce.LEAF)))return null;l=(f=c).textContent.length}l===f.textContent.length&&s.hasAttribute(je.ZERO_WIDTH)&&l--;var _=c.getAttribute(je.OFFSET_KEY);if(!_)return null;var m=Ue.parse(_).key,g=n.value;return g.document.hasDescendant(m)?g.document.createPoint({key:m,offset:l}):null}function dt(e,t,n){for(var r=e.childNodes,o=r[t],i=t,a=!1,u=!1;(8===o.nodeType||1===o.nodeType&&0===o.childNodes.length||1===o.nodeType&&"false"===o.getAttribute("contenteditable"))&&(!a||!u);)i>=r.length?(a=!0,i=t-1,n="backward"):i<0?(u=!0,i=t+1,n="forward"):(o=r[i],"forward"===n&&i++,"backward"===n&&i--);return o||null}function ht(e,t){Object(p.a)(!1,"As of slate-react@0.22 the `findRange(selection)` helper is deprecated in favor of `editor.findRange(selection)`."),Object(se.a)(!u.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.anchorNode||e.startContainer;if(!n)return null;var r=y()(n);(e instanceof r.Range||r.StaticRange&&e instanceof r.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var o=e,i=o.anchorNode,a=o.anchorOffset,s=o.focusNode,c=o.focusOffset,l=o.isCollapsed,f=t.value,d=ft(i,a,t),h=l?d:ft(s,c,t);return d&&h?f.document.createRange({anchor:d,focus:h}):null}function pt(e,t,n){Object(p.a)(!1,"As of slate-react@0.22 the `getSelectionFromDOM(window, editor, domSelection)` helper is deprecated in favor of `editor.findSelection(domSelection)`.");var r=t.value,o=r.document;if(n.rangeCount){var i=ht(n,t);if(i){var a=i,s=a.anchor,c=a.focus,l=o.getNode(s.path),f=o.getNode(c.path),d=o.getClosestInline(s.path),h=o.getClosestInline(c.path),v=o.getClosestBlock(c.path),y=o.getClosestBlock(s.path);if(y&&!t.isVoid(y)&&0===s.offset&&v&&t.isVoid(v)&&0!==c.offset&&(i=i.setFocus(c.setOffset(0))),d&&!t.isVoid(d)&&s.offset===l.text.length){var _=o.getClosestBlock(s.path),m=o.getDepth(_.key),g=u.PathUtils.drop(s.path,m),b=_.texts({path:g}),k=Me(b,1)[0];if(k){var w=Me(k,2)[1],x=s.path.slice(0,m).concat(w);i=i.moveAnchorTo(x,0)}}if(h&&!t.isVoid(h)&&c.offset===f.text.length){var O=o.getClosestBlock(c.path),E=o.getDepth(O.key),S=u.PathUtils.drop(c.path,E),A=O.texts({path:S}),T=Me(A,1)[0];if(T){var N=Me(T,2)[1],j=c.path.slice(0,E).concat(N);i=i.moveFocusTo(j,0)}}var C=o.createSelection(i);return C=(C=C.setIsFocused(!0)).set("marks",r.selection.marks)}}else t.blur()}function vt(e,t){return e.nodeType===t.Node.TEXT_NODE}function yt(e,t){if(!e.length)throw new Error("elements must be an Array");var n=e[e.length-1];return{elements:e.map(function(e){return function e(t,n){var r={};return r.node=t,vt(t,n)&&(r.text=t.textContent),r.children=Array.from(t.childNodes).map(function(t){return e(t,n)}),r}(e,t)}),parent:n.parentElement,next:n.nextElementSibling}}function _t(e,t){var n=e.elements,r=e.next,o=e.parent;n.forEach(function(e){return function e(t,n){var r=t.node;vt(r,n)&&r.textContent!==t.text&&(r.textContent=t.text),t.children.forEach(function(t){e(t,n),r.appendChild(t.node)});for(var o=t.children.length;r.childNodes.length>o;)r.removeChild(r.childNodes[0]);var i=r.dataset;if(i){var a=i.key;if(a){var u=new n.Set(Array.from(n.document.querySelectorAll("["+je.KEY+'="'+a+'"]')));u.delete(r),u.forEach(function(e){return e.parentElement.removeChild(e)})}}}(e,t)});var i=n[n.length-1].node;e.next?o.insertBefore(i,r):o.appendChild(i);for(var a=i,u=n.length-2;u>=0;u--){var s=n[u].node;o.insertBefore(s,a),a=s}}var mt=function(){function e(t,n){Pe(this,e),this.window=y()(t[0]),this.snapshot=yt(t,this.window),this.data=n}return Ie(e,[{key:"apply",value:function(){_t(this.snapshot,this.window)}},{key:"getData",value:function(){return this.data}}]),e}();function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return e.nodeType===n.Node.TEXT_NODE&&(e=e.parentNode),e.closest(t)}var bt=function(){function e(t,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).before,o=void 0!==r&&r;Pe(this,e);var i=t.getSelection(),a=gt(i.anchorNode,Ce.EDITOR+" > *"),u=[a];if(o){var s=a.previousElementSibling;s&&u.unshift(s)}this.snapshot=new mt(u),this.selection=n.findSelection(i)}return Ie(e,[{key:"apply",value:function(e){var t=this.snapshot,n=this.selection;t.apply(),e.moveTo(n.anchor.path,n.anchor.offset)}}]),e}();function kt(){}var wt=function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Pe(this,e),this.__call__=function(){r.fn(),r.preventFurtherCalls()},this.preventFurtherCalls=function(){r.fn=kt},this.resume=function(e){r.cancel(),e?(r.mode="timeout",r.timeoutId=r.window.setTimeout(r.__call__,e)):(r.mode="animationFrame",r.callbackId=r.window.requestAnimationFrame(r.__call__))},this.cancel=function(){"timeout"===r.mode?r.window.clearTimeout(r.timeoutId):r.window.cancelAnimationFrame(r.callbackId),r.onCancel&&r.onCancel()},this.__setTimeout__=function(e){null!=e&&r.window.setTimeout(function(){r.cancel(),r.preventFurtherCalls()},e)},this.fn=n,this.window=t,this.resume(),this.onCancel=o.onCancel,this.__setTimeout__(o.timeout)},xt=h()("slate:android");xt.reconcile=h()("slate:reconcile"),xt("ANDROID_API_VERSION",{ANDROID_API_VERSION:re});var Ot=0,Et=1;function St(){var e=Ot,t=new window.Set,n=null,r=null,o=null,i=null,a=!1,u=null;function s(e,n,r){var o=r.from;xt.reconcile({from:o});var i=e.getSelection(),a=n.findSelection(i);t.forEach(function(e){n.reconcileDOMNode(e)}),n.select(a),t.clear()}return{onBeforeInput:function(t,o,s){var c=!t.nativeEvent;xt("onBeforeInput",{isNative:c,event:t,status:e,e:le()(t,["data","inputType","isComposing","nativeEvent"])});var l=y()(t.target);if(a)return t.preventDefault(),void(a=!1);switch(re){case 25:break;case 26:case 27:if(i&&(i.cancel(),r.resume()),c){if("insertParagraph"===t.inputType||"insertLineBreak"===t.inputType){xt("onBeforeInput:enter:native",{});var f=l.getSelection(),d=pt(0,o,f);a=!0,t.preventDefault(),o.moveTo(d.anchor.path,d.anchor.offset),o.splitBlock()}}else{if(function(e,t){if(!Array.isArray(t))throw new Error("chars must be an array of one character strings");if(null==e)return!1;var n=e[e.length-1];return t.includes(n)}(t.data,["."]))return xt("onBeforeInput:period"),r.cancel(),void(u="period");(function(e){return null!=e&&10===e[e.length-1].charCodeAt(0)})(t.data)&&(r&&r.cancel(),l.requestAnimationFrame(function(){xt("onBeforeInput:enter:react",{}),n.apply(o),o.splitBlock()}))}break;case 28:i&&(i.cancel(),r.resume());break;default:e!==Et&&s()}},onCompositionEnd:function(o,i,a){xt("onCompositionEnd",{event:o});var c=y()(o.target),l=c.getSelection().anchorNode;switch(re){case 26:case 27:n=new bt(c,i),e=Et}u="reconcile",t.add(l),r=new wt(c,function(){e=Ot,s(c,i,{from:"onCompositionEnd:reconciler"}),u=null})},onCompositionStart:function(n,r,o){xt("onCompositionStart",{event:n}),e=Et,t.clear()},onCompositionUpdate:function(e,t,n){xt("onCompositionUpdate",{event:e})},onInput:function(n,a,c){switch(xt("onInput",{event:n,status:e,e:le()(n,["data","nativeEvent","inputType","isComposing"])}),re){case 24:case 25:break;case 26:case 27:case 28:var l=n.nativeEvent;if(28===re&&"insertText"===l.inputType&&" "===l.data)return r&&r.cancel(),i&&i.cancel(),void s(window,a,{from:"onInput:space"});if((26===re||27===re)&&"period"===u){xt("onInput:period:abort");var f=window.getSelection().anchorNode;return void t.add(f)}if("deleteContentBackward"===l.inputType){xt("onInput:delete",{keyDownSnapshot:o});var d=y()(n.target);return r&&r.cancel(),i&&i.cancel(),void(i=new wt(d,function(){xt("onInput:delete:callback",{keyDownSnapshot:o}),o.apply(a),a.deleteBackward(),i=null},{onCancel:function(){i=null}}))}if(e===Et){var h=window.getSelection().anchorNode;return void t.add(h)}if(28===re){xt("onInput:fallback");var p=window.getSelection().anchorNode;return t.add(p),void window.requestAnimationFrame(function(){xt("onInput:fallback:callback"),s(window,a,{from:"onInput:fallback"})})}break;default:if(e===Et)return;c()}},onKeyDown:function(t,a,u){xt("onKeyDown",{event:t,status:e,e:le()(t,["char","charCode","code","key","keyCode","keyIdentifier","keyLocation","location","nativeEvent","which"])});var c=y()(t.target);switch(re){case 25:"Enter"===t.key&&u();break;case 26:case 27:if("Enter"===t.key){if(xt("onKeyDown:enter",{}),i)i.cancel(),t.preventDefault(),c.requestAnimationFrame(function(){xt("onKeyDown:enter:callback"),n.apply(a),a.splitBlock()});else{t.preventDefault();var l=c.getSelection(),f=pt(0,a,l);a.moveTo(f.anchor.path,f.anchor.offset),a.splitBlock()}return}o=new bt(c,a,{before:!0});break;case 28:if("Enter"===t.key)return xt("onKeyDown:enter"),t.preventDefault(),r&&r.cancel(),i&&i.cancel(),void c.requestAnimationFrame(function(){s(c,a,{from:"onKeyDown:enter"}),a.splitBlock()});o=new bt(c,a,{before:!0}),xt("onKeyDown:snapshot",{keyDownSnapshot:o});break;default:e!==Et&&u()}},onSelect:function(t,n,r){switch(xt("onSelect",{event:t,status:e}),re){case 26:case 27:case 28:!function(e){var t=e.getSelection(),n=t.anchorNode,r=n.parentElement.dataset;if(r&&"n"===r.slateZeroWidth&&1===n.textContent.length&&0!==t.anchorOffset){var o=e.document.createRange();o.setStart(n,0),o.setEnd(n,0),t.removeAllRanges(),t.addRange(o)}}(y()(t.target))}}}}var At={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Object(p.a)(!1,"As of slate-react@0.22 the `findDOMNode(key)` helper is deprecated in favor of `editor.findDOMNode(path)`."),u.Node.isNode(e)&&(e=e.key);var n=t.document.querySelector("["+je.KEY+'="'+e+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}var Nt=At.FRAGMENT,jt=At.HTML,Ct=At.TEXT;function Pt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Object(se.a)(!u.Value.isValue(t),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var r=y()(e.target),o=r.getSelection(),i=t.value,a=i.document,s=i.fragment,c=i.selection,l=c.start,f=c.end,d=a.getClosestVoid(l.path,t),h=a.getClosestVoid(f.path,t);if(!o.isCollapsed||d){var p=pe.serializeNode(s),v=o.getRangeAt(0),_=v.cloneContents(),m=_.childNodes[0];if(_.childNodes.forEach(function(e){e.textContent&&""!==e.textContent.trim()&&(m=e)}),h){var g=v.cloneRange(),b=Tt(h,r);g.setEndAfter(b),_=g.cloneContents()}if(d&&(m=_.childNodes[0].childNodes[1].firstChild),[].slice.call(_.querySelectorAll(Ce.ZERO_WIDTH)).forEach(function(e){var t="n"===e.getAttribute(je.ZERO_WIDTH);e.textContent=t?"\n":""}),3===m.nodeType){var k=r.document.createElement("span");k.style.whiteSpace="pre",k.appendChild(m),_.appendChild(k),m=k}m.setAttribute(je.FRAGMENT,p);var w=u.Value.create({document:s}),x=_e.serialize(w),O=r.document.createElement("div");if(O.appendChild(_),e.clipboardData&&e.clipboardData.setData&&!Q)return e.preventDefault(),e.clipboardData.setData(Ct,x),e.clipboardData.setData(Nt,p),e.clipboardData.setData(jt,O.innerHTML),void n();var E=e.target.closest(Ce.EDITOR);O.setAttribute("contenteditable",!0),O.style.position="absolute",O.style.left="-9999px",E.appendChild(O),o.selectAllChildren(O),r.requestAnimationFrame(function(){E.removeChild(O),ot(o),o.addRange(v),n()})}}var It=At.FRAGMENT,Bt=At.HTML,Ft=At.NODE,Rt=At.RICH,Dt=At.TEXT,Mt=/ data-slate-fragment="([^\s"]+)"/;function Lt(e){!Q&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=zt(t,It),r=zt(t,Ft),o=zt(t,Bt),i=zt(t,Rt),a=zt(t,Dt),u=void 0;if(!n&&o&&~o.indexOf(" "+je.FRAGMENT+'="')){var s=Mt.exec(o),c=Me(s,2),l=(c[0],c[1]);l&&(n=l)}if(a){var f=function(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!==t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(e){throw new Error("Unable to parse custom Slate drag event data.")}}(a);f[It]&&(n=f[It]),f[Ft]&&(r=f[Ft]),f[Dt]&&(a=f[Dt])}n&&(n=pe.deserializeNode(n)),r&&(r=pe.deserializeNode(r));try{t.items&&t.items.length?u=Array.from(t.items).map(function(e){return"file"===e.kind?e.getAsFile():null}).filter(function(e){return e}):t.files&&t.files.length&&(u=Array.from(t.files))}catch(e){t.files&&t.files.length&&(u=Array.from(t.files))}var d={files:u,fragment:n,html:o,node:r,rich:i,text:a};return d.type=function(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(d),d}function zt(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t===Dt&&e.getData("Text")||null}var Ut=At.TEXT;function qt(e,t,n){var r=At[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(e){var i="SLATE-DATA-EMBED::",a=o.getData(Ut),u={};if(a.substring(0,i.length)===i)try{u=JSON.parse(a.substring(i.length))}catch(e){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else u[Ut]=a;u[r]=n;var s=""+i+JSON.stringify(u);o.setData(Ut,s)}}var Kt=h()("slate:after");var Wt=h()("slate:before");function Jt(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,t=void 0===e?[]:e,n=function(){var e=null,t=0,n=!1,r=!1,o=!1;return{onBeforeInput:function(e,t,n){var r=!!e.nativeEvent;t.readOnly||r&&oe||(Wt("onBeforeInput",{event:e}),n())},onBlur:function(t,n,o){if(!r&&!n.readOnly){var i=t.relatedTarget,a=t.target,u=y()(a);if(e!==u.document.activeElement){if(i){var s=n.findDOMNode([]);if(i===s)return;if(i.hasAttribute(je.SPACER))return;var c=n.findNode(i);if(s.contains(i)&&c&&!n.isVoid(c))return}Wt("onBlur",{event:t}),o()}}},onClick:function(e,t,n){Wt("onClick",{event:e}),n()},onCompositionEnd:function(e,r,o){var i=t;window.requestAnimationFrame(function(){t>i||(n=!1)}),Wt("onCompositionEnd",{event:e}),o()},onCompositionStart:function(e,r,o){n=!0,t++,r.value.selection.isCollapsed||r.delete(),Wt("onCompositionStart",{event:e}),o()},onCopy:function(e,t,n){var o=y()(e.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),Wt("onCopy",{event:e}),n()},onCut:function(e,t,n){if(!t.readOnly){var o=y()(e.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),Wt("onCut",{event:e}),n()}},onDragEnd:function(e,t,n){o=!1,Wt("onDragEnd",{event:e}),n()},onDragEnter:function(e,t,n){Wt("onDragEnter",{event:e}),n()},onDragExit:function(e,t,n){Wt("onDragExit",{event:e}),n()},onDragLeave:function(e,t,n){Wt("onDragLeave",{event:e}),n()},onDragOver:function(e,t,n){var r=t.findNode(e.target);r&&!t.isVoid(r)||e.preventDefault(),Q&&e.preventDefault(),o||(o=!0,Q||(e.nativeEvent.dataTransfer.dropEffect="move")),Wt("onDragOver",{event:e}),n()},onDragStart:function(e,t,n){o=!0,Wt("onDragStart",{event:e}),n()},onDrop:function(e,t,n){t.readOnly||(e.preventDefault(),Wt("onDrop",{event:e}),n())},onFocus:function(t,n,o){if(!r&&!n.readOnly){var i=n.findDOMNode([]),a=y()(t.target);e=a.document.activeElement,$&&t.target!==i?i.focus():(Wt("onFocus",{event:t}),o())}},onInput:function(e,t,r){n||t.value.selection.isBlurred||(Wt("onInput",{event:e}),r())},onKeyDown:function(e,t,r){t.readOnly||(n?Ee.isCompose(e)&&e.preventDefault():(!te&&(Ee.isBold(e)||Ee.isDeleteBackward(e)||Ee.isDeleteForward(e)||Ee.isDeleteLineBackward(e)||Ee.isDeleteLineForward(e)||Ee.isDeleteWordBackward(e)||Ee.isDeleteWordForward(e)||Ee.isItalic(e)||Ee.isRedo(e)||Ee.isSplitBlock(e)||Ee.isTransposeCharacter(e)||Ee.isUndo(e))&&e.preventDefault(),Wt("onKeyDown",{event:e}),r()))},onPaste:function(e,t,n){t.readOnly||(e.preventDefault(),Wt("onPaste",{event:e}),n())},onSelect:function(t,o,i){if(!r&&!n&&!o.readOnly){var a=y()(t.target);e=a.document.activeElement,Wt("onSelect",{event:t}),i()}}}}(),r=function(){var e=null,t=!1;return{onBeforeInput:function(e,t,n){var r=t.value;if(e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var o=e.getTargetRanges(),i=Me(o,1)[0];if(!i)return n();Kt("onBeforeInput",{event:e}),e.preventDefault();var a=r.document,u=r.selection,s=t.findRange(i);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(s);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(s);break;case"deleteWordForward":t.deleteWordForwardAtRange(s);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(s);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(s);break;case"insertLineBreak":case"insertParagraph":a.hasVoidParent(u.start.path,t)?t.moveToStartOfNextText():t.splitBlockAtRange(s);break;case"insertFromYank":case"insertReplacementText":case"insertText":var c=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==c)break;t.insertTextAtRange(s,c,u.marks),u.marks&&r.document!==t.value.document&&t.select({marks:null})}n()},onBlur:function(e,t,n){Kt("onBlur",{event:e}),t.blur(),n()},onClick:function(e,t,n){if(t.readOnly)return n();var r=t.value.document,o=t.findPath(e.target);if(!o)return n();Kt("onClick",{event:e});var i=r.getNode(o),a=r.getAncestors(o);i&&(t.isVoid(i)||a.some(function(e){return t.isVoid(e)}))&&t.focus().moveToEndOfNode(i),n()},onCopy:function(e,t,n){Kt("onCopy",{event:e}),Pt(e,t),n()},onCut:function(e,t,n){Kt("onCut",{event:e}),Pt(e,t,function(){var e=t.value,n=e.document,r=e.selection,o=r.end,i=void 0;if(r.isCollapsed){var a=!0,u=!1,s=void 0;try{for(var c,l=n.ancestors(o.path)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=Me(f,2),h=d[0],p=d[1];if(t.isVoid(h)){i=p;break}}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}i?t.removeNodeByKey(i):t.delete()}),n()},onDragEnd:function(t,n,r){Kt("onDragEnd",{event:t}),e=null,r()},onDragStart:function(t,n,r){Kt("onDragStart",{event:t}),e=!0;var o=n.value,i=o.document,a=n.findPath(t.target),u=i.getNode(a),s=i.getAncestors(a),c=u&&(n.isVoid(u)||s.some(function(e){return n.isVoid(e)})),l=o.blocks.some(function(e){return e===u});c&&!l&&n.moveToRangeOfNode(u);var f=n.value.fragment;qt(t,"fragment",pe.serializeNode(f)),r()},onDrop:function(t,n,r){var o=n.value,i=o.document,a=o.selection,u=y()(t.target),s=n.findEventRange(t);if(!s)return r();Kt("onDrop",{event:t});var c=Lt(t),l=c.type,f=c.fragment,d=c.text;if(n.focus(),e&&a.end.offset<s.end.offset&&a.end.path.equals(s.end.path)&&(s=s.moveForward(a.start.path.equals(a.end.path)?0-a.end.offset+a.start.offset:0-a.end.offset)),e&&n.delete(),n.select(s),"text"===l||"html"===l){var h=s.anchor,p=i.hasVoidParent(h.path,n);if(p){for(var v=h.path,_=i.getNode(h.path);p;){var m=i.texts({path:v}),g=Me(m,1)[0];if(!g)break;var b=Me(g,2);_=b[0],v=b[1],p=i.hasVoidParent(v,n)}_&&n.moveToStartOfNode(_)}d&&d.split("\n").forEach(function(e,t){t>0&&n.splitBlock(),n.insertText(e)})}"fragment"===l&&n.insertFragment(f);var k=n.findDOMNode(s.focus.path);k&&k.dispatchEvent(new MouseEvent("mouseup",{view:u,bubbles:!0,cancelable:!0})),r()},onFocus:function(e,n,r){Kt("onFocus",{event:e}),!t||Q||X?n.focus():n.deselect().focus(),r()},onInput:function(e,t,n){Kt("onInput");var r=y()(e.target).getSelection(),o=t.findSelection(r);o?t.select(o):t.blur();var i=r.anchorNode;t.reconcileDOMNode(i),n()},onKeyDown:function(e,t,n){Kt("onKeyDown",{event:e});var r=t.value,o=r.document,i=r.selection,a=i.start,u=o.hasVoidParent(a.path,t);if(Ee.isSplitBlock(e)&&!te)return u?t.moveToStartOfNextText():t.splitBlock();if(Ee.isDeleteBackward(e)&&!te)return t.deleteCharBackward();if(Ee.isDeleteForward(e)&&!te)return t.deleteCharForward();if(Ee.isDeleteLineBackward(e))return t.deleteLineBackward();if(Ee.isDeleteLineForward(e))return t.deleteLineForward();if(Ee.isDeleteWordBackward(e))return t.deleteWordBackward();if(Ee.isDeleteWordForward(e))return t.deleteWordForward();if(Ee.isRedo(e))return t.redo();if(Ee.isUndo(e))return t.undo();if(Ee.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(Ee.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(Ee.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(Ee.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(Ee.isMoveBackward(e))return e.preventDefault(),i.isCollapsed?t.moveBackward():t.moveToStart();if(Ee.isMoveForward(e))return e.preventDefault(),i.isCollapsed?t.moveForward():t.moveToEnd();if(Ee.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(Ee.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(Ee.isExtendBackward(e)){var s=o.getNode(a.path),c=o.texts({path:a.path,direction:"backward"}),l=Me(c,1)[0],f=!1;if(l){var d=Me(l,2)[1];f=o.hasVoidParent(d,t)}if(u||f||""===s.text)return e.preventDefault(),t.moveFocusBackward()}if(Ee.isExtendForward(e)){var h=o.getNode(a.path),p=o.texts({path:a.path}),v=Me(p,1)[0],y=!1;if(v){var _=Me(v,2)[1];y=o.hasVoidParent(_,t)}if(u||y||""===h.text)return e.preventDefault(),t.moveFocusForward()}n()},onMouseDown:function(e,n,r){Kt("onMouseDown",{event:e}),t=!0,r()},onMouseUp:function(e,n,r){Kt("onMouseUp",{event:e}),t=!1,r()},onPaste:function(e,t,n){Kt("onPaste",{event:e});var r=t.value,o=Lt(e),i=o.type,a=o.fragment,u=o.text;if("fragment"===i&&t.insertFragment(a),"text"===i||"html"===i){if(!u)return n();var s=r.document,c=r.selection,l=r.startBlock;if(t.isVoid(l))return n();var f=l,d=s.getInsertMarksAtRange(c),h=_e.deserialize(u,{defaultBlock:f,defaultMarks:d}).document;t.insertFragment(h)}n()},onSelect:function(e,n,r){Kt("onSelect",{event:e});var o=y()(e.target).getSelection(),i=n.findSelection(o);i?n.select(i):n.blur(),t=!1,r()}}}(),o=ee?[St()]:[];return[].concat(o,[n],Le(t),[r])}function Vt(e){var t=e.nativeEvent||e;switch(t.type){case"keydown":return t.type+" "+JSON.stringify(t.key);case"input":case"beforeinput":case"textInput":return t.type+":"+t.inputType+" "+JSON.stringify(t.data);default:return t.type}}var Gt=h()("slate:events");var Yt=2e3,Ht=h()("slate:batch-events");var $t=h()("slate:mutations"),Zt=["type","oldValue","target","addedNodes","removedNodes","attributeName","attributeNamespace","nextSibling","previousSibling"];function Qt(e){if(e.nodeType===window.Node.TEXT_NODE)return e.textContent;if(e.nodeType===window.Node.ELEMENT_NODE){var t=e.outerHTML,n=e.innerHTML;return null==t?JSON.stringify(e.textContent):t.slice(0,t.indexOf(n))}return"Node(type="+e.nodeType}function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.placeholder,n=void 0===t?"":t,r=e.plugins,i=void 0===r?[]:r,a=h.a.enabled("slate:events")?function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=Ne[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)e[o.value]=function(e,t,n){var r=Vt(e);Gt(r),n()}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e}():null,u=h.a.enabled("slate:batch-events")?function(){var e=null,t=null,n=[];function r(){Ht("\n"+n.join("\n")),n.length=0}function o(o){0===n.length&&(e=new Date);var i=Vt(o),a=new Date;n.push("- "+(a-e)+" - "+i),clearTimeout(t),t=setTimeout(r,Yt)}var i={},a=!0,u=!1,s=void 0;try{for(var c,l=Ne[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i[c.value]=function(e,t,n){o(e),n()}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return i}():null,s=h.a.enabled("slate:mutations")?function(){var e=new window.MutationObserver(function(e){var t=Array.from(e).map(function(e){var t={};return Zt.forEach(function(n){var r=e[n];if(null!=r)if(r instanceof window.NodeList){if(0===r.length)return;t[n]=Array.from(r).map(Qt).join(", ")}else r instanceof window.Node&&(r=Qt(r)),t[n]=r}),t});$t.apply(void 0,[t.length+" Mutations"].concat(Le(t)))}),t=null;function n(n,r,o){var i=r.findDOMNode([]);if(i===t)return o();$t("start"),e.observe(i,{childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0}),t=i,o()}return{onComponentDidMount:n,onComponentDidUpdate:n,onComponentWillUnmount:function(n,r,o){$t("stop"),e.disconnect(),t=null,o()}}}():null,c={decorateNode:function(){return[]},renderAnnotation:function(e){var t=e.attributes,n=e.children;return o.a.createElement("span",t,n)},renderBlock:function(e){var t=e.attributes,n=e.children;return o.a.createElement("div",Fe({},t,{style:{position:"relative"}}),n)},renderDecoration:function(e){var t=e.attributes,n=e.children;return o.a.createElement("span",t,n)},renderDocument:function(e){return e.children},renderEditor:function(e){return e.children},renderInline:function(e){var t=e.attributes,n=e.children;return o.a.createElement("span",Fe({},t,{style:{position:"relative"}}),n)},renderMark:function(e){var t=e.attributes,n=e.children;return o.a.createElement("span",t,n)}},l={commands:{reconcileNode:function(e,t){var n=e.value,r=n.document,o=n.selection,i=r.getPath(t.key),a=e.findDOMNode(i),u=r.getClosestBlock(i),s=t.text,c=a.textContent,l=u.nodes.last()===t,f=c.charAt(c.length-1);if(l&&"\n"===f&&(c=c.slice(0,-1)),s!==c){var d=o.moveAnchorTo(i,0).moveFocusTo(i,s.length);d=r.resolveRange(d),e.insertTextAtRange(d,c,t.marks)}},reconcileDOMNode:function(e,t){var n=t.parentElement.closest("[data-key]"),r=e.findNode(n);e.reconcileNode(r)}}},f=ct();return[a,u,s,Jt({plugins:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return st.reduce(function(t,n){return n in e&&(t[n]=e[n]),t},{})}(e)].concat(Le(i))}),{commands:{restoreDOM:function(e){e.setState({contentKey:e.state.contentKey+1})}}},Object(Se.default)({placeholder:n,when:function(e,t){return"document"===t.object&&""===t.text&&1===t.nodes.size&&1===Array.from(t.texts()).length}}),c,l,f]}var en=h()("slate:editor"),tn=function(e){function t(){var e,n,r;Pe(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=De(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={value:r.props.defaultValue,contentKey:0},r.tmp={mounted:!1,change:null,resolves:0,updates:0,contentRef:o.a.createRef()},r.resolveController=Te(function(){var e=arguments[5];Object(p.a)(r.tmp.resolves<5||r.tmp.resolves!==r.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands`, `queries` or `placeholder` prop on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),r.tmp.resolves++;var t=e(Fe({},r.props,{editor:r,value:r.props.value||r.state.value}));r.controller=new u.Editor({plugins:[t],onChange:function(e){r.tmp.mounted?r.handleChange(e):r.tmp.change=e}},{controller:r,construct:!1}),r.controller.run("onConstruct")}),De(r,n)}return Re(t,e),Ie(t,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentWillUnmount",value:function(){this.tmp.mounted=!1}},{key:"render",value:function(){var e=this;en("render",this);var t=this.props,n=t.commands,r=t.placeholder,i=t.plugins,a=t.queries,u=t.schema;this.resolveController(i,u,n,a,r,Xt);var s=this.props,c=s.options,l=s.readOnly,f=s.value,d=this.state.value,h=f||d,p=this.state.contentKey;this.controller.setReadOnly(l),this.controller.setValue(h,c);var v=this.props,y=v.autoCorrect,_=v.className,m=v.id,g=v.role,b=v.spellCheck,k=v.tabIndex,w=v.style,x=v.tagName,O=o.a.createElement(ut,{ref:this.tmp.contentRef,autoCorrect:y,className:_,contentKey:p,editor:this,id:m,onEvent:function(t,n){return e.run(t,n)},readOnly:l,role:g,spellCheck:b,style:w,tabIndex:k,tagName:x});return this.controller.run("renderEditor",Fe({},this.props,{editor:this,children:O}))}},{key:"handleChange",value:function(e){var t=this.props.onChange;this.state.value&&this.setState({value:e.value}),t(e)}},{key:"applyOperation",value:function(){var e;return(e=this.controller).applyOperation.apply(e,arguments)}},{key:"command",value:function(){var e;return(e=this.controller).command.apply(e,arguments)}},{key:"hasCommand",value:function(){var e;return(e=this.controller).hasCommand.apply(e,arguments)}},{key:"hasQuery",value:function(){var e;return(e=this.controller).hasQuery.apply(e,arguments)}},{key:"normalize",value:function(){var e;return(e=this.controller).normalize.apply(e,arguments)}},{key:"query",value:function(){var e;return(e=this.controller).query.apply(e,arguments)}},{key:"registerCommand",value:function(){var e;return(e=this.controller).registerCommand.apply(e,arguments)}},{key:"registerQuery",value:function(){var e;return(e=this.controller).registerQuery.apply(e,arguments)}},{key:"run",value:function(){var e;return(e=this.controller).run.apply(e,arguments)}},{key:"withoutNormalizing",value:function(){var e;return(e=this.controller).withoutNormalizing.apply(e,arguments)}},{key:"call",value:function(){var e;return(e=this.controller).call.apply(e,arguments)}},{key:"change",value:function(){var e;return(e=this.controller).change.apply(e,arguments)}},{key:"onChange",value:function(){var e;return(e=this.controller).onChange.apply(e,arguments)}},{key:"applyOperations",value:function(){var e;return(e=this.controller).applyOperations.apply(e,arguments)}},{key:"setOperationFlag",value:function(){var e;return(e=this.controller).setOperationFlag.apply(e,arguments)}},{key:"getFlag",value:function(){var e;return(e=this.controller).getFlag.apply(e,arguments)}},{key:"unsetOperationFlag",value:function(){var e;return(e=this.controller).unsetOperationFlag.apply(e,arguments)}},{key:"withoutNormalization",value:function(){var e;return(e=this.controller).withoutNormalization.apply(e,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){Object(se.a)(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){Object(se.a)(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),t}(o.a.Component);function nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Object(p.a)(!1,"As of slate-react@0.22 the `findDOMPoint(point)` helper is deprecated in favor of `editor.findDOMPoint(point)`.");var n=Tt(e.key,t),r=0,o=Array.from(n.querySelectorAll(Ce.STRING+", "+Ce.ZERO_WIDTH)),i=!0,a=!1,u=void 0;try{for(var s,c=o[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,f=l.childNodes[0],d=f.textContent.length,h=d;l.hasAttribute(je.LENGTH)&&(h=parseInt(l.getAttribute(je.LENGTH),10));var v=r+h;if(e.offset<=v)return{node:f,offset:Math.min(d,Math.max(0,e.offset-r))};r=v}}catch(e){a=!0,u=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}return null}function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Object(p.a)(!1,"As of slate-react@0.22 the `findDOMRange(range)` helper is deprecated in favor of `editor.findDOMRange(range)`.");var n=e.anchor,r=e.focus,o=e.isBackward,i=e.isCollapsed,a=nn(n,t),u=i?a:nn(r,t);if(!a||!u)return null;var s=t.document.createRange(),c=o?u:a,l=o?a:u;return s.setStart(c.node,c.offset),s.setEnd(l.node,l.offset),s}function on(e,t){Object(p.a)(!1,"As of slate-react@0.22 the `findNode(element)` helper is deprecated in favor of `editor.findNode(element)`."),Object(se.a)(!u.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.closest(Ce.KEY);if(!n)return null;var r=n.getAttribute(je.KEY);return r&&t.value.document.getNode(r)||null}function an(e,t){Object(p.a)(!1,"As of slate-react@0.22 the `findPath(element)` helper is deprecated in favor of `editor.findPath(element)`.");var n=on(e,t);return n?t.value.document.getPath(n):null}function un(e,t){Object(p.a)(!1,"As of slate-react@0.22 the `getEventRange(event, editor)` helper is deprecated in favor of `editor.findEventRange(event)`."),Object(se.a)(!u.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var n=e,r=n.clientX,o=n.clientY,i=n.target;if(null==r||null==o)return null;var a=t.value.document,s=an(e.target,t);if(!s)return null;var c=a.getNode(s);if(t.isVoid(c)){var l=i.getBoundingClientRect(),f="inline"===c.object?r-l.left<l.left+l.width-r:o-l.top<l.top+l.height-o,d=a.createRange(),h=f?"moveToEndOfNode":"moveToStartOfNode",v=a[f?"getPreviousText":"getNextText"](s);return v?d[h](v):null}var _=y()(i),m=void 0;if(_.document.caretRangeFromPoint)m=_.document.caretRangeFromPoint(r,o);else if(_.document.caretPositionFromPoint){var g=_.document.caretPositionFromPoint(r,o);(m=_.document.createRange()).setStart(g.offsetNode,g.offset),m.setEnd(g.offsetNode,g.offset)}else if(_.document.body.createTextRange){m=_.document.body.createTextRange();try{m.moveToPoint(r,o)}catch(e){return null}}var b=ht(m,t);return b||null}tn.propTypes=Fe({autoCorrect:a.a.bool,autoFocus:a.a.bool,className:a.a.string,defaultValue:c.value,id:a.a.string,onChange:a.a.func,options:a.a.object,placeholder:a.a.any,plugins:a.a.array,readOnly:a.a.bool,role:a.a.string,schema:a.a.object,spellCheck:a.a.bool,style:a.a.object,tabIndex:a.a.number,value:c.value},Ne.reduce(function(e,t){return e[t]=a.a.func,e},{})),tn.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},placeholder:"",plugins:[],readOnly:!1,schema:{},spellCheck:!0};var sn={Editor:tn,cloneFragment:Pt,findDOMNode:Tt,findDOMPoint:nn,findDOMRange:rn,findNode:on,findPath:an,findPoint:ft,findRange:ht,getEventRange:un,getEventTransfer:Lt,setEventTransfer:qt,ReactPlugin:Xt};t.default=sn},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=(n(16),n(86)),a=n.n(i),u=n(84),s=n.n(u),c=n(5),l=n(85),f=n(6);function d(e){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=12,w={id:null,name:"",entities:[],editing:!1,color:!1},x=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=m(this,(e=g(t)).call.apply(e,[this].concat(o)))).nameInput=null,n.state=p({},w),n.onNameChange=function(e){n.setState({name:e.target.value.replace(/[^A-Z0-9_-]/gi,"_")})},n.onEntitiesChanged=function(e){n.setState({entities:e})},n.initializeFromProps=function(){n.props.slot?n.setState(p({},n.props.slot,{editing:!0})):n.resetState()},n.resetState=function(){return n.setState(p({},w))},n.getNextAvailableColor=function(){var e=_.get(_.maxBy(n.props.slots,"color"),"color")||0;return e<=k?e+1:s()(1,k)},n.onSave=function(e){e.preventDefault();var t=n.state.editing?"modified":"created",r={id:n.state.id||a()(),name:n.state.name,entities:n.state.entities,color:n.state.color||n.getNextAvailableColor()};n.props.onSlotSave&&n.props.onSlotSave(r,t),n.resetState(),n.props.onHide()},n.isValid=function(){return n.state.name&&n.state.name.length&&n.state.entities&&n.state.entities.length},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.Component),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"componentDidMount",value:function(){this.initializeFromProps()}},{key:"componentDidUpdate",value:function(e){e.slot!==this.props.slot&&this.initializeFromProps()}},{key:"render",value:function(){var e=this;return o.a.createElement(c.Dialog,{lazy:!0,title:this.state.editing?f.lang.tr("module.nlu.slots.editTitle"):f.lang.tr("module.nlu.slots.createTitle"),icon:"add",isOpen:this.props.show,onClose:this.props.onHide,onOpened:function(){return e.nameInput.focus()},transitionDuration:0},o.a.createElement("div",{className:c.Classes.DIALOG_BODY},o.a.createElement(c.FormGroup,{label:f.lang.tr("name")},o.a.createElement("input",{tabIndex:"1",ref:function(t){return e.nameInput=t},className:"".concat(c.Classes.INPUT," ").concat(c.Classes.FILL),value:this.state.name,placeholder:f.lang.tr("module.nlu.slots.namePlaceholder"),onChange:this.onNameChange})),o.a.createElement(c.FormGroup,{label:f.lang.tr("module.nlu.slots.entitiesLabel")},o.a.createElement(l.EntitySelector,{entities:this.state.entities,api:this.props.api,onChange:this.onEntitiesChanged}))),o.a.createElement("div",{className:c.Classes.DIALOG_FOOTER},o.a.createElement("div",{className:c.Classes.DIALOG_FOOTER_ACTIONS},o.a.createElement(c.Button,{onClick:this.onSave,tabIndex:3,intent:c.Intent.PRIMARY,disabled:!this.isValid()},(this.state.editing,f.lang.tr("module.nlu.slots.save"))))))}}]),t}(),O=n(11),E=n.n(O);function S(e){"@babel/helpers - typeof";return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=N(this,(e=j(t)).call.apply(e,[this].concat(o)))).handleDeleteClicked=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){A(i,r,o,a,u,"next",e)}function u(e){A(i,r,o,a,u,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(f.confirmDialog)(f.lang.tr("module.nlu.slots.deleteMessage"),{acceptLabel:f.lang.tr("delete")});case 3:if(!e.sent){e.next=5;break}n.props.onDelete&&n.props.onDelete(n.props.slot);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleEditClicked=function(e){e.preventDefault(),n.props.onEdit&&n.props.onEdit(n.props.slot)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,o.a.Component),function(e,t,n){t&&T(e.prototype,t),n&&T(e,n)}(t,[{key:"render",value:function(){var e=this.props.slot;return o.a.createElement("li",{className:E.a.entityItem},o.a.createElement(c.Tag,{className:E.a["label-colors-".concat(e.color)],round:!0,large:!0},e.name),o.a.createElement("a",{onClick:this.handleDeleteClicked,className:E.a.link},f.lang.tr("delete")),o.a.createElement("a",{onClick:this.handleEditClicked,className:E.a.link},f.lang.tr("edit")))}}]),t}();function I(e){"@babel/helpers - typeof";return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"default",function(){return L});var L=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=function(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?D(e):t}(this,(e=R(t)).call.apply(e,[this].concat(i)))).state={slotModalVisible:!1,editingSlotIdx:null},n.getSlots=function(){return n.props.slots},n.hideSlotModal=function(){n.setState({slotModalVisible:!1})},n.onSlotSave=function(e,t){var r=B(n.getSlots());r="modified"===t?[].concat(B(r.slice(0,n.state.editingSlotIdx)),[e],B(r.slice(n.state.editingSlotIdx+1))):[].concat(B(r),[e]);var o=null!==n.state.editingSlotIdx?n.props.slots[n.state.editingSlotIdx].name:"";n.props.onSlotsChanged&&n.props.onSlotsChanged(r,{operation:t,oldName:o,name:e.name})},n.onSlotDeleted=function(e){var t=B(n.getSlots().filter(function(t){return t.id!==e.id}));n.props.onSlotsChanged&&n.props.onSlotsChanged(t,{operation:"deleted",name:e.name})},n.showSlotModal=function(e){n.setState({slotModalVisible:!0,editingSlotIdx:e})},n.renderWithSlots=function(){var e=n.getSlots();return o.a.createElement("div",{className:E.a.slotsContainer},o.a.createElement("ul",null,e.map(function(e,t){return o.a.createElement(P,{key:e.id,slot:e,onDelete:n.onSlotDeleted,onEdit:n.showSlotModal.bind(D(n),t)})})),o.a.createElement(c.Button,{icon:"add",large:!0,onClick:n.showSlotModal.bind(D(n),null)},f.lang.tr("module.nlu.slots.new")))},n.renderWithoutSlots=function(){return o.a.createElement("div",{className:E.a.centerContainer},o.a.createElement(c.NonIdealState,{icon:"layers",description:f.lang.tr("module.nlu.slots.emptyState"),action:o.a.createElement(c.Button,{icon:"add",large:!0,onClick:n.showSlotModal.bind(D(n),null)},f.lang.tr("module.nlu.slots.new"))}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,o.a.Component),function(e,t,n){t&&F(e.prototype,t),n&&F(e,n)}(t,[{key:"render",value:function(){return o.a.createElement("div",{className:E.a.slotSidePanel},o.a.createElement(x,{api:this.props.api,axios:this.props.axios,show:this.state.slotModalVisible,slot:this.props.slots[this.state.editingSlotIdx],onSlotSave:this.onSlotSave,onHide:this.hideSlotModal,slots:this.getSlots()}),this.getSlots().length>0?this.renderWithSlots():this.renderWithoutSlots())}}]),t}()}]);